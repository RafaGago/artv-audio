#pragma once
// Generated by jsfx2cpp.py. To be manually corrected.
// includes for environment function calls
#include <algorithm>
#include <cmath>
#include <cstring>
#include <vector>

#include "artv-common/dsp/jsfx_engine/jsfx_engine.hpp"
#include "artv-common/dsp/own/classes/misc.hpp"
#include "artv-common/dsp/own/classes/plugin_context.hpp"
#include "artv-common/dsp/types.hpp"
#include "artv-common/juce/parameter_definitions.hpp"
#include "artv-common/juce/parameter_types.hpp"
#include "artv-common/misc/mp11.hpp"
#include "artv-common/misc/short_ints.hpp"
#include "artv-common/misc/util.hpp"

#error "Uncompiled! Untested! Attack/Release display in ms not done"

namespace artv { namespace saike {

class tight_compressor {
public:
  //----------------------------------------------------------------------------
  static constexpr dsp_types dsp_type  = dsp_types::dynamics;
  static constexpr bus_types bus_type  = bus_types::stereo;
  static constexpr uint      n_inputs  = 1;
  static constexpr uint      n_outputs = 1;
  //----------------------------------------------------------------------------
private:
  //----------------------------------------------------------------------------
  // definitions for environment function calls
  static double eel2_eq (double lhs, double rhs)
  {
    return (double) (std::fabs (lhs - rhs) < 0.00001);
  }
  static bool   eel2_ne (double lhs, double rhs) { return !eel2_eq (lhs, rhs); }
  static double eel2_pow (double lhs, double rhs)
  {
    return std::pow (lhs, rhs);
  }
#if 0
  std::vector<float> heapmem;
  inline float&      heap (std::size_t value) { return heapmem[value]; }
  void               heap_reset (std::size_t s)
  { /*heap_reset has to be set after manual analysis of the mem requirements*/
    __todo__ calculate_heap_size {};
    heapmem.resize (s);
    std::memset (heapmem.data(), 0, heapmem.size() * sizeof heapmem[0]);
  }
#endif
  //----------------------------------------------------------------------------
  double jsfx_specialvar_get_srate() { return plugcontext->get_sample_rate(); }

  void jsfx_specialvar_set_pdc_delay (double val)
  {
    plugcontext->set_delay_compensation (val);
  }

  void jsfx_specialvar_set_pdc_top_ch (double val)
  {
    /* TODO: stub for setting JSFX var "pdc_top_ch" */
  }
  //----------------------------------------------------------------------------
public:
#if 0
  void set_treshold1_slider (float v)
  {
    // Original slider line: slider1:Treshold1=-20<-40,0,.1>Threshold (dB)
    // Range: min:-40.0, max:0.0, default: -20.0, step: 0.1
    if (v == treshold1) {
      return;
    }
    treshold1 = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct treshold1_tag {};

  void set (treshold1_tag, float v)
  {
    // Original slider line: slider1:Treshold1=-20<-40,0,.1>Threshold (dB)
    // Range: min:-40.0, max:0.0, default: -20.0, step: 0.1
    if (v == treshold1) {
      return;
    }
    treshold1 = v;
    slider();
  }

  static constexpr auto get_parameter (treshold1_tag)
  {
    // Original slider line: slider1:Treshold1=-20<-40,0,.1>Threshold (dB)
    return float_param ("dB", -40.0, 0.0, -20.0, 0.1);
  }

#endif
#if 0
  void set_ratio1_slider (float v)
  {
    // Original slider line: slider2:Ratio1=.85<0,2,.0001>Ratio (-)
    // Range: min:0.0, max:2.0, default: 0.85, step: 0.0001
    if (v == ratio1) {
      return;
    }
    ratio1 = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct ratio1_tag {};

  void set (ratio1_tag, float v)
  {
    // Original slider line: slider2:Ratio1=.85<0,2,.0001>Ratio (-)
    // Range: min:0.0, max:2.0, default: 0.85, step: 0.0001
    if (v == ratio1) {
      return;
    }
    ratio1 = v;
    slider();
  }

  static constexpr auto get_parameter (ratio1_tag)
  {
    // Original slider line: slider2:Ratio1=.85<0,2,.0001>Ratio (-)
    return float_param ("", 0.0, 2.0, 0.85, 0.0001);
  }

#endif
#if 0
  void set_sattack1_slider (float v)
  {
    // Original slider line: slider3:sAttack1=0.1<0,1,.00001>Attack (-)
    // Range: min:0.0, max:1.0, default: 0.1, step: 1e-05
    if (v == sattack1) {
      return;
    }
    sattack1 = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct sattack1_tag {};

  void set (sattack1_tag, float v)
  {
    // Original slider line: slider3:sAttack1=0.1<0,1,.00001>Attack (-)
    // Range: min:0.0, max:1.0, default: 0.1, step: 1e-05
    if (v == sattack1) {
      return;
    }
    sattack1 = v;
    slider();
  }

  static constexpr auto get_parameter (sattack1_tag)
  {
    // Original slider line: slider3:sAttack1=0.1<0,1,.00001>Attack (-)
    return float_param ("", 0.0, 1.0, 0.1, 1e-05);
  }

#endif
#if 0
  void set_sdecay1_slider (float v)
  {
    // Original slider line: slider4:sDecay1=0.1<0,1,.00001>Decay (-)
    // Range: min:0.0, max:1.0, default: 0.1, step: 1e-05
    if (v == sdecay1) {
      return;
    }
    sdecay1 = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct sdecay1_tag {};

  void set (sdecay1_tag, float v)
  {
    // Original slider line: slider4:sDecay1=0.1<0,1,.00001>Decay (-)
    // Range: min:0.0, max:1.0, default: 0.1, step: 1e-05
    if (v == sdecay1) {
      return;
    }
    sdecay1 = v;
    slider();
  }

  static constexpr auto get_parameter (sdecay1_tag)
  {
    // Original slider line: slider4:sDecay1=0.1<0,1,.00001>Decay (-)
    return float_param ("", 0.0, 1.0, 0.1, 1e-05);
  }

#endif
#if 0
  void set_knee1_slider (float v)
  {
    // Original slider line: slider5:Knee1=0<0,30,0.1>Knee (dB)
    // Range: min:0.0, max:30.0, default: 0.0, step: 0.1
    if (v == knee1) {
      return;
    }
    knee1 = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct knee1_tag {};

  void set (knee1_tag, float v)
  {
    // Original slider line: slider5:Knee1=0<0,30,0.1>Knee (dB)
    // Range: min:0.0, max:30.0, default: 0.0, step: 0.1
    if (v == knee1) {
      return;
    }
    knee1 = v;
    slider();
  }

  static constexpr auto get_parameter (knee1_tag)
  {
    // Original slider line: slider5:Knee1=0<0,30,0.1>Knee (dB)
    return float_param ("dB", 0.0, 30.0, 0.0, 0.1);
  }

#endif
#if 0
  void set_makeup1_slider (float v)
  {
    // Original slider line: slider6:MakeUp1=1<0,1,1{No,Yes}>Auto make-up gain
    // Range: min:0.0, max:1.0, default: 1.0, step: 1.0
    if (v == makeup1) {
      return;
    }
    makeup1 = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct makeup1_tag {};

  void set (makeup1_tag, int v)
  {
    // Original slider line: slider6:MakeUp1=1<0,1,1{No,Yes}>Auto make-up gain
    // Range: min:0.0, max:1.0, default: 1.0, step: 1.0
    if ((float) v == makeup1) {
      return;
    }
    makeup1 = (float) v;
    slider();
  }

  static constexpr auto get_parameter (makeup1_tag)
  {
    // Original slider line: slider6:MakeUp1=1<0,1,1{No,Yes}>Auto make-up gain
    return choice_param (1, make_cstr_array ("No", "Yes"));
  }

#endif
#if 0
  void set_pregain_slider (float v)
  {
    // Original slider line: slider7:PreGain=0<-24,12,0.01>Pre-Gain
    // Range: min:-24.0, max:12.0, default: 0.0, step: 0.01
    if (v == pregain) {
      return;
    }
    pregain = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct pregain_tag {};

  void set (pregain_tag, float v)
  {
    // Original slider line: slider7:PreGain=0<-24,12,0.01>Pre-Gain
    // Range: min:-24.0, max:12.0, default: 0.0, step: 0.01
    if (v == pregain) {
      return;
    }
    pregain = v;
    slider();
  }

  static constexpr auto get_parameter (pregain_tag)
  {
    // Original slider line: slider7:PreGain=0<-24,12,0.01>Pre-Gain
    return float_param ("dB", -24.0, 12.0, 0.0, 0.01);
  }

#endif
#if 0
  void set_postgain_slider (float v)
  {
    // Original slider line: slider8:PostGain=0<-24,12,0.01>Post-Gain
    // Range: min:-24.0, max:12.0, default: 0.0, step: 0.01
    if (v == postgain) {
      return;
    }
    postgain = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct postgain_tag {};

  void set (postgain_tag, float v)
  {
    // Original slider line: slider8:PostGain=0<-24,12,0.01>Post-Gain
    // Range: min:-24.0, max:12.0, default: 0.0, step: 0.01
    if (v == postgain) {
      return;
    }
    postgain = v;
    slider();
  }

  static constexpr auto get_parameter (postgain_tag)
  {
    // Original slider line: slider8:PostGain=0<-24,12,0.01>Post-Gain
    return float_param ("dB", -24.0, 12.0, 0.0, 0.01);
  }

#endif
#if 0
  void set_scrolls_slider (float v)
  {
    // Original slider line: slider9:Scrolls=0<0,1,1{No,Yes}>Scrolls?
    // Range: min:0.0, max:1.0, default: 0.0, step: 1.0
    if (v == scrolls) {
      return;
    }
    scrolls = v;
    slider();
  }
#else
#if 0
  // Snippet for parameter boilerplate in the authors framework....
  struct scrolls_tag {};

  void set (scrolls_tag, float v)
  {
    // Original slider line: slider9:Scrolls=0<0,1,1{No,Yes}>Scrolls?
    // Range: min:0.0, max:1.0, default: 0.0, step: 1.0
    if (v == scrolls) {
      return;
    }
    scrolls = v;
    slider();
  }

  static constexpr auto get_parameter (scrolls_tag)
  {
    // Original slider line: slider9:Scrolls=0<0,1,1{No,Yes}>Scrolls?
    return float_param ("", 0.0, 1.0, 0.0, 1.0);
  }
#endif
#endif
#if 0
  void set_topology_slider (float v)
  {
    // Original slider line: slider10:Topology=0<0,4,1{LogDetect
    // (Smoother),LinDetect (Harsher),LogDetect Non-smooth,LinDetect
    // Non-smooth}>Topology Range: min:0.0, max:4.0, default: 0.0, step: 1.0
    if (v == topology) {
      return;
    }
    topology = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct topology_tag {};

  void set (topology_tag, float v)
  {
    // Original slider line: slider10:Topology=0<0,4,1{LogDetect
    // (Smoother),LinDetect (Harsher),LogDetect Non-smooth,LinDetect
    // Non-smooth}>Topology Range: min:0.0, max:4.0, default: 0.0, step: 1.0
    if (v == topology) {
      return;
    }
    topology = v;
    slider();
  }

  static constexpr auto get_parameter (topology_tag)
  {
    // Original slider line: slider10:Topology=0<0,4,1{LogDetect
    // (Smoother),LinDetect (Harsher),LogDetect Non-smooth,LinDetect
    // Non-smooth}>Topology
    return choice_param (
      1, make_cstr_array ("Log Smooth", "Smooth", "Log", "Lin"));
  }

#endif
#if 0
  void set_drywet_slider (float v)
  {
    // Original slider line: slider11:DryWet=1<0,1,.00001>Dry/Wet
    // Range: min:0.0, max:1.0, default: 1.0, step: 1e-05
    if (v == drywet) {
      return;
    }
    drywet = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct drywet_tag {};

  void set (drywet_tag, float v)
  {
    v *= 0.01;
    // Original slider line: slider11:DryWet=1<0,1,.00001>Dry/Wet
    // Range: min:0.0, max:1.0, default: 1.0, step: 1e-05
    if (v == drywet) {
      return;
    }
    drywet = v;
    slider();
  }

  static constexpr auto get_parameter (drywet_tag)
  {
    // Original slider line: slider11:DryWet=1<0,1,.00001>Dry/Wet
    return float_param ("%", 0.0, 100.0, 100.0, 0.1);
  }

#endif
#if 0
  void set_oversampling_slider (float v)
  {
    // Original slider line: slider12:Oversampling=1<1,8,1>Oversampling factor
    // Range: min:1.0, max:8.0, default: 1.0, step: 1.0
    if (v == oversampling) {
      return;
    }
    oversampling = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct oversampling_tag {};

  void set (oversampling_tag, float v)
  {
    // Original slider line: slider12:Oversampling=1<1,8,1>Oversampling factor
    // Range: min:1.0, max:8.0, default: 1.0, step: 1.0
    if (v == oversampling) {
      return;
    }
    oversampling = v;
    slider();
  }

  static constexpr auto get_parameter (oversampling_tag)
  {
    // Original slider line: slider12:Oversampling=1<1,8,1>Oversampling factor
    return float_param ("", 1.0, 8.0, 1.0, 1.0);
  }

#endif
#if 0
  void set_linkstereo_slider (float v)
  {
    // Original slider line: slider13:LinkStereo=1<0,1,1>Link Stereo
    // Range: min:0.0, max:1.0, default: 1.0, step: 1.0
    if (v == linkstereo) {
      return;
    }
    linkstereo = v;
    slider();
  }
#else
  // Snippet for parameter boilerplate in the authors framework....
  struct linkstereo_tag {};

  void set (linkstereo_tag, float v)
  {
    v *= 0.01;
    // Original slider line: slider13:LinkStereo=1<0,1,1>Link Stereo
    // Range: min:0.0, max:1.0, default: 1.0, step: 1.0
    if (v == linkstereo) {
      return;
    }
    linkstereo = v;
    slider();
  }

  static constexpr auto get_parameter (linkstereo_tag)
  {
    // Original slider line: slider13:LinkStereo=1<0,1,1>Link Stereo
    return float_param ("%", 0.0, 100.0, 100.0, 0.1);
  }

#endif
#if 0
#else
  // Snippet for parameter boilerplate in the authors framework....
  using parameters = mp11::mp_list<
    treshold1_tag,
    ratio1_tag,
    sattack1_tag,
    sdecay1_tag,
    knee1_tag,
    makeup1_tag,
    pregain_tag,
    postgain_tag,
#if 0
    scrolls_tag,
#endif
    topology_tag,
    drywet_tag,
    oversampling_tag,
    linkstereo_tag>;
#endif
  //----------------------------------------------------------------------------
  // global/stateful variables for section "init"
private:
  double drywet;
#if 0
  double dynamics_bufsize;
  double dynamics_gain;
  double dynamics_in;
  double dynamics_out;
  double gainbuf$scopebuffer;
  double gainbuf$scopebuffermax;
  double gainbuf$scopeptr;
  double inbuf$scopebuffer;
  double inbuf$scopebuffermax;
  double inbuf$scopeptr;
#endif
  double knee1;
  double linkstereo;
  double makeup1;
  double max_attack;
  double max_decay;
  double min_attack;
  double min_decay;
#if 0
  double outbuf$scopebuffer;
  double outbuf$scopebuffermax;
  double outbuf$scopeptr;
#endif
  double oversampling;
  double postgain;
  double pregain;
  double ratio1;
  double sattack1;
  double scrolls;
  double sdecay1;
  double topology;
  double treshold1;
  //----------------------------------------------------------------------------
  void init_init_variables()
  {
    drywet = 0;
#if 0
    dynamics_bufsize = 0;
    dynamics_gain    = 0;
    dynamics_in      = 0;
    dynamics_out     = 0;
    gainbuf$scopebuffer    = 0;
    gainbuf$scopebuffermax = 0;
    gainbuf$scopeptr       = 0;
    inbuf$scopebuffer      = 0;
    inbuf$scopebuffermax   = 0;
    inbuf$scopeptr         = 0;
#endif
    knee1      = 0;
    linkstereo = 0;
    makeup1    = 0;
    max_attack = 0;
    max_decay  = 0;
    min_attack = 0;
    min_decay  = 0;
#if 0
    outbuf$scopebuffer     = 0;
    outbuf$scopebuffermax  = 0;
    outbuf$scopeptr        = 0;
#endif
    oversampling = 0;
    postgain     = 0;
    pregain      = 0;
    ratio1       = 0;
    sattack1     = 0;
    scrolls      = 0;
    sdecay1      = 0;
    topology     = 0;
    treshold1    = 0;
  }
  //----------------------------------------------------------------------------
  // global/stateful variables for section "slider"
private:
  double attack1;
  double decay1;
  double postgainlin;
  double pregainlin;
  //----------------------------------------------------------------------------
  void init_slider_variables()
  {
    attack1     = 0;
    decay1      = 0;
    postgainlin = 0;
    pregainlin  = 0;
  }
  //----------------------------------------------------------------------------
  // global/stateful variables for section "block"
private:
  double cl$at;
  double cl$c;
  double cl$iratio;
  double cl$kwidth;
  double cl$makeup;
  double cl$outgain;
  double cl$quadf;
  double cl$ratio;
  double cl$rt;
  double cl$thresh;
  double cl$xg;
  double cl$ya;
  double cl$yl;
  double cr$at;
  double cr$c;
  double cr$iratio;
  double cr$kwidth;
  double cr$makeup;
  double cr$outgain;
  double cr$quadf;
  double cr$ratio;
  double cr$rt;
  double cr$thresh;
  double cr$xg;
  double cr$ya;
  double cr$yl;
  double curpdc;
  double downl$h0;
  double downl$h1;
  double downl$h10;
  double downl$h100;
  double downl$h101;
  double downl$h102;
  double downl$h103;
  double downl$h104;
  double downl$h105;
  double downl$h106;
  double downl$h107;
  double downl$h108;
  double downl$h109;
  double downl$h11;
  double downl$h110;
  double downl$h111;
  double downl$h112;
  double downl$h113;
  double downl$h114;
  double downl$h115;
  double downl$h116;
  double downl$h117;
  double downl$h118;
  double downl$h119;
  double downl$h12;
  double downl$h120;
  double downl$h121;
  double downl$h122;
  double downl$h123;
  double downl$h124;
  double downl$h125;
  double downl$h126;
  double downl$h127;
  double downl$h128;
  double downl$h129;
  double downl$h13;
  double downl$h130;
  double downl$h131;
  double downl$h132;
  double downl$h133;
  double downl$h134;
  double downl$h135;
  double downl$h136;
  double downl$h137;
  double downl$h138;
  double downl$h139;
  double downl$h14;
  double downl$h140;
  double downl$h141;
  double downl$h142;
  double downl$h143;
  double downl$h144;
  double downl$h145;
  double downl$h146;
  double downl$h147;
  double downl$h148;
  double downl$h149;
  double downl$h15;
  double downl$h150;
  double downl$h151;
  double downl$h152;
  double downl$h153;
  double downl$h154;
  double downl$h155;
  double downl$h156;
  double downl$h157;
  double downl$h158;
  double downl$h159;
  double downl$h16;
  double downl$h160;
  double downl$h161;
  double downl$h162;
  double downl$h163;
  double downl$h164;
  double downl$h165;
  double downl$h166;
  double downl$h167;
  double downl$h168;
  double downl$h169;
  double downl$h17;
  double downl$h170;
  double downl$h171;
  double downl$h172;
  double downl$h173;
  double downl$h174;
  double downl$h175;
  double downl$h176;
  double downl$h177;
  double downl$h178;
  double downl$h179;
  double downl$h18;
  double downl$h180;
  double downl$h181;
  double downl$h182;
  double downl$h183;
  double downl$h184;
  double downl$h185;
  double downl$h186;
  double downl$h187;
  double downl$h188;
  double downl$h189;
  double downl$h19;
  double downl$h190;
  double downl$h191;
  double downl$h192;
  double downl$h193;
  double downl$h194;
  double downl$h195;
  double downl$h196;
  double downl$h197;
  double downl$h198;
  double downl$h199;
  double downl$h2;
  double downl$h20;
  double downl$h200;
  double downl$h201;
  double downl$h202;
  double downl$h203;
  double downl$h204;
  double downl$h205;
  double downl$h206;
  double downl$h207;
  double downl$h208;
  double downl$h209;
  double downl$h21;
  double downl$h210;
  double downl$h211;
  double downl$h212;
  double downl$h213;
  double downl$h214;
  double downl$h215;
  double downl$h216;
  double downl$h217;
  double downl$h218;
  double downl$h219;
  double downl$h22;
  double downl$h220;
  double downl$h221;
  double downl$h222;
  double downl$h223;
  double downl$h224;
  double downl$h225;
  double downl$h226;
  double downl$h227;
  double downl$h228;
  double downl$h229;
  double downl$h23;
  double downl$h230;
  double downl$h231;
  double downl$h232;
  double downl$h233;
  double downl$h234;
  double downl$h235;
  double downl$h236;
  double downl$h237;
  double downl$h238;
  double downl$h239;
  double downl$h24;
  double downl$h240;
  double downl$h241;
  double downl$h242;
  double downl$h243;
  double downl$h244;
  double downl$h245;
  double downl$h246;
  double downl$h247;
  double downl$h248;
  double downl$h249;
  double downl$h25;
  double downl$h250;
  double downl$h251;
  double downl$h252;
  double downl$h253;
  double downl$h254;
  double downl$h255;
  double downl$h256;
  double downl$h257;
  double downl$h26;
  double downl$h27;
  double downl$h28;
  double downl$h29;
  double downl$h3;
  double downl$h30;
  double downl$h31;
  double downl$h32;
  double downl$h33;
  double downl$h34;
  double downl$h35;
  double downl$h36;
  double downl$h37;
  double downl$h38;
  double downl$h39;
  double downl$h4;
  double downl$h40;
  double downl$h41;
  double downl$h42;
  double downl$h43;
  double downl$h44;
  double downl$h45;
  double downl$h46;
  double downl$h47;
  double downl$h48;
  double downl$h49;
  double downl$h5;
  double downl$h50;
  double downl$h51;
  double downl$h52;
  double downl$h53;
  double downl$h54;
  double downl$h55;
  double downl$h56;
  double downl$h57;
  double downl$h58;
  double downl$h59;
  double downl$h6;
  double downl$h60;
  double downl$h61;
  double downl$h62;
  double downl$h63;
  double downl$h64;
  double downl$h65;
  double downl$h66;
  double downl$h67;
  double downl$h68;
  double downl$h69;
  double downl$h7;
  double downl$h70;
  double downl$h71;
  double downl$h72;
  double downl$h73;
  double downl$h74;
  double downl$h75;
  double downl$h76;
  double downl$h77;
  double downl$h78;
  double downl$h79;
  double downl$h8;
  double downl$h80;
  double downl$h81;
  double downl$h82;
  double downl$h83;
  double downl$h84;
  double downl$h85;
  double downl$h86;
  double downl$h87;
  double downl$h88;
  double downl$h89;
  double downl$h9;
  double downl$h90;
  double downl$h91;
  double downl$h92;
  double downl$h93;
  double downl$h94;
  double downl$h95;
  double downl$h96;
  double downl$h97;
  double downl$h98;
  double downl$h99;
  double downl$idx;
  double downr$h0;
  double downr$h1;
  double downr$h10;
  double downr$h100;
  double downr$h101;
  double downr$h102;
  double downr$h103;
  double downr$h104;
  double downr$h105;
  double downr$h106;
  double downr$h107;
  double downr$h108;
  double downr$h109;
  double downr$h11;
  double downr$h110;
  double downr$h111;
  double downr$h112;
  double downr$h113;
  double downr$h114;
  double downr$h115;
  double downr$h116;
  double downr$h117;
  double downr$h118;
  double downr$h119;
  double downr$h12;
  double downr$h120;
  double downr$h121;
  double downr$h122;
  double downr$h123;
  double downr$h124;
  double downr$h125;
  double downr$h126;
  double downr$h127;
  double downr$h128;
  double downr$h129;
  double downr$h13;
  double downr$h130;
  double downr$h131;
  double downr$h132;
  double downr$h133;
  double downr$h134;
  double downr$h135;
  double downr$h136;
  double downr$h137;
  double downr$h138;
  double downr$h139;
  double downr$h14;
  double downr$h140;
  double downr$h141;
  double downr$h142;
  double downr$h143;
  double downr$h144;
  double downr$h145;
  double downr$h146;
  double downr$h147;
  double downr$h148;
  double downr$h149;
  double downr$h15;
  double downr$h150;
  double downr$h151;
  double downr$h152;
  double downr$h153;
  double downr$h154;
  double downr$h155;
  double downr$h156;
  double downr$h157;
  double downr$h158;
  double downr$h159;
  double downr$h16;
  double downr$h160;
  double downr$h161;
  double downr$h162;
  double downr$h163;
  double downr$h164;
  double downr$h165;
  double downr$h166;
  double downr$h167;
  double downr$h168;
  double downr$h169;
  double downr$h17;
  double downr$h170;
  double downr$h171;
  double downr$h172;
  double downr$h173;
  double downr$h174;
  double downr$h175;
  double downr$h176;
  double downr$h177;
  double downr$h178;
  double downr$h179;
  double downr$h18;
  double downr$h180;
  double downr$h181;
  double downr$h182;
  double downr$h183;
  double downr$h184;
  double downr$h185;
  double downr$h186;
  double downr$h187;
  double downr$h188;
  double downr$h189;
  double downr$h19;
  double downr$h190;
  double downr$h191;
  double downr$h192;
  double downr$h193;
  double downr$h194;
  double downr$h195;
  double downr$h196;
  double downr$h197;
  double downr$h198;
  double downr$h199;
  double downr$h2;
  double downr$h20;
  double downr$h200;
  double downr$h201;
  double downr$h202;
  double downr$h203;
  double downr$h204;
  double downr$h205;
  double downr$h206;
  double downr$h207;
  double downr$h208;
  double downr$h209;
  double downr$h21;
  double downr$h210;
  double downr$h211;
  double downr$h212;
  double downr$h213;
  double downr$h214;
  double downr$h215;
  double downr$h216;
  double downr$h217;
  double downr$h218;
  double downr$h219;
  double downr$h22;
  double downr$h220;
  double downr$h221;
  double downr$h222;
  double downr$h223;
  double downr$h224;
  double downr$h225;
  double downr$h226;
  double downr$h227;
  double downr$h228;
  double downr$h229;
  double downr$h23;
  double downr$h230;
  double downr$h231;
  double downr$h232;
  double downr$h233;
  double downr$h234;
  double downr$h235;
  double downr$h236;
  double downr$h237;
  double downr$h238;
  double downr$h239;
  double downr$h24;
  double downr$h240;
  double downr$h241;
  double downr$h242;
  double downr$h243;
  double downr$h244;
  double downr$h245;
  double downr$h246;
  double downr$h247;
  double downr$h248;
  double downr$h249;
  double downr$h25;
  double downr$h250;
  double downr$h251;
  double downr$h252;
  double downr$h253;
  double downr$h254;
  double downr$h255;
  double downr$h256;
  double downr$h257;
  double downr$h26;
  double downr$h27;
  double downr$h28;
  double downr$h29;
  double downr$h3;
  double downr$h30;
  double downr$h31;
  double downr$h32;
  double downr$h33;
  double downr$h34;
  double downr$h35;
  double downr$h36;
  double downr$h37;
  double downr$h38;
  double downr$h39;
  double downr$h4;
  double downr$h40;
  double downr$h41;
  double downr$h42;
  double downr$h43;
  double downr$h44;
  double downr$h45;
  double downr$h46;
  double downr$h47;
  double downr$h48;
  double downr$h49;
  double downr$h5;
  double downr$h50;
  double downr$h51;
  double downr$h52;
  double downr$h53;
  double downr$h54;
  double downr$h55;
  double downr$h56;
  double downr$h57;
  double downr$h58;
  double downr$h59;
  double downr$h6;
  double downr$h60;
  double downr$h61;
  double downr$h62;
  double downr$h63;
  double downr$h64;
  double downr$h65;
  double downr$h66;
  double downr$h67;
  double downr$h68;
  double downr$h69;
  double downr$h7;
  double downr$h70;
  double downr$h71;
  double downr$h72;
  double downr$h73;
  double downr$h74;
  double downr$h75;
  double downr$h76;
  double downr$h77;
  double downr$h78;
  double downr$h79;
  double downr$h8;
  double downr$h80;
  double downr$h81;
  double downr$h82;
  double downr$h83;
  double downr$h84;
  double downr$h85;
  double downr$h86;
  double downr$h87;
  double downr$h88;
  double downr$h89;
  double downr$h9;
  double downr$h90;
  double downr$h91;
  double downr$h92;
  double downr$h93;
  double downr$h94;
  double downr$h95;
  double downr$h96;
  double downr$h97;
  double downr$h98;
  double downr$h99;
  double downr$idx;
  double inl;
  double inr;
  double movin;
  double movout;
  double ol1;
  double ol2;
  double ol3;
  double outl;
  double outr;
  double upsamplel$h0;
  double upsamplel$h1;
  double upsamplel$h10;
  double upsamplel$h11;
  double upsamplel$h12;
  double upsamplel$h13;
  double upsamplel$h14;
  double upsamplel$h15;
  double upsamplel$h16;
  double upsamplel$h17;
  double upsamplel$h18;
  double upsamplel$h19;
  double upsamplel$h2;
  double upsamplel$h20;
  double upsamplel$h21;
  double upsamplel$h22;
  double upsamplel$h23;
  double upsamplel$h24;
  double upsamplel$h25;
  double upsamplel$h26;
  double upsamplel$h27;
  double upsamplel$h28;
  double upsamplel$h29;
  double upsamplel$h3;
  double upsamplel$h30;
  double upsamplel$h31;
  double upsamplel$h32;
  double upsamplel$h4;
  double upsamplel$h5;
  double upsamplel$h6;
  double upsamplel$h7;
  double upsamplel$h8;
  double upsamplel$h9;
  double upsamplel$idx;
  double upsampler$h0;
  double upsampler$h1;
  double upsampler$h10;
  double upsampler$h11;
  double upsampler$h12;
  double upsampler$h13;
  double upsampler$h14;
  double upsampler$h15;
  double upsampler$h16;
  double upsampler$h17;
  double upsampler$h18;
  double upsampler$h19;
  double upsampler$h2;
  double upsampler$h20;
  double upsampler$h21;
  double upsampler$h22;
  double upsampler$h23;
  double upsampler$h24;
  double upsampler$h25;
  double upsampler$h26;
  double upsampler$h27;
  double upsampler$h28;
  double upsampler$h29;
  double upsampler$h3;
  double upsampler$h30;
  double upsampler$h31;
  double upsampler$h32;
  double upsampler$h4;
  double upsampler$h5;
  double upsampler$h6;
  double upsampler$h7;
  double upsampler$h8;
  double upsampler$h9;
  double upsampler$idx;
  //----------------------------------------------------------------------------
  void init_block_variables()
  {
    cl$at         = 0;
    cl$c          = 0;
    cl$iratio     = 0;
    cl$kwidth     = 0;
    cl$makeup     = 0;
    cl$outgain    = 0;
    cl$quadf      = 0;
    cl$ratio      = 0;
    cl$rt         = 0;
    cl$thresh     = 0;
    cl$xg         = 0;
    cl$ya         = 0;
    cl$yl         = 0;
    cr$at         = 0;
    cr$c          = 0;
    cr$iratio     = 0;
    cr$kwidth     = 0;
    cr$makeup     = 0;
    cr$outgain    = 0;
    cr$quadf      = 0;
    cr$ratio      = 0;
    cr$rt         = 0;
    cr$thresh     = 0;
    cr$xg         = 0;
    cr$ya         = 0;
    cr$yl         = 0;
    curpdc        = 0;
    downl$h0      = 0;
    downl$h1      = 0;
    downl$h10     = 0;
    downl$h100    = 0;
    downl$h101    = 0;
    downl$h102    = 0;
    downl$h103    = 0;
    downl$h104    = 0;
    downl$h105    = 0;
    downl$h106    = 0;
    downl$h107    = 0;
    downl$h108    = 0;
    downl$h109    = 0;
    downl$h11     = 0;
    downl$h110    = 0;
    downl$h111    = 0;
    downl$h112    = 0;
    downl$h113    = 0;
    downl$h114    = 0;
    downl$h115    = 0;
    downl$h116    = 0;
    downl$h117    = 0;
    downl$h118    = 0;
    downl$h119    = 0;
    downl$h12     = 0;
    downl$h120    = 0;
    downl$h121    = 0;
    downl$h122    = 0;
    downl$h123    = 0;
    downl$h124    = 0;
    downl$h125    = 0;
    downl$h126    = 0;
    downl$h127    = 0;
    downl$h128    = 0;
    downl$h129    = 0;
    downl$h13     = 0;
    downl$h130    = 0;
    downl$h131    = 0;
    downl$h132    = 0;
    downl$h133    = 0;
    downl$h134    = 0;
    downl$h135    = 0;
    downl$h136    = 0;
    downl$h137    = 0;
    downl$h138    = 0;
    downl$h139    = 0;
    downl$h14     = 0;
    downl$h140    = 0;
    downl$h141    = 0;
    downl$h142    = 0;
    downl$h143    = 0;
    downl$h144    = 0;
    downl$h145    = 0;
    downl$h146    = 0;
    downl$h147    = 0;
    downl$h148    = 0;
    downl$h149    = 0;
    downl$h15     = 0;
    downl$h150    = 0;
    downl$h151    = 0;
    downl$h152    = 0;
    downl$h153    = 0;
    downl$h154    = 0;
    downl$h155    = 0;
    downl$h156    = 0;
    downl$h157    = 0;
    downl$h158    = 0;
    downl$h159    = 0;
    downl$h16     = 0;
    downl$h160    = 0;
    downl$h161    = 0;
    downl$h162    = 0;
    downl$h163    = 0;
    downl$h164    = 0;
    downl$h165    = 0;
    downl$h166    = 0;
    downl$h167    = 0;
    downl$h168    = 0;
    downl$h169    = 0;
    downl$h17     = 0;
    downl$h170    = 0;
    downl$h171    = 0;
    downl$h172    = 0;
    downl$h173    = 0;
    downl$h174    = 0;
    downl$h175    = 0;
    downl$h176    = 0;
    downl$h177    = 0;
    downl$h178    = 0;
    downl$h179    = 0;
    downl$h18     = 0;
    downl$h180    = 0;
    downl$h181    = 0;
    downl$h182    = 0;
    downl$h183    = 0;
    downl$h184    = 0;
    downl$h185    = 0;
    downl$h186    = 0;
    downl$h187    = 0;
    downl$h188    = 0;
    downl$h189    = 0;
    downl$h19     = 0;
    downl$h190    = 0;
    downl$h191    = 0;
    downl$h192    = 0;
    downl$h193    = 0;
    downl$h194    = 0;
    downl$h195    = 0;
    downl$h196    = 0;
    downl$h197    = 0;
    downl$h198    = 0;
    downl$h199    = 0;
    downl$h2      = 0;
    downl$h20     = 0;
    downl$h200    = 0;
    downl$h201    = 0;
    downl$h202    = 0;
    downl$h203    = 0;
    downl$h204    = 0;
    downl$h205    = 0;
    downl$h206    = 0;
    downl$h207    = 0;
    downl$h208    = 0;
    downl$h209    = 0;
    downl$h21     = 0;
    downl$h210    = 0;
    downl$h211    = 0;
    downl$h212    = 0;
    downl$h213    = 0;
    downl$h214    = 0;
    downl$h215    = 0;
    downl$h216    = 0;
    downl$h217    = 0;
    downl$h218    = 0;
    downl$h219    = 0;
    downl$h22     = 0;
    downl$h220    = 0;
    downl$h221    = 0;
    downl$h222    = 0;
    downl$h223    = 0;
    downl$h224    = 0;
    downl$h225    = 0;
    downl$h226    = 0;
    downl$h227    = 0;
    downl$h228    = 0;
    downl$h229    = 0;
    downl$h23     = 0;
    downl$h230    = 0;
    downl$h231    = 0;
    downl$h232    = 0;
    downl$h233    = 0;
    downl$h234    = 0;
    downl$h235    = 0;
    downl$h236    = 0;
    downl$h237    = 0;
    downl$h238    = 0;
    downl$h239    = 0;
    downl$h24     = 0;
    downl$h240    = 0;
    downl$h241    = 0;
    downl$h242    = 0;
    downl$h243    = 0;
    downl$h244    = 0;
    downl$h245    = 0;
    downl$h246    = 0;
    downl$h247    = 0;
    downl$h248    = 0;
    downl$h249    = 0;
    downl$h25     = 0;
    downl$h250    = 0;
    downl$h251    = 0;
    downl$h252    = 0;
    downl$h253    = 0;
    downl$h254    = 0;
    downl$h255    = 0;
    downl$h256    = 0;
    downl$h257    = 0;
    downl$h26     = 0;
    downl$h27     = 0;
    downl$h28     = 0;
    downl$h29     = 0;
    downl$h3      = 0;
    downl$h30     = 0;
    downl$h31     = 0;
    downl$h32     = 0;
    downl$h33     = 0;
    downl$h34     = 0;
    downl$h35     = 0;
    downl$h36     = 0;
    downl$h37     = 0;
    downl$h38     = 0;
    downl$h39     = 0;
    downl$h4      = 0;
    downl$h40     = 0;
    downl$h41     = 0;
    downl$h42     = 0;
    downl$h43     = 0;
    downl$h44     = 0;
    downl$h45     = 0;
    downl$h46     = 0;
    downl$h47     = 0;
    downl$h48     = 0;
    downl$h49     = 0;
    downl$h5      = 0;
    downl$h50     = 0;
    downl$h51     = 0;
    downl$h52     = 0;
    downl$h53     = 0;
    downl$h54     = 0;
    downl$h55     = 0;
    downl$h56     = 0;
    downl$h57     = 0;
    downl$h58     = 0;
    downl$h59     = 0;
    downl$h6      = 0;
    downl$h60     = 0;
    downl$h61     = 0;
    downl$h62     = 0;
    downl$h63     = 0;
    downl$h64     = 0;
    downl$h65     = 0;
    downl$h66     = 0;
    downl$h67     = 0;
    downl$h68     = 0;
    downl$h69     = 0;
    downl$h7      = 0;
    downl$h70     = 0;
    downl$h71     = 0;
    downl$h72     = 0;
    downl$h73     = 0;
    downl$h74     = 0;
    downl$h75     = 0;
    downl$h76     = 0;
    downl$h77     = 0;
    downl$h78     = 0;
    downl$h79     = 0;
    downl$h8      = 0;
    downl$h80     = 0;
    downl$h81     = 0;
    downl$h82     = 0;
    downl$h83     = 0;
    downl$h84     = 0;
    downl$h85     = 0;
    downl$h86     = 0;
    downl$h87     = 0;
    downl$h88     = 0;
    downl$h89     = 0;
    downl$h9      = 0;
    downl$h90     = 0;
    downl$h91     = 0;
    downl$h92     = 0;
    downl$h93     = 0;
    downl$h94     = 0;
    downl$h95     = 0;
    downl$h96     = 0;
    downl$h97     = 0;
    downl$h98     = 0;
    downl$h99     = 0;
    downl$idx     = 0;
    downr$h0      = 0;
    downr$h1      = 0;
    downr$h10     = 0;
    downr$h100    = 0;
    downr$h101    = 0;
    downr$h102    = 0;
    downr$h103    = 0;
    downr$h104    = 0;
    downr$h105    = 0;
    downr$h106    = 0;
    downr$h107    = 0;
    downr$h108    = 0;
    downr$h109    = 0;
    downr$h11     = 0;
    downr$h110    = 0;
    downr$h111    = 0;
    downr$h112    = 0;
    downr$h113    = 0;
    downr$h114    = 0;
    downr$h115    = 0;
    downr$h116    = 0;
    downr$h117    = 0;
    downr$h118    = 0;
    downr$h119    = 0;
    downr$h12     = 0;
    downr$h120    = 0;
    downr$h121    = 0;
    downr$h122    = 0;
    downr$h123    = 0;
    downr$h124    = 0;
    downr$h125    = 0;
    downr$h126    = 0;
    downr$h127    = 0;
    downr$h128    = 0;
    downr$h129    = 0;
    downr$h13     = 0;
    downr$h130    = 0;
    downr$h131    = 0;
    downr$h132    = 0;
    downr$h133    = 0;
    downr$h134    = 0;
    downr$h135    = 0;
    downr$h136    = 0;
    downr$h137    = 0;
    downr$h138    = 0;
    downr$h139    = 0;
    downr$h14     = 0;
    downr$h140    = 0;
    downr$h141    = 0;
    downr$h142    = 0;
    downr$h143    = 0;
    downr$h144    = 0;
    downr$h145    = 0;
    downr$h146    = 0;
    downr$h147    = 0;
    downr$h148    = 0;
    downr$h149    = 0;
    downr$h15     = 0;
    downr$h150    = 0;
    downr$h151    = 0;
    downr$h152    = 0;
    downr$h153    = 0;
    downr$h154    = 0;
    downr$h155    = 0;
    downr$h156    = 0;
    downr$h157    = 0;
    downr$h158    = 0;
    downr$h159    = 0;
    downr$h16     = 0;
    downr$h160    = 0;
    downr$h161    = 0;
    downr$h162    = 0;
    downr$h163    = 0;
    downr$h164    = 0;
    downr$h165    = 0;
    downr$h166    = 0;
    downr$h167    = 0;
    downr$h168    = 0;
    downr$h169    = 0;
    downr$h17     = 0;
    downr$h170    = 0;
    downr$h171    = 0;
    downr$h172    = 0;
    downr$h173    = 0;
    downr$h174    = 0;
    downr$h175    = 0;
    downr$h176    = 0;
    downr$h177    = 0;
    downr$h178    = 0;
    downr$h179    = 0;
    downr$h18     = 0;
    downr$h180    = 0;
    downr$h181    = 0;
    downr$h182    = 0;
    downr$h183    = 0;
    downr$h184    = 0;
    downr$h185    = 0;
    downr$h186    = 0;
    downr$h187    = 0;
    downr$h188    = 0;
    downr$h189    = 0;
    downr$h19     = 0;
    downr$h190    = 0;
    downr$h191    = 0;
    downr$h192    = 0;
    downr$h193    = 0;
    downr$h194    = 0;
    downr$h195    = 0;
    downr$h196    = 0;
    downr$h197    = 0;
    downr$h198    = 0;
    downr$h199    = 0;
    downr$h2      = 0;
    downr$h20     = 0;
    downr$h200    = 0;
    downr$h201    = 0;
    downr$h202    = 0;
    downr$h203    = 0;
    downr$h204    = 0;
    downr$h205    = 0;
    downr$h206    = 0;
    downr$h207    = 0;
    downr$h208    = 0;
    downr$h209    = 0;
    downr$h21     = 0;
    downr$h210    = 0;
    downr$h211    = 0;
    downr$h212    = 0;
    downr$h213    = 0;
    downr$h214    = 0;
    downr$h215    = 0;
    downr$h216    = 0;
    downr$h217    = 0;
    downr$h218    = 0;
    downr$h219    = 0;
    downr$h22     = 0;
    downr$h220    = 0;
    downr$h221    = 0;
    downr$h222    = 0;
    downr$h223    = 0;
    downr$h224    = 0;
    downr$h225    = 0;
    downr$h226    = 0;
    downr$h227    = 0;
    downr$h228    = 0;
    downr$h229    = 0;
    downr$h23     = 0;
    downr$h230    = 0;
    downr$h231    = 0;
    downr$h232    = 0;
    downr$h233    = 0;
    downr$h234    = 0;
    downr$h235    = 0;
    downr$h236    = 0;
    downr$h237    = 0;
    downr$h238    = 0;
    downr$h239    = 0;
    downr$h24     = 0;
    downr$h240    = 0;
    downr$h241    = 0;
    downr$h242    = 0;
    downr$h243    = 0;
    downr$h244    = 0;
    downr$h245    = 0;
    downr$h246    = 0;
    downr$h247    = 0;
    downr$h248    = 0;
    downr$h249    = 0;
    downr$h25     = 0;
    downr$h250    = 0;
    downr$h251    = 0;
    downr$h252    = 0;
    downr$h253    = 0;
    downr$h254    = 0;
    downr$h255    = 0;
    downr$h256    = 0;
    downr$h257    = 0;
    downr$h26     = 0;
    downr$h27     = 0;
    downr$h28     = 0;
    downr$h29     = 0;
    downr$h3      = 0;
    downr$h30     = 0;
    downr$h31     = 0;
    downr$h32     = 0;
    downr$h33     = 0;
    downr$h34     = 0;
    downr$h35     = 0;
    downr$h36     = 0;
    downr$h37     = 0;
    downr$h38     = 0;
    downr$h39     = 0;
    downr$h4      = 0;
    downr$h40     = 0;
    downr$h41     = 0;
    downr$h42     = 0;
    downr$h43     = 0;
    downr$h44     = 0;
    downr$h45     = 0;
    downr$h46     = 0;
    downr$h47     = 0;
    downr$h48     = 0;
    downr$h49     = 0;
    downr$h5      = 0;
    downr$h50     = 0;
    downr$h51     = 0;
    downr$h52     = 0;
    downr$h53     = 0;
    downr$h54     = 0;
    downr$h55     = 0;
    downr$h56     = 0;
    downr$h57     = 0;
    downr$h58     = 0;
    downr$h59     = 0;
    downr$h6      = 0;
    downr$h60     = 0;
    downr$h61     = 0;
    downr$h62     = 0;
    downr$h63     = 0;
    downr$h64     = 0;
    downr$h65     = 0;
    downr$h66     = 0;
    downr$h67     = 0;
    downr$h68     = 0;
    downr$h69     = 0;
    downr$h7      = 0;
    downr$h70     = 0;
    downr$h71     = 0;
    downr$h72     = 0;
    downr$h73     = 0;
    downr$h74     = 0;
    downr$h75     = 0;
    downr$h76     = 0;
    downr$h77     = 0;
    downr$h78     = 0;
    downr$h79     = 0;
    downr$h8      = 0;
    downr$h80     = 0;
    downr$h81     = 0;
    downr$h82     = 0;
    downr$h83     = 0;
    downr$h84     = 0;
    downr$h85     = 0;
    downr$h86     = 0;
    downr$h87     = 0;
    downr$h88     = 0;
    downr$h89     = 0;
    downr$h9      = 0;
    downr$h90     = 0;
    downr$h91     = 0;
    downr$h92     = 0;
    downr$h93     = 0;
    downr$h94     = 0;
    downr$h95     = 0;
    downr$h96     = 0;
    downr$h97     = 0;
    downr$h98     = 0;
    downr$h99     = 0;
    downr$idx     = 0;
    inl           = 0;
    inr           = 0;
    movin         = 0;
    movout        = 0;
    ol1           = 0;
    ol2           = 0;
    ol3           = 0;
    outl          = 0;
    outr          = 0;
    upsamplel$h0  = 0;
    upsamplel$h1  = 0;
    upsamplel$h10 = 0;
    upsamplel$h11 = 0;
    upsamplel$h12 = 0;
    upsamplel$h13 = 0;
    upsamplel$h14 = 0;
    upsamplel$h15 = 0;
    upsamplel$h16 = 0;
    upsamplel$h17 = 0;
    upsamplel$h18 = 0;
    upsamplel$h19 = 0;
    upsamplel$h2  = 0;
    upsamplel$h20 = 0;
    upsamplel$h21 = 0;
    upsamplel$h22 = 0;
    upsamplel$h23 = 0;
    upsamplel$h24 = 0;
    upsamplel$h25 = 0;
    upsamplel$h26 = 0;
    upsamplel$h27 = 0;
    upsamplel$h28 = 0;
    upsamplel$h29 = 0;
    upsamplel$h3  = 0;
    upsamplel$h30 = 0;
    upsamplel$h31 = 0;
    upsamplel$h32 = 0;
    upsamplel$h4  = 0;
    upsamplel$h5  = 0;
    upsamplel$h6  = 0;
    upsamplel$h7  = 0;
    upsamplel$h8  = 0;
    upsamplel$h9  = 0;
    upsamplel$idx = 0;
    upsampler$h0  = 0;
    upsampler$h1  = 0;
    upsampler$h10 = 0;
    upsampler$h11 = 0;
    upsampler$h12 = 0;
    upsampler$h13 = 0;
    upsampler$h14 = 0;
    upsampler$h15 = 0;
    upsampler$h16 = 0;
    upsampler$h17 = 0;
    upsampler$h18 = 0;
    upsampler$h19 = 0;
    upsampler$h2  = 0;
    upsampler$h20 = 0;
    upsampler$h21 = 0;
    upsampler$h22 = 0;
    upsampler$h23 = 0;
    upsampler$h24 = 0;
    upsampler$h25 = 0;
    upsampler$h26 = 0;
    upsampler$h27 = 0;
    upsampler$h28 = 0;
    upsampler$h29 = 0;
    upsampler$h3  = 0;
    upsampler$h30 = 0;
    upsampler$h31 = 0;
    upsampler$h32 = 0;
    upsampler$h4  = 0;
    upsampler$h5  = 0;
    upsampler$h6  = 0;
    upsampler$h7  = 0;
    upsampler$h8  = 0;
    upsampler$h9  = 0;
    upsampler$idx = 0;
  }
  plugin_context* plugcontext;

public:
  void reset (plugin_context& pc)
  {
    plugcontext = &pc;
    init_init_variables();
    init_block_variables();
    init_slider_variables();

    treshold1    = -20.0;
    ratio1       = 0.85;
    sattack1     = 0.1;
    sdecay1      = 0.1;
    knee1        = 0.0;
    makeup1      = 1.0;
    pregain      = 0.0;
    postgain     = 0.0;
    scrolls      = 0.0;
    topology     = 0.0;
    drywet       = 1.0;
    oversampling = 1.0;
    linkstereo   = 1.0;
    min_attack   = 0.;
    max_attack   = 120.;
    min_decay    = 15.;
    max_decay    = 500.;
    ;
#if 0
    dynamics_in      = 100000.;
    dynamics_out     = 200000.;
    dynamics_gain    = 300000.;
    dynamics_bufsize = 100000.;
    init$initbuffernoreset (
      dynamics_in,
      dynamics_in + dynamics_bufsize - 1.,
      inbuf$scopebuffer,
      inbuf$scopebuffermax,
      inbuf$scopeptr);
    init$initbuffernoreset (
      dynamics_out,
      dynamics_out + dynamics_bufsize - 1.,
      outbuf$scopebuffer,
      outbuf$scopebuffermax,
      outbuf$scopeptr);
    init$initbuffernoreset (
      dynamics_gain,
      dynamics_gain + dynamics_bufsize - 1.,
      gainbuf$scopebuffer,
      gainbuf$scopebuffermax,
      gainbuf$scopeptr);
#endif
    slider();
  }
  //----------------------------------------------------------------------------
private:
  void slider()
  {
    double alpha = 0.;
    double beta  = 0.;
    pregainlin   = eel2_pow (10., (pregain / 20.));
    postgainlin  = eel2_pow (10., (postgain / 20.));
    beta         = std::log (min_attack);
    alpha        = std::log (max_attack) - beta;
    attack1      = std::exp (alpha * sattack1 + beta) - 1.;
    beta         = std::log (min_decay);
    alpha        = std::log (max_decay) - beta;
    decay1       = std::exp (alpha * sdecay1 + beta);
    ;
  }
  //----------------------------------------------------------------------------
public:
  template <class T>
  void process (crange<T*> outs, crange<T const*> ins, uint samples)
  {
    assert (outs.size() >= (n_outputs * (uint) bus_type));
    assert (ins.size() >= (n_inputs * (uint) bus_type));
    double bufsmoothing = 0.;
    double curfirdelay  = 0.;
    double f            = 0.;
    double in           = 0.;
    double ol4          = 0.;
    double out          = 0.;

    init$setcompressoroptions (
      treshold1,
      ratio1,
      attack1,
      decay1,
      knee1,
      makeup1,
      cl$thresh,
      cl$ratio,
      cl$iratio,
      cl$at,
      cl$rt,
      cl$kwidth,
      cl$quadf,
      cl$makeup);
    init$setcompressoroptions (
      treshold1,
      ratio1,
      attack1,
      decay1,
      knee1,
      makeup1,
      cr$thresh,
      cr$ratio,
      cr$iratio,
      cr$at,
      cr$rt,
      cr$kwidth,
      cr$quadf,
      cr$makeup);
    curfirdelay = init$getfirdelay (oversampling);
    if (eel2_ne (curpdc, curfirdelay)) {
      jsfx_specialvar_set_pdc_top_ch (2.);
      jsfx_specialvar_set_pdc_delay (curfirdelay);
      curpdc = curfirdelay;
    };

    auto oversamplingv = oversampling;

    for (uint $$i = 0; $$i < samples; ++$$i) {
      auto& spl0 = outs[0][$$i];
      auto& spl1 = outs[1][$$i];
      spl0       = ins[0][$$i];
      spl1       = ins[1][$$i];
      spl0 *= pregainlin;
      inl = spl0;
      spl1 *= pregainlin;
      inr = spl1;
      in  = 20. * std::log10 (.5 * (std::abs (spl0) + std::abs (spl1)));
      if (eel2_eq (oversamplingv, 1.)) {
        block$processsample();
        spl0 = outl;
        spl1 = outr;
      }
      else {
        init$updateuphist (
          oversamplingv,
          inl,
          upsamplel$h32,
          upsamplel$h31,
          upsamplel$h30,
          upsamplel$h29,
          upsamplel$h28,
          upsamplel$h27,
          upsamplel$h26,
          upsamplel$h25,
          upsamplel$h24,
          upsamplel$h23,
          upsamplel$h22,
          upsamplel$h21,
          upsamplel$h20,
          upsamplel$h19,
          upsamplel$h18,
          upsamplel$h17,
          upsamplel$h16,
          upsamplel$h15,
          upsamplel$h14,
          upsamplel$h13,
          upsamplel$h12,
          upsamplel$h11,
          upsamplel$h10,
          upsamplel$h9,
          upsamplel$h8,
          upsamplel$h7,
          upsamplel$h6,
          upsamplel$h5,
          upsamplel$h4,
          upsamplel$h3,
          upsamplel$h2,
          upsamplel$h1,
          upsamplel$h0,
          upsamplel$idx);
        init$updateuphist (
          oversamplingv,
          inr,
          upsampler$h32,
          upsampler$h31,
          upsampler$h30,
          upsampler$h29,
          upsampler$h28,
          upsampler$h27,
          upsampler$h26,
          upsampler$h25,
          upsampler$h24,
          upsampler$h23,
          upsampler$h22,
          upsampler$h21,
          upsampler$h20,
          upsampler$h19,
          upsampler$h18,
          upsampler$h17,
          upsampler$h16,
          upsampler$h15,
          upsampler$h14,
          upsampler$h13,
          upsampler$h12,
          upsampler$h11,
          upsampler$h10,
          upsampler$h9,
          upsampler$h8,
          upsampler$h7,
          upsampler$h6,
          upsampler$h5,
          upsampler$h4,
          upsampler$h3,
          upsampler$h2,
          upsampler$h1,
          upsampler$h0,
          upsampler$idx);
        f = 0.;
        for (int $$i2 = 0, $$end2 = std::max (0, (int) (oversampling));
             $$i2 < $$end2;
             ++$$i2) {
          f += 1.;
          inl
            = oversamplingv
            * init$upsample (
                oversampling,
                upsamplel$idx,
                upsamplel$h0,
                upsamplel$h32,
                upsamplel$h1,
                upsamplel$h31,
                upsamplel$h2,
                upsamplel$h30,
                upsamplel$h3,
                upsamplel$h29,
                upsamplel$h4,
                upsamplel$h28,
                upsamplel$h5,
                upsamplel$h27,
                upsamplel$h6,
                upsamplel$h26,
                upsamplel$h7,
                upsamplel$h25,
                upsamplel$h8,
                upsamplel$h24,
                upsamplel$h9,
                upsamplel$h23,
                upsamplel$h10,
                upsamplel$h22,
                upsamplel$h11,
                upsamplel$h21,
                upsamplel$h12,
                upsamplel$h20,
                upsamplel$h13,
                upsamplel$h19,
                upsamplel$h14,
                upsamplel$h18,
                upsamplel$h15,
                upsamplel$h17,
                upsamplel$h16);
          inr
            = oversamplingv
            * init$upsample (
                oversampling,
                upsampler$idx,
                upsampler$h0,
                upsampler$h32,
                upsampler$h1,
                upsampler$h31,
                upsampler$h2,
                upsampler$h30,
                upsampler$h3,
                upsampler$h29,
                upsampler$h4,
                upsampler$h28,
                upsampler$h5,
                upsampler$h27,
                upsampler$h6,
                upsampler$h26,
                upsampler$h7,
                upsampler$h25,
                upsampler$h8,
                upsampler$h24,
                upsampler$h9,
                upsampler$h23,
                upsampler$h10,
                upsampler$h22,
                upsampler$h11,
                upsampler$h21,
                upsampler$h12,
                upsampler$h20,
                upsampler$h13,
                upsampler$h19,
                upsampler$h14,
                upsampler$h18,
                upsampler$h15,
                upsampler$h17,
                upsampler$h16);
          block$processsample();
          init$updatedownhist (
            oversamplingv,
            outl,
            downl$h65,
            downl$h64,
            downl$h63,
            downl$h62,
            downl$h61,
            downl$h60,
            downl$h59,
            downl$h58,
            downl$h57,
            downl$h56,
            downl$h55,
            downl$h54,
            downl$h53,
            downl$h52,
            downl$h51,
            downl$h50,
            downl$h49,
            downl$h48,
            downl$h47,
            downl$h46,
            downl$h45,
            downl$h44,
            downl$h43,
            downl$h42,
            downl$h41,
            downl$h40,
            downl$h39,
            downl$h38,
            downl$h37,
            downl$h36,
            downl$h35,
            downl$h34,
            downl$h33,
            downl$h32,
            downl$h31,
            downl$h30,
            downl$h29,
            downl$h28,
            downl$h27,
            downl$h26,
            downl$h25,
            downl$h24,
            downl$h23,
            downl$h22,
            downl$h21,
            downl$h20,
            downl$h19,
            downl$h18,
            downl$h17,
            downl$h16,
            downl$h15,
            downl$h14,
            downl$h13,
            downl$h12,
            downl$h11,
            downl$h10,
            downl$h9,
            downl$h8,
            downl$h7,
            downl$h6,
            downl$h5,
            downl$h4,
            downl$h3,
            downl$h2,
            downl$h1,
            downl$h0,
            downl$idx,
            downl$h97,
            downl$h96,
            downl$h95,
            downl$h94,
            downl$h93,
            downl$h92,
            downl$h91,
            downl$h90,
            downl$h89,
            downl$h88,
            downl$h87,
            downl$h86,
            downl$h85,
            downl$h84,
            downl$h83,
            downl$h82,
            downl$h81,
            downl$h80,
            downl$h79,
            downl$h78,
            downl$h77,
            downl$h76,
            downl$h75,
            downl$h74,
            downl$h73,
            downl$h72,
            downl$h71,
            downl$h70,
            downl$h69,
            downl$h68,
            downl$h67,
            downl$h66,
            downl$h129,
            downl$h128,
            downl$h127,
            downl$h126,
            downl$h125,
            downl$h124,
            downl$h123,
            downl$h122,
            downl$h121,
            downl$h120,
            downl$h119,
            downl$h118,
            downl$h117,
            downl$h116,
            downl$h115,
            downl$h114,
            downl$h113,
            downl$h112,
            downl$h111,
            downl$h110,
            downl$h109,
            downl$h108,
            downl$h107,
            downl$h106,
            downl$h105,
            downl$h104,
            downl$h103,
            downl$h102,
            downl$h101,
            downl$h100,
            downl$h99,
            downl$h98,
            downl$h161,
            downl$h160,
            downl$h159,
            downl$h158,
            downl$h157,
            downl$h156,
            downl$h155,
            downl$h154,
            downl$h153,
            downl$h152,
            downl$h151,
            downl$h150,
            downl$h149,
            downl$h148,
            downl$h147,
            downl$h146,
            downl$h145,
            downl$h144,
            downl$h143,
            downl$h142,
            downl$h141,
            downl$h140,
            downl$h139,
            downl$h138,
            downl$h137,
            downl$h136,
            downl$h135,
            downl$h134,
            downl$h133,
            downl$h132,
            downl$h131,
            downl$h130,
            downl$h193,
            downl$h192,
            downl$h191,
            downl$h190,
            downl$h189,
            downl$h188,
            downl$h187,
            downl$h186,
            downl$h185,
            downl$h184,
            downl$h183,
            downl$h182,
            downl$h181,
            downl$h180,
            downl$h179,
            downl$h178,
            downl$h177,
            downl$h176,
            downl$h175,
            downl$h174,
            downl$h173,
            downl$h172,
            downl$h171,
            downl$h170,
            downl$h169,
            downl$h168,
            downl$h167,
            downl$h166,
            downl$h165,
            downl$h164,
            downl$h163,
            downl$h162,
            downl$h225,
            downl$h224,
            downl$h223,
            downl$h222,
            downl$h221,
            downl$h220,
            downl$h219,
            downl$h218,
            downl$h217,
            downl$h216,
            downl$h215,
            downl$h214,
            downl$h213,
            downl$h212,
            downl$h211,
            downl$h210,
            downl$h209,
            downl$h208,
            downl$h207,
            downl$h206,
            downl$h205,
            downl$h204,
            downl$h203,
            downl$h202,
            downl$h201,
            downl$h200,
            downl$h199,
            downl$h198,
            downl$h197,
            downl$h196,
            downl$h195,
            downl$h194,
            downl$h257,
            downl$h256,
            downl$h255,
            downl$h254,
            downl$h253,
            downl$h252,
            downl$h251,
            downl$h250,
            downl$h249,
            downl$h248,
            downl$h247,
            downl$h246,
            downl$h245,
            downl$h244,
            downl$h243,
            downl$h242,
            downl$h241,
            downl$h240,
            downl$h239,
            downl$h238,
            downl$h237,
            downl$h236,
            downl$h235,
            downl$h234,
            downl$h233,
            downl$h232,
            downl$h231,
            downl$h230,
            downl$h229,
            downl$h228,
            downl$h227,
            downl$h226);
          init$updatedownhist (
            oversamplingv,
            outr,
            downr$h65,
            downr$h64,
            downr$h63,
            downr$h62,
            downr$h61,
            downr$h60,
            downr$h59,
            downr$h58,
            downr$h57,
            downr$h56,
            downr$h55,
            downr$h54,
            downr$h53,
            downr$h52,
            downr$h51,
            downr$h50,
            downr$h49,
            downr$h48,
            downr$h47,
            downr$h46,
            downr$h45,
            downr$h44,
            downr$h43,
            downr$h42,
            downr$h41,
            downr$h40,
            downr$h39,
            downr$h38,
            downr$h37,
            downr$h36,
            downr$h35,
            downr$h34,
            downr$h33,
            downr$h32,
            downr$h31,
            downr$h30,
            downr$h29,
            downr$h28,
            downr$h27,
            downr$h26,
            downr$h25,
            downr$h24,
            downr$h23,
            downr$h22,
            downr$h21,
            downr$h20,
            downr$h19,
            downr$h18,
            downr$h17,
            downr$h16,
            downr$h15,
            downr$h14,
            downr$h13,
            downr$h12,
            downr$h11,
            downr$h10,
            downr$h9,
            downr$h8,
            downr$h7,
            downr$h6,
            downr$h5,
            downr$h4,
            downr$h3,
            downr$h2,
            downr$h1,
            downr$h0,
            downr$idx,
            downr$h97,
            downr$h96,
            downr$h95,
            downr$h94,
            downr$h93,
            downr$h92,
            downr$h91,
            downr$h90,
            downr$h89,
            downr$h88,
            downr$h87,
            downr$h86,
            downr$h85,
            downr$h84,
            downr$h83,
            downr$h82,
            downr$h81,
            downr$h80,
            downr$h79,
            downr$h78,
            downr$h77,
            downr$h76,
            downr$h75,
            downr$h74,
            downr$h73,
            downr$h72,
            downr$h71,
            downr$h70,
            downr$h69,
            downr$h68,
            downr$h67,
            downr$h66,
            downr$h129,
            downr$h128,
            downr$h127,
            downr$h126,
            downr$h125,
            downr$h124,
            downr$h123,
            downr$h122,
            downr$h121,
            downr$h120,
            downr$h119,
            downr$h118,
            downr$h117,
            downr$h116,
            downr$h115,
            downr$h114,
            downr$h113,
            downr$h112,
            downr$h111,
            downr$h110,
            downr$h109,
            downr$h108,
            downr$h107,
            downr$h106,
            downr$h105,
            downr$h104,
            downr$h103,
            downr$h102,
            downr$h101,
            downr$h100,
            downr$h99,
            downr$h98,
            downr$h161,
            downr$h160,
            downr$h159,
            downr$h158,
            downr$h157,
            downr$h156,
            downr$h155,
            downr$h154,
            downr$h153,
            downr$h152,
            downr$h151,
            downr$h150,
            downr$h149,
            downr$h148,
            downr$h147,
            downr$h146,
            downr$h145,
            downr$h144,
            downr$h143,
            downr$h142,
            downr$h141,
            downr$h140,
            downr$h139,
            downr$h138,
            downr$h137,
            downr$h136,
            downr$h135,
            downr$h134,
            downr$h133,
            downr$h132,
            downr$h131,
            downr$h130,
            downr$h193,
            downr$h192,
            downr$h191,
            downr$h190,
            downr$h189,
            downr$h188,
            downr$h187,
            downr$h186,
            downr$h185,
            downr$h184,
            downr$h183,
            downr$h182,
            downr$h181,
            downr$h180,
            downr$h179,
            downr$h178,
            downr$h177,
            downr$h176,
            downr$h175,
            downr$h174,
            downr$h173,
            downr$h172,
            downr$h171,
            downr$h170,
            downr$h169,
            downr$h168,
            downr$h167,
            downr$h166,
            downr$h165,
            downr$h164,
            downr$h163,
            downr$h162,
            downr$h225,
            downr$h224,
            downr$h223,
            downr$h222,
            downr$h221,
            downr$h220,
            downr$h219,
            downr$h218,
            downr$h217,
            downr$h216,
            downr$h215,
            downr$h214,
            downr$h213,
            downr$h212,
            downr$h211,
            downr$h210,
            downr$h209,
            downr$h208,
            downr$h207,
            downr$h206,
            downr$h205,
            downr$h204,
            downr$h203,
            downr$h202,
            downr$h201,
            downr$h200,
            downr$h199,
            downr$h198,
            downr$h197,
            downr$h196,
            downr$h195,
            downr$h194,
            downr$h257,
            downr$h256,
            downr$h255,
            downr$h254,
            downr$h253,
            downr$h252,
            downr$h251,
            downr$h250,
            downr$h249,
            downr$h248,
            downr$h247,
            downr$h246,
            downr$h245,
            downr$h244,
            downr$h243,
            downr$h242,
            downr$h241,
            downr$h240,
            downr$h239,
            downr$h238,
            downr$h237,
            downr$h236,
            downr$h235,
            downr$h234,
            downr$h233,
            downr$h232,
            downr$h231,
            downr$h230,
            downr$h229,
            downr$h228,
            downr$h227,
            downr$h226);
          if (eel2_eq (f, 1.)) {
            spl0 = init$downsample (
              oversamplingv,
              downl$h0,
              downl$h64,
              downl$h1,
              downl$h63,
              downl$h2,
              downl$h62,
              downl$h3,
              downl$h61,
              downl$h4,
              downl$h60,
              downl$h5,
              downl$h59,
              downl$h6,
              downl$h58,
              downl$h7,
              downl$h57,
              downl$h8,
              downl$h56,
              downl$h9,
              downl$h55,
              downl$h10,
              downl$h54,
              downl$h11,
              downl$h53,
              downl$h12,
              downl$h52,
              downl$h13,
              downl$h51,
              downl$h14,
              downl$h50,
              downl$h15,
              downl$h49,
              downl$h16,
              downl$h48,
              downl$h17,
              downl$h47,
              downl$h18,
              downl$h46,
              downl$h19,
              downl$h45,
              downl$h20,
              downl$h44,
              downl$h21,
              downl$h43,
              downl$h22,
              downl$h42,
              downl$h23,
              downl$h41,
              downl$h24,
              downl$h40,
              downl$h25,
              downl$h39,
              downl$h26,
              downl$h38,
              downl$h27,
              downl$h37,
              downl$h28,
              downl$h36,
              downl$h29,
              downl$h35,
              downl$h30,
              downl$h34,
              downl$h31,
              downl$h33,
              downl$h32,
              downl$h96,
              downl$h95,
              downl$h94,
              downl$h93,
              downl$h92,
              downl$h91,
              downl$h90,
              downl$h89,
              downl$h88,
              downl$h87,
              downl$h86,
              downl$h85,
              downl$h84,
              downl$h83,
              downl$h82,
              downl$h81,
              downl$h80,
              downl$h79,
              downl$h78,
              downl$h77,
              downl$h76,
              downl$h75,
              downl$h74,
              downl$h73,
              downl$h72,
              downl$h71,
              downl$h70,
              downl$h69,
              downl$h68,
              downl$h67,
              downl$h66,
              downl$h65,
              downl$h128,
              downl$h127,
              downl$h126,
              downl$h125,
              downl$h124,
              downl$h123,
              downl$h122,
              downl$h121,
              downl$h120,
              downl$h119,
              downl$h118,
              downl$h117,
              downl$h116,
              downl$h115,
              downl$h114,
              downl$h113,
              downl$h112,
              downl$h111,
              downl$h110,
              downl$h109,
              downl$h108,
              downl$h107,
              downl$h106,
              downl$h105,
              downl$h104,
              downl$h103,
              downl$h102,
              downl$h101,
              downl$h100,
              downl$h99,
              downl$h98,
              downl$h97,
              downl$h160,
              downl$h159,
              downl$h158,
              downl$h157,
              downl$h156,
              downl$h155,
              downl$h154,
              downl$h153,
              downl$h152,
              downl$h151,
              downl$h150,
              downl$h149,
              downl$h148,
              downl$h147,
              downl$h146,
              downl$h145,
              downl$h144,
              downl$h143,
              downl$h142,
              downl$h141,
              downl$h140,
              downl$h139,
              downl$h138,
              downl$h137,
              downl$h136,
              downl$h135,
              downl$h134,
              downl$h133,
              downl$h132,
              downl$h131,
              downl$h130,
              downl$h129,
              downl$h192,
              downl$h191,
              downl$h190,
              downl$h189,
              downl$h188,
              downl$h187,
              downl$h186,
              downl$h185,
              downl$h184,
              downl$h183,
              downl$h182,
              downl$h181,
              downl$h180,
              downl$h179,
              downl$h178,
              downl$h177,
              downl$h176,
              downl$h175,
              downl$h174,
              downl$h173,
              downl$h172,
              downl$h171,
              downl$h170,
              downl$h169,
              downl$h168,
              downl$h167,
              downl$h166,
              downl$h165,
              downl$h164,
              downl$h163,
              downl$h162,
              downl$h161,
              downl$h224,
              downl$h223,
              downl$h222,
              downl$h221,
              downl$h220,
              downl$h219,
              downl$h218,
              downl$h217,
              downl$h216,
              downl$h215,
              downl$h214,
              downl$h213,
              downl$h212,
              downl$h211,
              downl$h210,
              downl$h209,
              downl$h208,
              downl$h207,
              downl$h206,
              downl$h205,
              downl$h204,
              downl$h203,
              downl$h202,
              downl$h201,
              downl$h200,
              downl$h199,
              downl$h198,
              downl$h197,
              downl$h196,
              downl$h195,
              downl$h194,
              downl$h193,
              downl$h256,
              downl$h255,
              downl$h254,
              downl$h253,
              downl$h252,
              downl$h251,
              downl$h250,
              downl$h249,
              downl$h248,
              downl$h247,
              downl$h246,
              downl$h245,
              downl$h244,
              downl$h243,
              downl$h242,
              downl$h241,
              downl$h240,
              downl$h239,
              downl$h238,
              downl$h237,
              downl$h236,
              downl$h235,
              downl$h234,
              downl$h233,
              downl$h232,
              downl$h231,
              downl$h230,
              downl$h229,
              downl$h228,
              downl$h227,
              downl$h226,
              downl$h225);
            spl1 = init$downsample (
              oversamplingv,
              downr$h0,
              downr$h64,
              downr$h1,
              downr$h63,
              downr$h2,
              downr$h62,
              downr$h3,
              downr$h61,
              downr$h4,
              downr$h60,
              downr$h5,
              downr$h59,
              downr$h6,
              downr$h58,
              downr$h7,
              downr$h57,
              downr$h8,
              downr$h56,
              downr$h9,
              downr$h55,
              downr$h10,
              downr$h54,
              downr$h11,
              downr$h53,
              downr$h12,
              downr$h52,
              downr$h13,
              downr$h51,
              downr$h14,
              downr$h50,
              downr$h15,
              downr$h49,
              downr$h16,
              downr$h48,
              downr$h17,
              downr$h47,
              downr$h18,
              downr$h46,
              downr$h19,
              downr$h45,
              downr$h20,
              downr$h44,
              downr$h21,
              downr$h43,
              downr$h22,
              downr$h42,
              downr$h23,
              downr$h41,
              downr$h24,
              downr$h40,
              downr$h25,
              downr$h39,
              downr$h26,
              downr$h38,
              downr$h27,
              downr$h37,
              downr$h28,
              downr$h36,
              downr$h29,
              downr$h35,
              downr$h30,
              downr$h34,
              downr$h31,
              downr$h33,
              downr$h32,
              downr$h96,
              downr$h95,
              downr$h94,
              downr$h93,
              downr$h92,
              downr$h91,
              downr$h90,
              downr$h89,
              downr$h88,
              downr$h87,
              downr$h86,
              downr$h85,
              downr$h84,
              downr$h83,
              downr$h82,
              downr$h81,
              downr$h80,
              downr$h79,
              downr$h78,
              downr$h77,
              downr$h76,
              downr$h75,
              downr$h74,
              downr$h73,
              downr$h72,
              downr$h71,
              downr$h70,
              downr$h69,
              downr$h68,
              downr$h67,
              downr$h66,
              downr$h65,
              downr$h128,
              downr$h127,
              downr$h126,
              downr$h125,
              downr$h124,
              downr$h123,
              downr$h122,
              downr$h121,
              downr$h120,
              downr$h119,
              downr$h118,
              downr$h117,
              downr$h116,
              downr$h115,
              downr$h114,
              downr$h113,
              downr$h112,
              downr$h111,
              downr$h110,
              downr$h109,
              downr$h108,
              downr$h107,
              downr$h106,
              downr$h105,
              downr$h104,
              downr$h103,
              downr$h102,
              downr$h101,
              downr$h100,
              downr$h99,
              downr$h98,
              downr$h97,
              downr$h160,
              downr$h159,
              downr$h158,
              downr$h157,
              downr$h156,
              downr$h155,
              downr$h154,
              downr$h153,
              downr$h152,
              downr$h151,
              downr$h150,
              downr$h149,
              downr$h148,
              downr$h147,
              downr$h146,
              downr$h145,
              downr$h144,
              downr$h143,
              downr$h142,
              downr$h141,
              downr$h140,
              downr$h139,
              downr$h138,
              downr$h137,
              downr$h136,
              downr$h135,
              downr$h134,
              downr$h133,
              downr$h132,
              downr$h131,
              downr$h130,
              downr$h129,
              downr$h192,
              downr$h191,
              downr$h190,
              downr$h189,
              downr$h188,
              downr$h187,
              downr$h186,
              downr$h185,
              downr$h184,
              downr$h183,
              downr$h182,
              downr$h181,
              downr$h180,
              downr$h179,
              downr$h178,
              downr$h177,
              downr$h176,
              downr$h175,
              downr$h174,
              downr$h173,
              downr$h172,
              downr$h171,
              downr$h170,
              downr$h169,
              downr$h168,
              downr$h167,
              downr$h166,
              downr$h165,
              downr$h164,
              downr$h163,
              downr$h162,
              downr$h161,
              downr$h224,
              downr$h223,
              downr$h222,
              downr$h221,
              downr$h220,
              downr$h219,
              downr$h218,
              downr$h217,
              downr$h216,
              downr$h215,
              downr$h214,
              downr$h213,
              downr$h212,
              downr$h211,
              downr$h210,
              downr$h209,
              downr$h208,
              downr$h207,
              downr$h206,
              downr$h205,
              downr$h204,
              downr$h203,
              downr$h202,
              downr$h201,
              downr$h200,
              downr$h199,
              downr$h198,
              downr$h197,
              downr$h196,
              downr$h195,
              downr$h194,
              downr$h193,
              downr$h256,
              downr$h255,
              downr$h254,
              downr$h253,
              downr$h252,
              downr$h251,
              downr$h250,
              downr$h249,
              downr$h248,
              downr$h247,
              downr$h246,
              downr$h245,
              downr$h244,
              downr$h243,
              downr$h242,
              downr$h241,
              downr$h240,
              downr$h239,
              downr$h238,
              downr$h237,
              downr$h236,
              downr$h235,
              downr$h234,
              downr$h233,
              downr$h232,
              downr$h231,
              downr$h230,
              downr$h229,
              downr$h228,
              downr$h227,
              downr$h226,
              downr$h225);
          }
        }
      }
      spl0 *= postgainlin;
      spl1 *= postgainlin;
      out = 20. * std::log10 (.5 * (std::abs (spl0) + std::abs (spl1)));
      bufsmoothing = .995;
      movin        = movin * bufsmoothing + in * (1. - bufsmoothing);
#if 0
      init$updatebuffer (
        movin, inbuf$scopeptr, inbuf$scopebuffermax, inbuf$scopebuffer);
      init$updatebuffer (
        cl$c, gainbuf$scopeptr, gainbuf$scopebuffermax, gainbuf$scopebuffer);
#endif
      ol4    = ol3;
      ol3    = ol2;
      ol2    = ol1;
      ol1    = out;
      movout = movout * bufsmoothing + out * (1. - bufsmoothing);
#if 0
      init$updatebuffer (
        movout, outbuf$scopeptr, outbuf$scopebuffermax, outbuf$scopebuffer);
#endif
      ;
    }
  }
  // functions for section "init"
private:
  //----------------------------------------------------------------------------
  double init$calcgain (
    double  xg,
    double& $thresh,
    double& $kwidth,
    double& $quadf,
    double& $iratio)
  {
    double tmp  = 0.;
    double diff = 0.;
    diff        = xg - $thresh;
    return [&] {
      if (($kwidth > 0.)) {
        return [&] {
          if ((2. * diff < -$kwidth)) {
            return xg;
          }
          else {
            return [&] {
              if (((2. * std::abs (diff)) <= $kwidth)) {
                tmp = (diff + 0.5 * $kwidth);
                return xg + tmp * tmp * $quadf;
              }
              else {
                return ($thresh + diff * $iratio);
              }
            }();
          }
        }();
      }
      else {
        return [&] {
          if ((xg >= $thresh)) {
            return ($thresh + diff * $iratio);
          }
          else {
            return xg;
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$compressor (
    double  mx,
    double& $xg,
    double& $yl,
    double& $at,
    double& $ya,
    double& $rt,
    double& $c,
    double& $outgain,
    double& $makeup,
    double& $thresh,
    double& $kwidth,
    double& $quadf,
    double& $iratio)
  {
    double yg = 0.;
    double xl = 0.;
    $xg       = 20. * std::log10 (std::max (std::abs (mx), 0.000001));
    yg        = init$calcgain ($xg, $thresh, $kwidth, $quadf, $iratio);
    xl        = $xg - yg;
    if (xl > $yl) {
      ($yl = $at * $yl + (1.0 - $at) * xl);
    }
    else {
      $ya = std::max (xl, $rt * $ya + (1.0 - $rt) * xl);
      $yl = $at * $yl + (1.0 - $at) * $ya;
    }
    $c       = -$yl;
    $outgain = std::exp (.11512925464970228420089957273422 * ($c + $makeup));
    return $outgain;
  }
  //----------------------------------------------------------------------------
  double init$compressor2 (
    double  mx,
    double& $xg,
    double& $yl,
    double& $at,
    double& $rt,
    double& $c,
    double& $outgain,
    double& $makeup,
    double& $thresh,
    double& $kwidth,
    double& $quadf,
    double& $iratio)
  {
    double yg = 0.;
    double xl = 0.;
    double ya = 0.;
    $xg       = 20. * std::log10 ($yl);
    yg        = init$calcgain ($xg, $thresh, $kwidth, $quadf, $iratio);
    xl        = std::max (std::abs (mx), 0.000001);
    if (xl > $yl) {
      ($yl = $at * $yl + (1.0 - $at) * xl);
    }
    else {
      ya  = std::max (xl, $rt * ya + (1.0 - $rt) * xl);
      $yl = $at * $yl + (1.0 - $at) * ya;
    }
    $c       = yg - $xg;
    $outgain = std::exp (.11512925464970228420089957273422 * ($c + $makeup));
    return $outgain;
  }
  //----------------------------------------------------------------------------
  double init$compressor2_dc (
    double  mx,
    double& $xg,
    double& $yl,
    double& $at,
    double& $rt,
    double& $c,
    double& $outgain,
    double& $makeup,
    double& $thresh,
    double& $kwidth,
    double& $quadf,
    double& $iratio)
  {
    double yg = 0.;
    double xl = 0.;
    double ya = 0.;
    $xg       = 20. * std::log10 ($yl);
    yg        = init$calcgain ($xg, $thresh, $kwidth, $quadf, $iratio);
    xl        = std::max (std::abs (mx), 0.000001);
    if (xl > $yl) {
      ($yl = $at * $yl + (1.0 - $at) * xl);
    }
    else {
      ($yl = $rt * $yl + (1.0 - $rt) * xl);
    }
    $c       = yg - $xg;
    $outgain = std::exp (.11512925464970228420089957273422 * ($c + $makeup));
    return $outgain;
  }
  //----------------------------------------------------------------------------
  double init$compressor_dc (
    double  mx,
    double& $xg,
    double& $yl,
    double& $at,
    double& $rt,
    double& $c,
    double& $outgain,
    double& $makeup,
    double& $thresh,
    double& $kwidth,
    double& $quadf,
    double& $iratio)
  {
    double yg = 0.;
    double xl = 0.;
    $xg       = 20. * std::log10 (std::max (std::abs (mx), 0.000001));
    yg        = init$calcgain ($xg, $thresh, $kwidth, $quadf, $iratio);
    xl        = $xg - yg;
    if (xl > $yl) {
      ($yl = $at * $yl + (1.0 - $at) * xl);
    }
    else {
      ($yl = $rt * $yl + (1.0 - $rt) * xl);
    }
    $c       = -$yl;
    $outgain = std::exp (.11512925464970228420089957273422 * ($c + $makeup));
    return $outgain;
  }
  //----------------------------------------------------------------------------
  double init$downsample (
    double  n,
    double& $h0,
    double& $h64,
    double& $h1,
    double& $h63,
    double& $h2,
    double& $h62,
    double& $h3,
    double& $h61,
    double& $h4,
    double& $h60,
    double& $h5,
    double& $h59,
    double& $h6,
    double& $h58,
    double& $h7,
    double& $h57,
    double& $h8,
    double& $h56,
    double& $h9,
    double& $h55,
    double& $h10,
    double& $h54,
    double& $h11,
    double& $h53,
    double& $h12,
    double& $h52,
    double& $h13,
    double& $h51,
    double& $h14,
    double& $h50,
    double& $h15,
    double& $h49,
    double& $h16,
    double& $h48,
    double& $h17,
    double& $h47,
    double& $h18,
    double& $h46,
    double& $h19,
    double& $h45,
    double& $h20,
    double& $h44,
    double& $h21,
    double& $h43,
    double& $h22,
    double& $h42,
    double& $h23,
    double& $h41,
    double& $h24,
    double& $h40,
    double& $h25,
    double& $h39,
    double& $h26,
    double& $h38,
    double& $h27,
    double& $h37,
    double& $h28,
    double& $h36,
    double& $h29,
    double& $h35,
    double& $h30,
    double& $h34,
    double& $h31,
    double& $h33,
    double& $h32,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h97,
    double& $h160,
    double& $h159,
    double& $h158,
    double& $h157,
    double& $h156,
    double& $h155,
    double& $h154,
    double& $h153,
    double& $h152,
    double& $h151,
    double& $h150,
    double& $h149,
    double& $h148,
    double& $h147,
    double& $h146,
    double& $h145,
    double& $h144,
    double& $h143,
    double& $h142,
    double& $h141,
    double& $h140,
    double& $h139,
    double& $h138,
    double& $h137,
    double& $h136,
    double& $h135,
    double& $h134,
    double& $h133,
    double& $h132,
    double& $h131,
    double& $h130,
    double& $h129,
    double& $h192,
    double& $h191,
    double& $h190,
    double& $h189,
    double& $h188,
    double& $h187,
    double& $h186,
    double& $h185,
    double& $h184,
    double& $h183,
    double& $h182,
    double& $h181,
    double& $h180,
    double& $h179,
    double& $h178,
    double& $h177,
    double& $h176,
    double& $h175,
    double& $h174,
    double& $h173,
    double& $h172,
    double& $h171,
    double& $h170,
    double& $h169,
    double& $h168,
    double& $h167,
    double& $h166,
    double& $h165,
    double& $h164,
    double& $h163,
    double& $h162,
    double& $h161,
    double& $h224,
    double& $h223,
    double& $h222,
    double& $h221,
    double& $h220,
    double& $h219,
    double& $h218,
    double& $h217,
    double& $h216,
    double& $h215,
    double& $h214,
    double& $h213,
    double& $h212,
    double& $h211,
    double& $h210,
    double& $h209,
    double& $h208,
    double& $h207,
    double& $h206,
    double& $h205,
    double& $h204,
    double& $h203,
    double& $h202,
    double& $h201,
    double& $h200,
    double& $h199,
    double& $h198,
    double& $h197,
    double& $h196,
    double& $h195,
    double& $h194,
    double& $h193,
    double& $h256,
    double& $h255,
    double& $h254,
    double& $h253,
    double& $h252,
    double& $h251,
    double& $h250,
    double& $h249,
    double& $h248,
    double& $h247,
    double& $h246,
    double& $h245,
    double& $h244,
    double& $h243,
    double& $h242,
    double& $h241,
    double& $h240,
    double& $h239,
    double& $h238,
    double& $h237,
    double& $h236,
    double& $h235,
    double& $h234,
    double& $h233,
    double& $h232,
    double& $h231,
    double& $h230,
    double& $h229,
    double& $h228,
    double& $h227,
    double& $h226,
    double& $h225)
  {
    return [&] {
      if (eel2_eq (n, 2.)) {
        return init$downsample2 (
          $h0,
          $h64,
          $h1,
          $h63,
          $h2,
          $h62,
          $h3,
          $h61,
          $h4,
          $h60,
          $h5,
          $h59,
          $h6,
          $h58,
          $h7,
          $h57,
          $h8,
          $h56,
          $h9,
          $h55,
          $h10,
          $h54,
          $h11,
          $h53,
          $h12,
          $h52,
          $h13,
          $h51,
          $h14,
          $h50,
          $h15,
          $h49,
          $h16,
          $h48,
          $h17,
          $h47,
          $h18,
          $h46,
          $h19,
          $h45,
          $h20,
          $h44,
          $h21,
          $h43,
          $h22,
          $h42,
          $h23,
          $h41,
          $h24,
          $h40,
          $h25,
          $h39,
          $h26,
          $h38,
          $h27,
          $h37,
          $h28,
          $h36,
          $h29,
          $h35,
          $h30,
          $h34,
          $h31,
          $h33,
          $h32);
      }
      else {
        return [&] {
          if (eel2_eq (n, 3.)) {
            return init$downsample3 (
              $h0,
              $h96,
              $h1,
              $h95,
              $h2,
              $h94,
              $h3,
              $h93,
              $h4,
              $h92,
              $h5,
              $h91,
              $h6,
              $h90,
              $h7,
              $h89,
              $h8,
              $h88,
              $h9,
              $h87,
              $h10,
              $h86,
              $h11,
              $h85,
              $h12,
              $h84,
              $h13,
              $h83,
              $h14,
              $h82,
              $h15,
              $h81,
              $h16,
              $h80,
              $h17,
              $h79,
              $h18,
              $h78,
              $h19,
              $h77,
              $h20,
              $h76,
              $h21,
              $h75,
              $h22,
              $h74,
              $h23,
              $h73,
              $h24,
              $h72,
              $h25,
              $h71,
              $h26,
              $h70,
              $h27,
              $h69,
              $h28,
              $h68,
              $h29,
              $h67,
              $h30,
              $h66,
              $h31,
              $h65,
              $h32,
              $h64,
              $h33,
              $h63,
              $h34,
              $h62,
              $h35,
              $h61,
              $h36,
              $h60,
              $h37,
              $h59,
              $h38,
              $h58,
              $h39,
              $h57,
              $h40,
              $h56,
              $h41,
              $h55,
              $h42,
              $h54,
              $h43,
              $h53,
              $h44,
              $h52,
              $h45,
              $h51,
              $h46,
              $h50,
              $h47,
              $h49,
              $h48);
          }
          else {
            return [&] {
              if (eel2_eq (n, 4.)) {
                return init$downsample4 (
                  $h0,
                  $h128,
                  $h1,
                  $h127,
                  $h2,
                  $h126,
                  $h3,
                  $h125,
                  $h4,
                  $h124,
                  $h5,
                  $h123,
                  $h6,
                  $h122,
                  $h7,
                  $h121,
                  $h8,
                  $h120,
                  $h9,
                  $h119,
                  $h10,
                  $h118,
                  $h11,
                  $h117,
                  $h12,
                  $h116,
                  $h13,
                  $h115,
                  $h14,
                  $h114,
                  $h15,
                  $h113,
                  $h16,
                  $h112,
                  $h17,
                  $h111,
                  $h18,
                  $h110,
                  $h19,
                  $h109,
                  $h20,
                  $h108,
                  $h21,
                  $h107,
                  $h22,
                  $h106,
                  $h23,
                  $h105,
                  $h24,
                  $h104,
                  $h25,
                  $h103,
                  $h26,
                  $h102,
                  $h27,
                  $h101,
                  $h28,
                  $h100,
                  $h29,
                  $h99,
                  $h30,
                  $h98,
                  $h31,
                  $h97,
                  $h32,
                  $h96,
                  $h33,
                  $h95,
                  $h34,
                  $h94,
                  $h35,
                  $h93,
                  $h36,
                  $h92,
                  $h37,
                  $h91,
                  $h38,
                  $h90,
                  $h39,
                  $h89,
                  $h40,
                  $h88,
                  $h41,
                  $h87,
                  $h42,
                  $h86,
                  $h43,
                  $h85,
                  $h44,
                  $h84,
                  $h45,
                  $h83,
                  $h46,
                  $h82,
                  $h47,
                  $h81,
                  $h48,
                  $h80,
                  $h49,
                  $h79,
                  $h50,
                  $h78,
                  $h51,
                  $h77,
                  $h52,
                  $h76,
                  $h53,
                  $h75,
                  $h54,
                  $h74,
                  $h55,
                  $h73,
                  $h56,
                  $h72,
                  $h57,
                  $h71,
                  $h58,
                  $h70,
                  $h59,
                  $h69,
                  $h60,
                  $h68,
                  $h61,
                  $h67,
                  $h62,
                  $h66,
                  $h63,
                  $h65,
                  $h64);
              }
              else {
                return [&] {
                  if (eel2_eq (n, 5.)) {
                    return init$downsample5 (
                      $h0,
                      $h160,
                      $h1,
                      $h159,
                      $h2,
                      $h158,
                      $h3,
                      $h157,
                      $h4,
                      $h156,
                      $h5,
                      $h155,
                      $h6,
                      $h154,
                      $h7,
                      $h153,
                      $h8,
                      $h152,
                      $h9,
                      $h151,
                      $h10,
                      $h150,
                      $h11,
                      $h149,
                      $h12,
                      $h148,
                      $h13,
                      $h147,
                      $h14,
                      $h146,
                      $h15,
                      $h145,
                      $h16,
                      $h144,
                      $h17,
                      $h143,
                      $h18,
                      $h142,
                      $h19,
                      $h141,
                      $h20,
                      $h140,
                      $h21,
                      $h139,
                      $h22,
                      $h138,
                      $h23,
                      $h137,
                      $h24,
                      $h136,
                      $h25,
                      $h135,
                      $h26,
                      $h134,
                      $h27,
                      $h133,
                      $h28,
                      $h132,
                      $h29,
                      $h131,
                      $h30,
                      $h130,
                      $h31,
                      $h129,
                      $h32,
                      $h128,
                      $h33,
                      $h127,
                      $h34,
                      $h126,
                      $h35,
                      $h125,
                      $h36,
                      $h124,
                      $h37,
                      $h123,
                      $h38,
                      $h122,
                      $h39,
                      $h121,
                      $h40,
                      $h120,
                      $h41,
                      $h119,
                      $h42,
                      $h118,
                      $h43,
                      $h117,
                      $h44,
                      $h116,
                      $h45,
                      $h115,
                      $h46,
                      $h114,
                      $h47,
                      $h113,
                      $h48,
                      $h112,
                      $h49,
                      $h111,
                      $h50,
                      $h110,
                      $h51,
                      $h109,
                      $h52,
                      $h108,
                      $h53,
                      $h107,
                      $h54,
                      $h106,
                      $h55,
                      $h105,
                      $h56,
                      $h104,
                      $h57,
                      $h103,
                      $h58,
                      $h102,
                      $h59,
                      $h101,
                      $h60,
                      $h100,
                      $h61,
                      $h99,
                      $h62,
                      $h98,
                      $h63,
                      $h97,
                      $h64,
                      $h96,
                      $h65,
                      $h95,
                      $h66,
                      $h94,
                      $h67,
                      $h93,
                      $h68,
                      $h92,
                      $h69,
                      $h91,
                      $h70,
                      $h90,
                      $h71,
                      $h89,
                      $h72,
                      $h88,
                      $h73,
                      $h87,
                      $h74,
                      $h86,
                      $h75,
                      $h85,
                      $h76,
                      $h84,
                      $h77,
                      $h83,
                      $h78,
                      $h82,
                      $h79,
                      $h81,
                      $h80);
                  }
                  else {
                    return [&] {
                      if (eel2_eq (n, 6.)) {
                        return init$downsample6 (
                          $h0,
                          $h192,
                          $h1,
                          $h191,
                          $h2,
                          $h190,
                          $h3,
                          $h189,
                          $h4,
                          $h188,
                          $h5,
                          $h187,
                          $h6,
                          $h186,
                          $h7,
                          $h185,
                          $h8,
                          $h184,
                          $h9,
                          $h183,
                          $h10,
                          $h182,
                          $h11,
                          $h181,
                          $h12,
                          $h180,
                          $h13,
                          $h179,
                          $h14,
                          $h178,
                          $h15,
                          $h177,
                          $h16,
                          $h176,
                          $h17,
                          $h175,
                          $h18,
                          $h174,
                          $h19,
                          $h173,
                          $h20,
                          $h172,
                          $h21,
                          $h171,
                          $h22,
                          $h170,
                          $h23,
                          $h169,
                          $h24,
                          $h168,
                          $h25,
                          $h167,
                          $h26,
                          $h166,
                          $h27,
                          $h165,
                          $h28,
                          $h164,
                          $h29,
                          $h163,
                          $h30,
                          $h162,
                          $h31,
                          $h161,
                          $h32,
                          $h160,
                          $h33,
                          $h159,
                          $h34,
                          $h158,
                          $h35,
                          $h157,
                          $h36,
                          $h156,
                          $h37,
                          $h155,
                          $h38,
                          $h154,
                          $h39,
                          $h153,
                          $h40,
                          $h152,
                          $h41,
                          $h151,
                          $h42,
                          $h150,
                          $h43,
                          $h149,
                          $h44,
                          $h148,
                          $h45,
                          $h147,
                          $h46,
                          $h146,
                          $h47,
                          $h145,
                          $h48,
                          $h144,
                          $h49,
                          $h143,
                          $h50,
                          $h142,
                          $h51,
                          $h141,
                          $h52,
                          $h140,
                          $h53,
                          $h139,
                          $h54,
                          $h138,
                          $h55,
                          $h137,
                          $h56,
                          $h136,
                          $h57,
                          $h135,
                          $h58,
                          $h134,
                          $h59,
                          $h133,
                          $h60,
                          $h132,
                          $h61,
                          $h131,
                          $h62,
                          $h130,
                          $h63,
                          $h129,
                          $h64,
                          $h128,
                          $h65,
                          $h127,
                          $h66,
                          $h126,
                          $h67,
                          $h125,
                          $h68,
                          $h124,
                          $h69,
                          $h123,
                          $h70,
                          $h122,
                          $h71,
                          $h121,
                          $h72,
                          $h120,
                          $h73,
                          $h119,
                          $h74,
                          $h118,
                          $h75,
                          $h117,
                          $h76,
                          $h116,
                          $h77,
                          $h115,
                          $h78,
                          $h114,
                          $h79,
                          $h113,
                          $h80,
                          $h112,
                          $h81,
                          $h111,
                          $h82,
                          $h110,
                          $h83,
                          $h109,
                          $h84,
                          $h108,
                          $h85,
                          $h107,
                          $h86,
                          $h106,
                          $h87,
                          $h105,
                          $h88,
                          $h104,
                          $h89,
                          $h103,
                          $h90,
                          $h102,
                          $h91,
                          $h101,
                          $h92,
                          $h100,
                          $h93,
                          $h99,
                          $h94,
                          $h98,
                          $h95,
                          $h97,
                          $h96);
                      }
                      else {
                        return [&] {
                          if (eel2_eq (n, 7.)) {
                            return init$downsample7 (
                              $h0,
                              $h224,
                              $h1,
                              $h223,
                              $h2,
                              $h222,
                              $h3,
                              $h221,
                              $h4,
                              $h220,
                              $h5,
                              $h219,
                              $h6,
                              $h218,
                              $h7,
                              $h217,
                              $h8,
                              $h216,
                              $h9,
                              $h215,
                              $h10,
                              $h214,
                              $h11,
                              $h213,
                              $h12,
                              $h212,
                              $h13,
                              $h211,
                              $h14,
                              $h210,
                              $h15,
                              $h209,
                              $h16,
                              $h208,
                              $h17,
                              $h207,
                              $h18,
                              $h206,
                              $h19,
                              $h205,
                              $h20,
                              $h204,
                              $h21,
                              $h203,
                              $h22,
                              $h202,
                              $h23,
                              $h201,
                              $h24,
                              $h200,
                              $h25,
                              $h199,
                              $h26,
                              $h198,
                              $h27,
                              $h197,
                              $h28,
                              $h196,
                              $h29,
                              $h195,
                              $h30,
                              $h194,
                              $h31,
                              $h193,
                              $h32,
                              $h192,
                              $h33,
                              $h191,
                              $h34,
                              $h190,
                              $h35,
                              $h189,
                              $h36,
                              $h188,
                              $h37,
                              $h187,
                              $h38,
                              $h186,
                              $h39,
                              $h185,
                              $h40,
                              $h184,
                              $h41,
                              $h183,
                              $h42,
                              $h182,
                              $h43,
                              $h181,
                              $h44,
                              $h180,
                              $h45,
                              $h179,
                              $h46,
                              $h178,
                              $h47,
                              $h177,
                              $h48,
                              $h176,
                              $h49,
                              $h175,
                              $h50,
                              $h174,
                              $h51,
                              $h173,
                              $h52,
                              $h172,
                              $h53,
                              $h171,
                              $h54,
                              $h170,
                              $h55,
                              $h169,
                              $h56,
                              $h168,
                              $h57,
                              $h167,
                              $h58,
                              $h166,
                              $h59,
                              $h165,
                              $h60,
                              $h164,
                              $h61,
                              $h163,
                              $h62,
                              $h162,
                              $h63,
                              $h161,
                              $h64,
                              $h160,
                              $h65,
                              $h159,
                              $h66,
                              $h158,
                              $h67,
                              $h157,
                              $h68,
                              $h156,
                              $h69,
                              $h155,
                              $h70,
                              $h154,
                              $h71,
                              $h153,
                              $h72,
                              $h152,
                              $h73,
                              $h151,
                              $h74,
                              $h150,
                              $h75,
                              $h149,
                              $h76,
                              $h148,
                              $h77,
                              $h147,
                              $h78,
                              $h146,
                              $h79,
                              $h145,
                              $h80,
                              $h144,
                              $h81,
                              $h143,
                              $h82,
                              $h142,
                              $h83,
                              $h141,
                              $h84,
                              $h140,
                              $h85,
                              $h139,
                              $h86,
                              $h138,
                              $h87,
                              $h137,
                              $h88,
                              $h136,
                              $h89,
                              $h135,
                              $h90,
                              $h134,
                              $h91,
                              $h133,
                              $h92,
                              $h132,
                              $h93,
                              $h131,
                              $h94,
                              $h130,
                              $h95,
                              $h129,
                              $h96,
                              $h128,
                              $h97,
                              $h127,
                              $h98,
                              $h126,
                              $h99,
                              $h125,
                              $h100,
                              $h124,
                              $h101,
                              $h123,
                              $h102,
                              $h122,
                              $h103,
                              $h121,
                              $h104,
                              $h120,
                              $h105,
                              $h119,
                              $h106,
                              $h118,
                              $h107,
                              $h117,
                              $h108,
                              $h116,
                              $h109,
                              $h115,
                              $h110,
                              $h114,
                              $h111,
                              $h113,
                              $h112);
                          }
                          else {
                            return [&] {
                              if (eel2_eq (n, 8.)) {
                                return init$downsample8 (
                                  $h0,
                                  $h256,
                                  $h1,
                                  $h255,
                                  $h2,
                                  $h254,
                                  $h3,
                                  $h253,
                                  $h4,
                                  $h252,
                                  $h5,
                                  $h251,
                                  $h6,
                                  $h250,
                                  $h7,
                                  $h249,
                                  $h8,
                                  $h248,
                                  $h9,
                                  $h247,
                                  $h10,
                                  $h246,
                                  $h11,
                                  $h245,
                                  $h12,
                                  $h244,
                                  $h13,
                                  $h243,
                                  $h14,
                                  $h242,
                                  $h15,
                                  $h241,
                                  $h16,
                                  $h240,
                                  $h17,
                                  $h239,
                                  $h18,
                                  $h238,
                                  $h19,
                                  $h237,
                                  $h20,
                                  $h236,
                                  $h21,
                                  $h235,
                                  $h22,
                                  $h234,
                                  $h23,
                                  $h233,
                                  $h24,
                                  $h232,
                                  $h25,
                                  $h231,
                                  $h26,
                                  $h230,
                                  $h27,
                                  $h229,
                                  $h28,
                                  $h228,
                                  $h29,
                                  $h227,
                                  $h30,
                                  $h226,
                                  $h31,
                                  $h225,
                                  $h32,
                                  $h224,
                                  $h33,
                                  $h223,
                                  $h34,
                                  $h222,
                                  $h35,
                                  $h221,
                                  $h36,
                                  $h220,
                                  $h37,
                                  $h219,
                                  $h38,
                                  $h218,
                                  $h39,
                                  $h217,
                                  $h40,
                                  $h216,
                                  $h41,
                                  $h215,
                                  $h42,
                                  $h214,
                                  $h43,
                                  $h213,
                                  $h44,
                                  $h212,
                                  $h45,
                                  $h211,
                                  $h46,
                                  $h210,
                                  $h47,
                                  $h209,
                                  $h48,
                                  $h208,
                                  $h49,
                                  $h207,
                                  $h50,
                                  $h206,
                                  $h51,
                                  $h205,
                                  $h52,
                                  $h204,
                                  $h53,
                                  $h203,
                                  $h54,
                                  $h202,
                                  $h55,
                                  $h201,
                                  $h56,
                                  $h200,
                                  $h57,
                                  $h199,
                                  $h58,
                                  $h198,
                                  $h59,
                                  $h197,
                                  $h60,
                                  $h196,
                                  $h61,
                                  $h195,
                                  $h62,
                                  $h194,
                                  $h63,
                                  $h193,
                                  $h64,
                                  $h192,
                                  $h65,
                                  $h191,
                                  $h66,
                                  $h190,
                                  $h67,
                                  $h189,
                                  $h68,
                                  $h188,
                                  $h69,
                                  $h187,
                                  $h70,
                                  $h186,
                                  $h71,
                                  $h185,
                                  $h72,
                                  $h184,
                                  $h73,
                                  $h183,
                                  $h74,
                                  $h182,
                                  $h75,
                                  $h181,
                                  $h76,
                                  $h180,
                                  $h77,
                                  $h179,
                                  $h78,
                                  $h178,
                                  $h79,
                                  $h177,
                                  $h80,
                                  $h176,
                                  $h81,
                                  $h175,
                                  $h82,
                                  $h174,
                                  $h83,
                                  $h173,
                                  $h84,
                                  $h172,
                                  $h85,
                                  $h171,
                                  $h86,
                                  $h170,
                                  $h87,
                                  $h169,
                                  $h88,
                                  $h168,
                                  $h89,
                                  $h167,
                                  $h90,
                                  $h166,
                                  $h91,
                                  $h165,
                                  $h92,
                                  $h164,
                                  $h93,
                                  $h163,
                                  $h94,
                                  $h162,
                                  $h95,
                                  $h161,
                                  $h96,
                                  $h160,
                                  $h97,
                                  $h159,
                                  $h98,
                                  $h158,
                                  $h99,
                                  $h157,
                                  $h100,
                                  $h156,
                                  $h101,
                                  $h155,
                                  $h102,
                                  $h154,
                                  $h103,
                                  $h153,
                                  $h104,
                                  $h152,
                                  $h105,
                                  $h151,
                                  $h106,
                                  $h150,
                                  $h107,
                                  $h149,
                                  $h108,
                                  $h148,
                                  $h109,
                                  $h147,
                                  $h110,
                                  $h146,
                                  $h111,
                                  $h145,
                                  $h112,
                                  $h144,
                                  $h113,
                                  $h143,
                                  $h114,
                                  $h142,
                                  $h115,
                                  $h141,
                                  $h116,
                                  $h140,
                                  $h117,
                                  $h139,
                                  $h118,
                                  $h138,
                                  $h119,
                                  $h137,
                                  $h120,
                                  $h136,
                                  $h121,
                                  $h135,
                                  $h122,
                                  $h134,
                                  $h123,
                                  $h133,
                                  $h124,
                                  $h132,
                                  $h125,
                                  $h131,
                                  $h126,
                                  $h130,
                                  $h127,
                                  $h129,
                                  $h128);
                              }
                              else {
                                return 0. / 0.;
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$downsample2 (
    double& $h0,
    double& $h64,
    double& $h1,
    double& $h63,
    double& $h2,
    double& $h62,
    double& $h3,
    double& $h61,
    double& $h4,
    double& $h60,
    double& $h5,
    double& $h59,
    double& $h6,
    double& $h58,
    double& $h7,
    double& $h57,
    double& $h8,
    double& $h56,
    double& $h9,
    double& $h55,
    double& $h10,
    double& $h54,
    double& $h11,
    double& $h53,
    double& $h12,
    double& $h52,
    double& $h13,
    double& $h51,
    double& $h14,
    double& $h50,
    double& $h15,
    double& $h49,
    double& $h16,
    double& $h48,
    double& $h17,
    double& $h47,
    double& $h18,
    double& $h46,
    double& $h19,
    double& $h45,
    double& $h20,
    double& $h44,
    double& $h21,
    double& $h43,
    double& $h22,
    double& $h42,
    double& $h23,
    double& $h41,
    double& $h24,
    double& $h40,
    double& $h25,
    double& $h39,
    double& $h26,
    double& $h38,
    double& $h27,
    double& $h37,
    double& $h28,
    double& $h36,
    double& $h29,
    double& $h35,
    double& $h30,
    double& $h34,
    double& $h31,
    double& $h33,
    double& $h32)
  {
    return -0.0000000000000000000099181713 * ($h0 + $h64)
      - 0.0000157684019076028459651045 * ($h1 + $h63)
      + 0.0000000000000000001890212759 * ($h2 + $h62)
      + 0.0000668896391717849198152099 * ($h3 + $h61)
      - 0.0000000000000000001992354234 * ($h4 + $h60)
      - 0.0001891989906380298460189526 * ($h5 + $h59)
      - 0.0000000000000000005752212179 * ($h6 + $h58)
      + 0.0004377128379096322354294135 * ($h7 + $h57)
      - 0.0000000000000000009298561215 * ($h8 + $h56)
      - 0.0008906785065136706321109461 * ($h9 + $h55)
      + 0.0000000000000000060050299396 * ($h10 + $h54)
      + 0.0016533331700159757931406501 * ($h11 + $h53)
      - 0.0000000000000000026844636138 * ($h12 + $h52)
      - 0.0028619810722864957863720292 * ($h13 + $h51)
      + 0.0000000000000000040627689494 * ($h14 + $h50)
      + 0.0046904282259888118236657029 * ($h15 + $h49)
      - 0.0000000000000000057849349670 * ($h16 + $h48)
      - 0.0073635540137577323860362810 * ($h17 + $h47)
      + 0.0000000000000000078079915472 * ($h18 + $h46)
      + 0.0111887532178094675772150879 * ($h19 + $h45)
      - 0.0000000000000000100436068618 * ($h20 + $h44)
      - 0.0166308919344621067293310546 * ($h21 + $h43)
      + 0.0000000000000000123616084976 * ($h22 + $h42)
      + 0.0245002933530227423597480652 * ($h23 + $h41)
      - 0.0000000000000000146007297630 * ($h24 + $h40)
      - 0.0364790852956249495031570973 * ($h25 + $h39)
      + 0.0000000000000000165855976951 * ($h26 + $h38)
      + 0.0569279209706458830253517078 * ($h27 + $h37)
      - 0.0000000000000000181476788196 * ($h28 + $h36)
      - 0.1019328347498759945732871302 * ($h29 + $h35)
      + 0.0000000000000000191469682927 * ($h30 + $h34)
      + 0.3168974327353483722014004798 * ($h31 + $h33)
      + 0.5000000000000000000000000000 * $h32;
  }
  //----------------------------------------------------------------------------
  double init$downsample3 (
    double& $h0,
    double& $h96,
    double& $h1,
    double& $h95,
    double& $h2,
    double& $h94,
    double& $h3,
    double& $h93,
    double& $h4,
    double& $h92,
    double& $h5,
    double& $h91,
    double& $h6,
    double& $h90,
    double& $h7,
    double& $h89,
    double& $h8,
    double& $h88,
    double& $h9,
    double& $h87,
    double& $h10,
    double& $h86,
    double& $h11,
    double& $h85,
    double& $h12,
    double& $h84,
    double& $h13,
    double& $h83,
    double& $h14,
    double& $h82,
    double& $h15,
    double& $h81,
    double& $h16,
    double& $h80,
    double& $h17,
    double& $h79,
    double& $h18,
    double& $h78,
    double& $h19,
    double& $h77,
    double& $h20,
    double& $h76,
    double& $h21,
    double& $h75,
    double& $h22,
    double& $h74,
    double& $h23,
    double& $h73,
    double& $h24,
    double& $h72,
    double& $h25,
    double& $h71,
    double& $h26,
    double& $h70,
    double& $h27,
    double& $h69,
    double& $h28,
    double& $h68,
    double& $h29,
    double& $h67,
    double& $h30,
    double& $h66,
    double& $h31,
    double& $h65,
    double& $h32,
    double& $h64,
    double& $h33,
    double& $h63,
    double& $h34,
    double& $h62,
    double& $h35,
    double& $h61,
    double& $h36,
    double& $h60,
    double& $h37,
    double& $h59,
    double& $h38,
    double& $h58,
    double& $h39,
    double& $h57,
    double& $h40,
    double& $h56,
    double& $h41,
    double& $h55,
    double& $h42,
    double& $h54,
    double& $h43,
    double& $h53,
    double& $h44,
    double& $h52,
    double& $h45,
    double& $h51,
    double& $h46,
    double& $h50,
    double& $h47,
    double& $h49,
    double& $h48)
  {
    return -0.0000000000000000000066121142 * ($h0 + $h96)
      - 0.0000065876445494106254432954 * ($h1 + $h95)
      - 0.0000121671875267996685741293 * ($h2 + $h94)
      + 0.0000000000000000001260141839 * ($h3 + $h93)
      + 0.0000315282859974594324562781 * ($h4 + $h92)
      + 0.0000468259781374402386409581 * ($h5 + $h91)
      - 0.0000000000000000001328236156 * ($h6 + $h90)
      - 0.0000934166103276844840075724 * ($h7 + $h89)
      - 0.0001270453090432086408045204 * ($h8 + $h88)
      + 0.0000000000000000010062436728 * ($h9 + $h87)
      + 0.0002220046797640929801993803 * ($h10 + $h86)
      + 0.0002866664164929718207688869 * ($h11 + $h85)
      - 0.0000000000000000006199040810 * ($h12 + $h84)
      - 0.0004600789817233408534984107 * ($h13 + $h83)
      - 0.0005733145806488167952816304 * ($h14 + $h82)
      + 0.0000000000000000040033532930 * ($h15 + $h81)
      + 0.0008656515972657312808086205 * ($h16 + $h80)
      + 0.0010505580751447142831556114 * ($h17 + $h79)
      - 0.0000000000000000069814144954 * ($h18 + $h78)
      - 0.0015142299368397637172184433 * ($h19 + $h77)
      - 0.0018003775571569121099341215 * ($h20 + $h76)
      + 0.0000000000000000114389844054 * ($h21 + $h75)
      + 0.0025021704768435778197532837 * ($h22 + $h74)
      + 0.0029273153917977420314378012 * ($h23 + $h73)
      - 0.0000000000000000038566233113 * ($h24 + $h72)
      - 0.0039535267431878920452170689 * ($h25 + $h71)
      - 0.0045674611580107504077430391 * ($h26 + $h70)
      + 0.0000000000000000052053276982 * ($h27 + $h69)
      + 0.0060357948241555898355459320 * ($h28 + $h68)
      + 0.0069093933017410737520980213 * ($h29 + $h67)
      - 0.0000000000000000066957379078 * ($h30 + $h66)
      - 0.0089972683720108970195639131 * ($h31 + $h65)
      - 0.0102443810443442022417581683 * ($h32 + $h64)
      + 0.0000000000000000321485127637 * ($h33 + $h63)
      + 0.0132596240390790414548360943 * ($h34 + $h62)
      + 0.0150939952445445519507716270 * ($h35 + $h61)
      - 0.0000000000000000097338198420 * ($h36 + $h60)
      - 0.0196710725273944314617224904 * ($h37 + $h59)
      - 0.0225769162988834239114144253 * ($h38 + $h58)
      + 0.0000000000000000110570651301 * ($h39 + $h57)
      + 0.0303390231990166119036000936 * ($h40 + $h56)
      + 0.0357287597153385858006480191 * ($h41 + $h55)
      - 0.0000000000000000120984525464 * ($h42 + $h54)
      - 0.0524687268568565026716221666 * ($h43 + $h53)
      - 0.0667677831802520743709195017 * ($h44 + $h52)
      + 0.0000000000000000127646455285 * ($h45 + $h51)
      + 0.1367466000743488840907247095 * ($h46 + $h50)
      + 0.2751201919563462938711495553 * ($h47 + $h49)
      + 0.3333333333333333148296162562 * $h48;
  }
  //----------------------------------------------------------------------------
  double init$downsample4 (
    double& $h0,
    double& $h128,
    double& $h1,
    double& $h127,
    double& $h2,
    double& $h126,
    double& $h3,
    double& $h125,
    double& $h4,
    double& $h124,
    double& $h5,
    double& $h123,
    double& $h6,
    double& $h122,
    double& $h7,
    double& $h121,
    double& $h8,
    double& $h120,
    double& $h9,
    double& $h119,
    double& $h10,
    double& $h118,
    double& $h11,
    double& $h117,
    double& $h12,
    double& $h116,
    double& $h13,
    double& $h115,
    double& $h14,
    double& $h114,
    double& $h15,
    double& $h113,
    double& $h16,
    double& $h112,
    double& $h17,
    double& $h111,
    double& $h18,
    double& $h110,
    double& $h19,
    double& $h109,
    double& $h20,
    double& $h108,
    double& $h21,
    double& $h107,
    double& $h22,
    double& $h106,
    double& $h23,
    double& $h105,
    double& $h24,
    double& $h104,
    double& $h25,
    double& $h103,
    double& $h26,
    double& $h102,
    double& $h27,
    double& $h101,
    double& $h28,
    double& $h100,
    double& $h29,
    double& $h99,
    double& $h30,
    double& $h98,
    double& $h31,
    double& $h97,
    double& $h32,
    double& $h96,
    double& $h33,
    double& $h95,
    double& $h34,
    double& $h94,
    double& $h35,
    double& $h93,
    double& $h36,
    double& $h92,
    double& $h37,
    double& $h91,
    double& $h38,
    double& $h90,
    double& $h39,
    double& $h89,
    double& $h40,
    double& $h88,
    double& $h41,
    double& $h87,
    double& $h42,
    double& $h86,
    double& $h43,
    double& $h85,
    double& $h44,
    double& $h84,
    double& $h45,
    double& $h83,
    double& $h46,
    double& $h82,
    double& $h47,
    double& $h81,
    double& $h48,
    double& $h80,
    double& $h49,
    double& $h79,
    double& $h50,
    double& $h78,
    double& $h51,
    double& $h77,
    double& $h52,
    double& $h76,
    double& $h53,
    double& $h75,
    double& $h54,
    double& $h74,
    double& $h55,
    double& $h73,
    double& $h56,
    double& $h72,
    double& $h57,
    double& $h71,
    double& $h58,
    double& $h70,
    double& $h59,
    double& $h69,
    double& $h60,
    double& $h68,
    double& $h61,
    double& $h67,
    double& $h62,
    double& $h66,
    double& $h63,
    double& $h65,
    double& $h64)
  {
    return -0.0000000000000000000049590856 * ($h0 + $h128)
      - 0.0000033757231426914220009483 * ($h1 + $h127)
      - 0.0000078842009538014229825522 * ($h2 + $h126)
      - 0.0000085289094933942085101017 * ($h3 + $h125)
      + 0.0000000000000000000945106379 * ($h4 + $h124)
      + 0.0000173704096919697869292644 * ($h5 + $h123)
      + 0.0000334448195858924599076049 * ($h6 + $h122)
      + 0.0000314676513835836232728903 * ($h7 + $h121)
      - 0.0000000000000000000996177117 * ($h8 + $h120)
      - 0.0000527876562282808908473965 * ($h9 + $h119)
      - 0.0000945994953190149230094763 * ($h10 + $h118)
      - 0.0000837447779586459115216610 * ($h11 + $h117)
      - 0.0000000000000000002876106089 * ($h12 + $h116)
      + 0.0001272462008927691297366369 * ($h13 + $h115)
      + 0.0002188564189548161177147068 * ($h14 + $h114)
      + 0.0001867347348124971499489649 * ($h15 + $h113)
      - 0.0000000000000000004649280607 * ($h16 + $h112)
      - 0.0002662294539509409531732875 * ($h17 + $h111)
      - 0.0004453392532568353160554731 * ($h18 + $h110)
      - 0.0003703653962742688740376884 * ($h19 + $h109)
      + 0.0000000000000000030025149698 * ($h20 + $h108)
      + 0.0005044354914877378958174003 * ($h21 + $h107)
      + 0.0008266665850079878965703251 * ($h22 + $h106)
      + 0.0006744394357876423934730625 * ($h23 + $h105)
      - 0.0000000000000000013422318069 * ($h24 + $h104)
      - 0.0008871474448981886244680606 * ($h25 + $h103)
      - 0.0014309905361432478931860146 * ($h26 + $h102)
      - 0.0011501899711908994319159438 * ($h27 + $h101)
      + 0.0000000000000000020313844747 * ($h28 + $h100)
      + 0.0014721915626140886449585432 * ($h29 + $h99)
      + 0.0023452141129944059118328514 * ($h30 + $h98)
      + 0.0018629731561917639223735499 * ($h31 + $h97)
      - 0.0000000000000000028924674835 * ($h32 + $h96)
      - 0.0023338616348788105564482365 * ($h33 + $h95)
      - 0.0036817770068788661930181405 * ($h34 + $h94)
      - 0.0028981644904514727856259526 * ($h35 + $h93)
      + 0.0000000000000000039039957736 * ($h36 + $h92)
      + 0.0035719011586020370414840119 * ($h37 + $h91)
      + 0.0055943766089047337886075439 * ($h38 + $h90)
      + 0.0043749359551812942378812288 * ($h39 + $h89)
      - 0.0000000000000000050218034309 * ($h40 + $h88)
      - 0.0053327653893248576702501573 * ($h41 + $h87)
      - 0.0083154459672310533646655273 * ($h42 + $h86)
      - 0.0064793859444149210988217469 * ($h43 + $h85)
      + 0.0000000000000000061808042488 * ($h44 + $h84)
      + 0.0078620405765405087378239202 * ($h45 + $h83)
      + 0.0122501466765113711798740326 * ($h46 + $h82)
      + 0.0095493791503994621822082323 * ($h47 + $h81)
      - 0.0000000000000000073003648815 * ($h48 + $h80)
      - 0.0116462054453138064147310615 * ($h49 + $h79)
      - 0.0182395426478124747515785486 * ($h50 + $h78)
      - 0.0143218836975414522127980632 * ($h51 + $h77)
      + 0.0000000000000000082927988476 * ($h52 + $h76)
      + 0.0178697620839786477930921649 * ($h53 + $h75)
      + 0.0284639604853229415126758539 * ($h54 + $h74)
      + 0.0228458254220083416263786802 * ($h55 + $h73)
      - 0.0000000000000000090738394098 * ($h56 + $h72)
      - 0.0304449875627864352534146519 * ($h57 + $h71)
      - 0.0509664173749379972866435651 * ($h58 + $h70)
      - 0.0437803489925406158489451514 * ($h59 + $h69)
      + 0.0000000000000000095734841463 * ($h60 + $h68)
      + 0.0742791559061112965922646367 * ($h61 + $h67)
      + 0.1584487163676741861007002399 * ($h62 + $h66)
      + 0.2248290167387327342929381757 * ($h63 + $h65)
      + 0.2500000000000000000000000000 * $h64;
  }
  //----------------------------------------------------------------------------
  double init$downsample5 (
    double& $h0,
    double& $h160,
    double& $h1,
    double& $h159,
    double& $h2,
    double& $h158,
    double& $h3,
    double& $h157,
    double& $h4,
    double& $h156,
    double& $h5,
    double& $h155,
    double& $h6,
    double& $h154,
    double& $h7,
    double& $h153,
    double& $h8,
    double& $h152,
    double& $h9,
    double& $h151,
    double& $h10,
    double& $h150,
    double& $h11,
    double& $h149,
    double& $h12,
    double& $h148,
    double& $h13,
    double& $h147,
    double& $h14,
    double& $h146,
    double& $h15,
    double& $h145,
    double& $h16,
    double& $h144,
    double& $h17,
    double& $h143,
    double& $h18,
    double& $h142,
    double& $h19,
    double& $h141,
    double& $h20,
    double& $h140,
    double& $h21,
    double& $h139,
    double& $h22,
    double& $h138,
    double& $h23,
    double& $h137,
    double& $h24,
    double& $h136,
    double& $h25,
    double& $h135,
    double& $h26,
    double& $h134,
    double& $h27,
    double& $h133,
    double& $h28,
    double& $h132,
    double& $h29,
    double& $h131,
    double& $h30,
    double& $h130,
    double& $h31,
    double& $h129,
    double& $h32,
    double& $h128,
    double& $h33,
    double& $h127,
    double& $h34,
    double& $h126,
    double& $h35,
    double& $h125,
    double& $h36,
    double& $h124,
    double& $h37,
    double& $h123,
    double& $h38,
    double& $h122,
    double& $h39,
    double& $h121,
    double& $h40,
    double& $h120,
    double& $h41,
    double& $h119,
    double& $h42,
    double& $h118,
    double& $h43,
    double& $h117,
    double& $h44,
    double& $h116,
    double& $h45,
    double& $h115,
    double& $h46,
    double& $h114,
    double& $h47,
    double& $h113,
    double& $h48,
    double& $h112,
    double& $h49,
    double& $h111,
    double& $h50,
    double& $h110,
    double& $h51,
    double& $h109,
    double& $h52,
    double& $h108,
    double& $h53,
    double& $h107,
    double& $h54,
    double& $h106,
    double& $h55,
    double& $h105,
    double& $h56,
    double& $h104,
    double& $h57,
    double& $h103,
    double& $h58,
    double& $h102,
    double& $h59,
    double& $h101,
    double& $h60,
    double& $h100,
    double& $h61,
    double& $h99,
    double& $h62,
    double& $h98,
    double& $h63,
    double& $h97,
    double& $h64,
    double& $h96,
    double& $h65,
    double& $h95,
    double& $h66,
    double& $h94,
    double& $h67,
    double& $h93,
    double& $h68,
    double& $h92,
    double& $h69,
    double& $h91,
    double& $h70,
    double& $h90,
    double& $h71,
    double& $h89,
    double& $h72,
    double& $h88,
    double& $h73,
    double& $h87,
    double& $h74,
    double& $h86,
    double& $h75,
    double& $h85,
    double& $h76,
    double& $h84,
    double& $h77,
    double& $h83,
    double& $h78,
    double& $h82,
    double& $h79,
    double& $h81,
    double& $h80)
  {
    return -0.0000000000000000000039672685 * ($h0 + $h160)
      - 0.0000020040784318467392476027 * ($h1 + $h159)
      - 0.0000049636593540504435166649 * ($h2 + $h158)
      - 0.0000071633353882701092035855 * ($h3 + $h157)
      - 0.0000061340766418378592938652 * ($h4 + $h156)
      - 0.0000000000000000000240690941 * ($h5 + $h155)
      + 0.0000108253096983519385469947 * ($h6 + $h154)
      + 0.0000225597852236812819980150 * ($h7 + $h153)
      + 0.0000285976732926204015646388 * ($h8 + $h152)
      + 0.0000221036723710291892414440 * ($h9 + $h151)
      - 0.0000000000000000000796941694 * ($h10 + $h150)
      - 0.0000334267394639819646288276 * ($h11 + $h149)
      - 0.0000655718766920392493336572 * ($h12 + $h148)
      - 0.0000788520702166965487423661 * ($h13 + $h147)
      - 0.0000581731106148586154538059 * ($h14 + $h146)
      - 0.0000000000000000002300884871 * ($h15 + $h145)
      + 0.0000812885364278627533607749 * ($h16 + $h144)
      + 0.0001541288504632941207001667 * ($h17 + $h143)
      + 0.0001796721815035577586756876 * ($h18 + $h142)
      + 0.0001288193523382497637352201 * ($h19 + $h141)
      - 0.0000000000000000003719424486 * ($h20 + $h140)
      - 0.0001710737879368568945242374 * ($h21 + $h139)
      - 0.0003170482895769423446578894 * ($h22 + $h138)
      - 0.0003617886471048386664954577 * ($h23 + $h137)
      - 0.0002542520270353692277490176 * ($h24 + $h136)
      - 0.0000000000000000010812391722 * ($h25 + $h135)
      + 0.0003255298241389545290530583 * ($h26 + $h134)
      + 0.0005932740411023884998312217 * ($h27 + $h133)
      + 0.0006663417376881307233396634 * ($h28 + $h132)
      + 0.0004612925302986218829663645 * ($h29 + $h131)
      + 0.0000000000000000020412778062 * ($h30 + $h130)
      - 0.0005743929430109174670213146 * ($h31 + $h129)
      - 0.0010333917139092665959942963 * ($h32 + $h128)
      - 0.0011464753753984140583616069 * ($h33 + $h127)
      - 0.0007844277619955119119216080 * ($h34 + $h126)
      - 0.0000000000000000036131754838 * ($h35 + $h125)
      + 0.0009556552871967618394480337 * ($h36 + $h124)
      + 0.0017019283676469108661233332 * ($h37 + $h123)
      + 0.0018699505341761618517487653 * ($h38 + $h122)
      + 0.0012676655265794014616764773 * ($h39 + $h121)
      - 0.0000000000000000023139739868 * ($h40 + $h120)
      - 0.0015180737634252010857804915 * ($h41 + $h119)
      - 0.0026821130890590594644806721 * ($h42 + $h118)
      - 0.0029247490220080107903299904 * ($h43 + $h117)
      - 0.0019686223775265869820327858 * ($h44 + $h116)
      + 0.0000000000000000031231966189 * ($h45 + $h115)
      + 0.0023268949177368100818263930 * ($h46 + $h114)
      + 0.0040868586598085858765938561 * ($h47 + $h113)
      + 0.0044321045911488079344087154 * ($h48 + $h112)
      + 0.0029680888615995410818870770 * ($h49 + $h111)
      - 0.0000000000000000040174427447 * ($h50 + $h110)
      - 0.0034773889908164888444541685 * ($h51 + $h109)
      - 0.0060848633748633263948479843 * ($h52 + $h108)
      - 0.0065776689850511370696861668 * ($h53 + $h107)
      - 0.0043930768998547099421503326 * ($h54 + $h106)
      - 0.0000000000000000093998208602 * ($h55 + $h105)
      + 0.0051281163111687629030388536 * ($h56 + $h104)
      + 0.0089655987817445180476649824 * ($h57 + $h103)
      + 0.0096902925932619687204860881 * ($h58 + $h102)
      + 0.0064761156532928496748491298 * ($h59 + $h101)
      - 0.0000000000000000058402919052 * ($h60 + $h100)
      - 0.0075903257385385733760352345 * ($h61 + $h99)
      - 0.0133186453281675595827771019 * ($h62 + $h98)
      - 0.0144660372448623900792918917 * ($h63 + $h97)
      - 0.0097296501550104830258192123 * ($h64 + $h96)
      + 0.0000000000000000066342390781 * ($h65 + $h95)
      + 0.0116129539613201195058511672 * ($h66 + $h94)
      + 0.0206334159092098588794694791 * ($h67 + $h93)
      + 0.0227587083433087242201331435 * ($h68 + $h92)
      + 0.0156000068103777905087481415 * ($h69 + $h91)
      - 0.0000000000000000072590715279 * ($h70 + $h90)
      - 0.0196212203355458983389247862 * ($h71 + $h89)
      - 0.0361531912940253399857404304 * ($h72 + $h88)
      - 0.0417630571018613311329303883 * ($h73 + $h87)
      - 0.0303934815691062065745597920 * ($h74 + $h86)
      + 0.0000000000000000076587873171 * ($h75 + $h85)
      + 0.0462447722576860287269084893 * ($h76 + $h84)
      + 0.1002660003900417012845380782 * ($h77 + $h83)
      + 0.1509351738893692784770905746 * ($h78 + $h82)
      + 0.1869647991286631505403192932 * ($h79 + $h81)
      + 0.2000000000000000111022302463 * $h80;
  }
  //----------------------------------------------------------------------------
  double init$downsample6 (
    double& $h0,
    double& $h192,
    double& $h1,
    double& $h191,
    double& $h2,
    double& $h190,
    double& $h3,
    double& $h189,
    double& $h4,
    double& $h188,
    double& $h5,
    double& $h187,
    double& $h6,
    double& $h186,
    double& $h7,
    double& $h185,
    double& $h8,
    double& $h184,
    double& $h9,
    double& $h183,
    double& $h10,
    double& $h182,
    double& $h11,
    double& $h181,
    double& $h12,
    double& $h180,
    double& $h13,
    double& $h179,
    double& $h14,
    double& $h178,
    double& $h15,
    double& $h177,
    double& $h16,
    double& $h176,
    double& $h17,
    double& $h175,
    double& $h18,
    double& $h174,
    double& $h19,
    double& $h173,
    double& $h20,
    double& $h172,
    double& $h21,
    double& $h171,
    double& $h22,
    double& $h170,
    double& $h23,
    double& $h169,
    double& $h24,
    double& $h168,
    double& $h25,
    double& $h167,
    double& $h26,
    double& $h166,
    double& $h27,
    double& $h165,
    double& $h28,
    double& $h164,
    double& $h29,
    double& $h163,
    double& $h30,
    double& $h162,
    double& $h31,
    double& $h161,
    double& $h32,
    double& $h160,
    double& $h33,
    double& $h159,
    double& $h34,
    double& $h158,
    double& $h35,
    double& $h157,
    double& $h36,
    double& $h156,
    double& $h37,
    double& $h155,
    double& $h38,
    double& $h154,
    double& $h39,
    double& $h153,
    double& $h40,
    double& $h152,
    double& $h41,
    double& $h151,
    double& $h42,
    double& $h150,
    double& $h43,
    double& $h149,
    double& $h44,
    double& $h148,
    double& $h45,
    double& $h147,
    double& $h46,
    double& $h146,
    double& $h47,
    double& $h145,
    double& $h48,
    double& $h144,
    double& $h49,
    double& $h143,
    double& $h50,
    double& $h142,
    double& $h51,
    double& $h141,
    double& $h52,
    double& $h140,
    double& $h53,
    double& $h139,
    double& $h54,
    double& $h138,
    double& $h55,
    double& $h137,
    double& $h56,
    double& $h136,
    double& $h57,
    double& $h135,
    double& $h58,
    double& $h134,
    double& $h59,
    double& $h133,
    double& $h60,
    double& $h132,
    double& $h61,
    double& $h131,
    double& $h62,
    double& $h130,
    double& $h63,
    double& $h129,
    double& $h64,
    double& $h128,
    double& $h65,
    double& $h127,
    double& $h66,
    double& $h126,
    double& $h67,
    double& $h125,
    double& $h68,
    double& $h124,
    double& $h69,
    double& $h123,
    double& $h70,
    double& $h122,
    double& $h71,
    double& $h121,
    double& $h72,
    double& $h120,
    double& $h73,
    double& $h119,
    double& $h74,
    double& $h118,
    double& $h75,
    double& $h117,
    double& $h76,
    double& $h116,
    double& $h77,
    double& $h115,
    double& $h78,
    double& $h114,
    double& $h79,
    double& $h113,
    double& $h80,
    double& $h112,
    double& $h81,
    double& $h111,
    double& $h82,
    double& $h110,
    double& $h83,
    double& $h109,
    double& $h84,
    double& $h108,
    double& $h85,
    double& $h107,
    double& $h86,
    double& $h106,
    double& $h87,
    double& $h105,
    double& $h88,
    double& $h104,
    double& $h89,
    double& $h103,
    double& $h90,
    double& $h102,
    double& $h91,
    double& $h101,
    double& $h92,
    double& $h100,
    double& $h93,
    double& $h99,
    double& $h94,
    double& $h98,
    double& $h95,
    double& $h97,
    double& $h96)
  {
    return -0.0000000000000000000033060571 * ($h0 + $h192)
      - 0.0000013130145912945136275359 * ($h1 + $h191)
      - 0.0000032938222747053127216477 * ($h2 + $h190)
      - 0.0000052561339692009486550348 * ($h3 + $h189)
      - 0.0000060835937633998342870647 * ($h4 + $h188)
      - 0.0000045766934787663860988833 * ($h5 + $h187)
      + 0.0000000000000000000630070920 * ($h6 + $h186)
      + 0.0000073439443760792366905701 * ($h7 + $h185)
      + 0.0000157641429987297162281391 * ($h8 + $h184)
      + 0.0000222965463905949744011139 * ($h9 + $h183)
      + 0.0000234129890687201193204790 * ($h10 + $h182)
      + 0.0000162445946569879465801525 * ($h11 + $h181)
      - 0.0000000000000000000664118078 * ($h12 + $h180)
      - 0.0000229272977242405951142212 * ($h13 + $h179)
      - 0.0000467083051638422420037862 * ($h14 + $h178)
      - 0.0000630663302126766153396509 * ($h15 + $h177)
      - 0.0000635226545216043204022602 * ($h16 + $h176)
      - 0.0000424442055122803863376896 * ($h17 + $h175)
      + 0.0000000000000000005031218364 * ($h18 + $h174)
      + 0.0000560903708277947542562569 * ($h19 + $h173)
      + 0.0001110023398820464900996902 * ($h20 + $h172)
      + 0.0001459042793032107722481922 * ($h21 + $h171)
      + 0.0001433332082464859103844435 * ($h22 + $h170)
      + 0.0000935630488359698937912701 * ($h23 + $h169)
      - 0.0000000000000000003099520405 * ($h24 + $h168)
      - 0.0001185121436409100045611051 * ($h25 + $h167)
      - 0.0002300394908616704267492054 * ($h26 + $h166)
      - 0.0002968928355045568593002792 * ($h27 + $h165)
      - 0.0002866572903244083976408152 * ($h28 + $h164)
      - 0.0001840734075925766445244736 * ($h29 + $h163)
      + 0.0000000000000000020016766465 * ($h30 + $h162)
      + 0.0002261639754569758911043748 * ($h31 + $h161)
      + 0.0004328257986328656404043103 * ($h32 + $h160)
      + 0.0005511110566719920394671006 * ($h33 + $h159)
      + 0.0005252790375723571415778057 * ($h34 + $h158)
      + 0.0003331558875107856927677563 * ($h35 + $h157)
      - 0.0000000000000000034907072477 * ($h36 + $h156)
      - 0.0003999481657687324132402495 * ($h37 + $h155)
      - 0.0007571149684198818586092217 * ($h38 + $h154)
      - 0.0009539936907621653344041546 * ($h39 + $h153)
      - 0.0009001887785784560549670608 * ($h40 + $h152)
      - 0.0005654560596576519619985146 * ($h41 + $h151)
      + 0.0000000000000000057194922027 * ($h42 + $h150)
      + 0.0006665801863784329281056862 * ($h43 + $h149)
      + 0.0012510852384217889098766419 * ($h44 + $h148)
      + 0.0015634760753296041580623355 * ($h45 + $h147)
      + 0.0014636576958988710157189006 * ($h46 + $h146)
      + 0.0009124316699355662294013136 * ($h47 + $h145)
      - 0.0000000000000000019283116557 * ($h48 + $h144)
      - 0.0010603213855115130401923773 * ($h49 + $h143)
      - 0.0019767633715939460226085345 * ($h50 + $h142)
      - 0.0024545180045859103616645580 * ($h51 + $h141)
      - 0.0022837305790053752038715196 * ($h52 + $h140)
      - 0.0014153323471542266377004582 * ($h53 + $h139)
      + 0.0000000000000000026026638491 * ($h54 + $h138)
      + 0.0016269241021066927540411617 * ($h55 + $h137)
      + 0.0030178974120777949177729660 * ($h56 + $h136)
      + 0.0037295844059364899152064776 * ($h57 + $h135)
      + 0.0034546966508705368760490106 * ($h58 + $h134)
      + 0.0021321773335247766641142864 * ($h59 + $h133)
      - 0.0000000000000000033478689539 * ($h60 + $h132)
      - 0.0024329502999875947909236285 * ($h61 + $h131)
      - 0.0044986341860054485097819565 * ($h62 + $h130)
      - 0.0055436306448207028213515102 * ($h63 + $h129)
      - 0.0051221905221721011208790841 * ($h64 + $h128)
      - 0.0031545944797414429000559366 * ($h65 + $h127)
      + 0.0000000000000000160742563819 * ($h66 + $h126)
      + 0.0035886322644059901777746635 * ($h67 + $h125)
      + 0.0066298120195395207274180471 * ($h68 + $h124)
      + 0.0081667644510075802083415297 * ($h69 + $h123)
      + 0.0075469976222722759753858135 * ($h70 + $h122)
      + 0.0046512772851241019483881090 * ($h71 + $h121)
      - 0.0000000000000000048669099210 * ($h72 + $h120)
      - 0.0053090559209842420190783585 * ($h73 + $h119)
      - 0.0098355362636972157308612452 * ($h74 + $h118)
      - 0.0121596950985416504126268578 * ($h75 + $h117)
      - 0.0112884581494417119557072127 * ($h76 + $h116)
      - 0.0069965758337235794267483513 * ($h77 + $h115)
      + 0.0000000000000000055285325650 * ($h78 + $h114)
      + 0.0081077644703959755867472836 * ($h79 + $h113)
      + 0.0151695115995083059518000468 * ($h80 + $h112)
      + 0.0189759736568819621649328866 * ($h81 + $h111)
      + 0.0178643798576692929003240096 * ($h82 + $h110)
      + 0.0112579594474530118169974813 * ($h83 + $h109)
      - 0.0000000000000000060492262732 * ($h84 + $h108)
      - 0.0136265521459370854417958441 * ($h85 + $h107)
      - 0.0262343634284282513358110833 * ($h86 + $h106)
      - 0.0339776115832919958781310754 * ($h87 + $h105)
      - 0.0333838915901260371854597508 * ($h88 + $h104)
      - 0.0221919713131508364312161063 * ($h89 + $h103)
      + 0.0000000000000000063823227642 * ($h90 + $h102)
      + 0.0314400272193331165038188146 * ($h91 + $h101)
      + 0.0683733000371744420453623547 * ($h92 + $h100)
      + 0.1056324775784494574004668266 * ($h93 + $h99)
      + 0.1375600959781731469355747777 * ($h94 + $h98)
      + 0.1590763343355732495343346500 * ($h95 + $h97)
      + 0.1666666666666666574148081281 * $h96;
  }
  //----------------------------------------------------------------------------
  double init$downsample7 (
    double& $h0,
    double& $h224,
    double& $h1,
    double& $h223,
    double& $h2,
    double& $h222,
    double& $h3,
    double& $h221,
    double& $h4,
    double& $h220,
    double& $h5,
    double& $h219,
    double& $h6,
    double& $h218,
    double& $h7,
    double& $h217,
    double& $h8,
    double& $h216,
    double& $h9,
    double& $h215,
    double& $h10,
    double& $h214,
    double& $h11,
    double& $h213,
    double& $h12,
    double& $h212,
    double& $h13,
    double& $h211,
    double& $h14,
    double& $h210,
    double& $h15,
    double& $h209,
    double& $h16,
    double& $h208,
    double& $h17,
    double& $h207,
    double& $h18,
    double& $h206,
    double& $h19,
    double& $h205,
    double& $h20,
    double& $h204,
    double& $h21,
    double& $h203,
    double& $h22,
    double& $h202,
    double& $h23,
    double& $h201,
    double& $h24,
    double& $h200,
    double& $h25,
    double& $h199,
    double& $h26,
    double& $h198,
    double& $h27,
    double& $h197,
    double& $h28,
    double& $h196,
    double& $h29,
    double& $h195,
    double& $h30,
    double& $h194,
    double& $h31,
    double& $h193,
    double& $h32,
    double& $h192,
    double& $h33,
    double& $h191,
    double& $h34,
    double& $h190,
    double& $h35,
    double& $h189,
    double& $h36,
    double& $h188,
    double& $h37,
    double& $h187,
    double& $h38,
    double& $h186,
    double& $h39,
    double& $h185,
    double& $h40,
    double& $h184,
    double& $h41,
    double& $h183,
    double& $h42,
    double& $h182,
    double& $h43,
    double& $h181,
    double& $h44,
    double& $h180,
    double& $h45,
    double& $h179,
    double& $h46,
    double& $h178,
    double& $h47,
    double& $h177,
    double& $h48,
    double& $h176,
    double& $h49,
    double& $h175,
    double& $h50,
    double& $h174,
    double& $h51,
    double& $h173,
    double& $h52,
    double& $h172,
    double& $h53,
    double& $h171,
    double& $h54,
    double& $h170,
    double& $h55,
    double& $h169,
    double& $h56,
    double& $h168,
    double& $h57,
    double& $h167,
    double& $h58,
    double& $h166,
    double& $h59,
    double& $h165,
    double& $h60,
    double& $h164,
    double& $h61,
    double& $h163,
    double& $h62,
    double& $h162,
    double& $h63,
    double& $h161,
    double& $h64,
    double& $h160,
    double& $h65,
    double& $h159,
    double& $h66,
    double& $h158,
    double& $h67,
    double& $h157,
    double& $h68,
    double& $h156,
    double& $h69,
    double& $h155,
    double& $h70,
    double& $h154,
    double& $h71,
    double& $h153,
    double& $h72,
    double& $h152,
    double& $h73,
    double& $h151,
    double& $h74,
    double& $h150,
    double& $h75,
    double& $h149,
    double& $h76,
    double& $h148,
    double& $h77,
    double& $h147,
    double& $h78,
    double& $h146,
    double& $h79,
    double& $h145,
    double& $h80,
    double& $h144,
    double& $h81,
    double& $h143,
    double& $h82,
    double& $h142,
    double& $h83,
    double& $h141,
    double& $h84,
    double& $h140,
    double& $h85,
    double& $h139,
    double& $h86,
    double& $h138,
    double& $h87,
    double& $h137,
    double& $h88,
    double& $h136,
    double& $h89,
    double& $h135,
    double& $h90,
    double& $h134,
    double& $h91,
    double& $h133,
    double& $h92,
    double& $h132,
    double& $h93,
    double& $h131,
    double& $h94,
    double& $h130,
    double& $h95,
    double& $h129,
    double& $h96,
    double& $h128,
    double& $h97,
    double& $h127,
    double& $h98,
    double& $h126,
    double& $h99,
    double& $h125,
    double& $h100,
    double& $h124,
    double& $h101,
    double& $h123,
    double& $h102,
    double& $h122,
    double& $h103,
    double& $h121,
    double& $h104,
    double& $h120,
    double& $h105,
    double& $h119,
    double& $h106,
    double& $h118,
    double& $h107,
    double& $h117,
    double& $h108,
    double& $h116,
    double& $h109,
    double& $h115,
    double& $h110,
    double& $h114,
    double& $h111,
    double& $h113,
    double& $h112)
  {
    return -0.0000000000000000000028337632 * ($h0 + $h224)
      - 0.0000009216163905494045722593 * ($h1 + $h223)
      - 0.0000023056658627698541076635 * ($h2 + $h222)
      - 0.0000038417389529282175070538 * ($h3 + $h221)
      - 0.0000049913017360818245649881 * ($h4 + $h220)
      - 0.0000050891494452033029534778 * ($h5 + $h219)
      - 0.0000035291979415113102401481 * ($h6 + $h218)
      + 0.0000000000000000000540060788 * ($h7 + $h217)
      + 0.0000052919032927216100019199 * ($h8 + $h216)
      + 0.0000114877644211315289136206 * ($h9 + $h215)
      + 0.0000171034027145189642846960 * ($h10 + $h214)
      + 0.0000202598378664954129600197 * ($h11 + $h213)
      + 0.0000191104631386301232010092 * ($h12 + $h212)
      + 0.0000123958706921492685588179 * ($h13 + $h211)
      - 0.0000000000000000002928362962 * ($h14 + $h210)
      - 0.0000166540129366328577462629 * ($h15 + $h209)
      - 0.0000345272925086780559035711 * ($h16 + $h208)
      - 0.0000493180721931350330485694 * ($h17 + $h207)
      - 0.0000562616150274062706208682 * ($h18 + $h206)
      - 0.0000512749277693074691111645 * ($h19 + $h205)
      - 0.0000322235527615813324275179 * ($h20 + $h204)
      + 0.0000000000000000004312472883 * ($h21 + $h203)
      + 0.0000409201899831446077584682 * ($h22 + $h202)
      + 0.0000827178714405936102048097 * ($h23 + $h201)
      + 0.0001153907318793145767368835 * ($h24 + $h200)
      + 0.0001287472023828216752261433 * ($h25 + $h199)
      + 0.0001149102035842205631359023 * ($h26 + $h198)
      + 0.0000708053129213741803179433 * ($h27 + $h197)
      - 0.0000000000000000002656731776 * ($h28 + $h196)
      - 0.0000867068814117001569015050 * ($h29 + $h195)
      - 0.0001723539708339743366412311 * ($h30 + $h194)
      - 0.0002366195985770357893690496 * ($h31 + $h193)
      - 0.0002600153729756948675980177 * ($h32 + $h192)
      - 0.0002287177507233066251456088 * ($h33 + $h191)
      - 0.0001389836178512661554913799 * ($h34 + $h190)
      + 0.0000000000000000017157228399 * ($h35 + $h189)
      + 0.0001658122848563750508388975 * ($h36 + $h188)
      + 0.0003255815601830407135519607 * ($h37 + $h187)
      + 0.0004417469989478828773163399 * ($h38 + $h186)
      + 0.0004799571766397800996750700 * ($h39 + $h185)
      + 0.0004176077282406142027020024 * ($h40 + $h184)
      + 0.0002511144059100562536158974 * ($h41 + $h183)
      - 0.0000000000000000029920347837 * ($h42 + $h182)
      - 0.0002936898920988913674542942 * ($h43 + $h181)
      - 0.0005712689305005380505445012 * ($h44 + $h180)
      - 0.0007680759573169227902300626 * ($h45 + $h179)
      - 0.0008272135371227355401038683 * ($h46 + $h178)
      - 0.0007136696604607006702916672 * ($h47 + $h177)
      - 0.0004256352483052204603401758 * ($h48 + $h176)
      + 0.0000000000000000011607911284 * ($h49 + $h175)
      + 0.0004900966398705362001356201 * ($h50 + $h174)
      + 0.0009462690062738290204188973 * ($h51 + $h173)
      + 0.0012631838352285132756613883 * ($h52 + $h172)
      + 0.0013510528475350871892984861 * ($h53 + $h171)
      + 0.0011578315711606287832097228 * ($h54 + $h170)
      + 0.0006860848810972315246423103 * ($h55 + $h169)
      - 0.0000000000000000016528385620 * ($h56 + $h168)
      - 0.0007803579819763274780936024 * ($h57 + $h167)
      - 0.0014979701011105211582580266 * ($h58 + $h166)
      - 0.0019884895270683468349037781 * ($h59 + $h165)
      - 0.0021153789039776993430308494 * ($h60 + $h164)
      - 0.0018034764393366578029420655 * ($h61 + $h163)
      - 0.0010633640942445924011672265 * ($h62 + $h162)
      + 0.0000000000000000114761887554 * ($h63 + $h161)
      + 0.0011982436734402183986514245 * ($h64 + $h160)
      + 0.0022901459526252104272059373 * ($h65 + $h159)
      + 0.0030274929251044471571752137 * ($h66 + $h158)
      + 0.0032080415540193178529360107 * ($h67 + $h157)
      + 0.0027248832800737489076570164 * ($h68 + $h156)
      + 0.0016010335807077485676536144 * ($h69 + $h155)
      - 0.0000000000000000028696019605 * ($h70 + $h154)
      - 0.0017927564657956164377583530 * ($h71 + $h153)
      - 0.0034168166415133641687640331 * ($h72 + $h152)
      - 0.0045053751276789384336285416 * ($h73 + $h151)
      - 0.0047630834256236339804835289 * ($h74 + $h150)
      - 0.0040374977682065471204508889 * ($h75 + $h149)
      - 0.0023681119238136930787996803 * ($h76 + $h148)
      + 0.0000000000000000137779340416 * ($h77 + $h147)
      + 0.0026447638629933270353056241 * ($h78 + $h146)
      + 0.0050364975077381779131058259 * ($h79 + $h145)
      + 0.0066378972017938041305651353 * ($h80 + $h144)
      + 0.0070168447237937215180125783 * ($h81 + $h143)
      + 0.0059496745483291358508326496 * ($h82 + $h142)
      + 0.0034921809684760308188644640 * ($h83 + $h141)
      - 0.0000000000000000041716370752 * ($h84 + $h140)
      - 0.0039113827965556041688088840 * ($h85 + $h139)
      - 0.0074652516214652716100563801 * ($h86 + $h138)
      - 0.0098668871393735712443939789 * ($h87 + $h137)
      - 0.0104667799331977975224594601 * ($h88 + $h136)
      - 0.0089125999900665549974254631 * ($h89 + $h135)
      - 0.0052577752274794416556535914 * ($h90 + $h134)
      + 0.0000000000000000047387421986 * ($h91 + $h133)
      + 0.0059656942323318851856273071 * ($h92 + $h132)
      + 0.0114792754733474382244917678 * ($h93 + $h131)
      + 0.0153166468500505557198687612 * ($h94 + $h130)
      + 0.0164274034804239160711958334 * ($h95 + $h129)
      + 0.0141675364477254431966324333 * ($h96 + $h128)
      + 0.0084823175454419585950205374 * ($h97 + $h127)
      - 0.0000000000000000051850510913 * ($h98 + $h126)
      - 0.0099897750993028482796587397 * ($h99 + $h125)
      - 0.0196798459780563698984234833 * ($h100 + $h124)
      - 0.0269968600415785263402224103 * ($h101 + $h123)
      - 0.0299247119219566287684486383 * ($h102 + $h122)
      - 0.0268493210130021989212600886 * ($h103 + $h121)
      - 0.0168668147466190382344208842 * ($h104 + $h120)
      + 0.0000000000000000054705623693 * ($h105 + $h119)
      + 0.0227192372722485741443065876 * ($h106 + $h118)
      + 0.0493231366585765024224130570 * ($h107 + $h117)
      + 0.0771329265309410178064197794 * ($h108 + $h116)
      + 0.1031056515787995148114575272 * ($h109 + $h115)
      + 0.1242518090095610094891753761 * ($h110 + $h114)
      + 0.1380593641728841691751483722 * ($h111 + $h113)
      + 0.1428571428571428492126926812 * $h112;
  }
  //----------------------------------------------------------------------------
  double init$downsample8 (
    double& $h0,
    double& $h256,
    double& $h1,
    double& $h255,
    double& $h2,
    double& $h254,
    double& $h3,
    double& $h253,
    double& $h4,
    double& $h252,
    double& $h5,
    double& $h251,
    double& $h6,
    double& $h250,
    double& $h7,
    double& $h249,
    double& $h8,
    double& $h248,
    double& $h9,
    double& $h247,
    double& $h10,
    double& $h246,
    double& $h11,
    double& $h245,
    double& $h12,
    double& $h244,
    double& $h13,
    double& $h243,
    double& $h14,
    double& $h242,
    double& $h15,
    double& $h241,
    double& $h16,
    double& $h240,
    double& $h17,
    double& $h239,
    double& $h18,
    double& $h238,
    double& $h19,
    double& $h237,
    double& $h20,
    double& $h236,
    double& $h21,
    double& $h235,
    double& $h22,
    double& $h234,
    double& $h23,
    double& $h233,
    double& $h24,
    double& $h232,
    double& $h25,
    double& $h231,
    double& $h26,
    double& $h230,
    double& $h27,
    double& $h229,
    double& $h28,
    double& $h228,
    double& $h29,
    double& $h227,
    double& $h30,
    double& $h226,
    double& $h31,
    double& $h225,
    double& $h32,
    double& $h224,
    double& $h33,
    double& $h223,
    double& $h34,
    double& $h222,
    double& $h35,
    double& $h221,
    double& $h36,
    double& $h220,
    double& $h37,
    double& $h219,
    double& $h38,
    double& $h218,
    double& $h39,
    double& $h217,
    double& $h40,
    double& $h216,
    double& $h41,
    double& $h215,
    double& $h42,
    double& $h214,
    double& $h43,
    double& $h213,
    double& $h44,
    double& $h212,
    double& $h45,
    double& $h211,
    double& $h46,
    double& $h210,
    double& $h47,
    double& $h209,
    double& $h48,
    double& $h208,
    double& $h49,
    double& $h207,
    double& $h50,
    double& $h206,
    double& $h51,
    double& $h205,
    double& $h52,
    double& $h204,
    double& $h53,
    double& $h203,
    double& $h54,
    double& $h202,
    double& $h55,
    double& $h201,
    double& $h56,
    double& $h200,
    double& $h57,
    double& $h199,
    double& $h58,
    double& $h198,
    double& $h59,
    double& $h197,
    double& $h60,
    double& $h196,
    double& $h61,
    double& $h195,
    double& $h62,
    double& $h194,
    double& $h63,
    double& $h193,
    double& $h64,
    double& $h192,
    double& $h65,
    double& $h191,
    double& $h66,
    double& $h190,
    double& $h67,
    double& $h189,
    double& $h68,
    double& $h188,
    double& $h69,
    double& $h187,
    double& $h70,
    double& $h186,
    double& $h71,
    double& $h185,
    double& $h72,
    double& $h184,
    double& $h73,
    double& $h183,
    double& $h74,
    double& $h182,
    double& $h75,
    double& $h181,
    double& $h76,
    double& $h180,
    double& $h77,
    double& $h179,
    double& $h78,
    double& $h178,
    double& $h79,
    double& $h177,
    double& $h80,
    double& $h176,
    double& $h81,
    double& $h175,
    double& $h82,
    double& $h174,
    double& $h83,
    double& $h173,
    double& $h84,
    double& $h172,
    double& $h85,
    double& $h171,
    double& $h86,
    double& $h170,
    double& $h87,
    double& $h169,
    double& $h88,
    double& $h168,
    double& $h89,
    double& $h167,
    double& $h90,
    double& $h166,
    double& $h91,
    double& $h165,
    double& $h92,
    double& $h164,
    double& $h93,
    double& $h163,
    double& $h94,
    double& $h162,
    double& $h95,
    double& $h161,
    double& $h96,
    double& $h160,
    double& $h97,
    double& $h159,
    double& $h98,
    double& $h158,
    double& $h99,
    double& $h157,
    double& $h100,
    double& $h156,
    double& $h101,
    double& $h155,
    double& $h102,
    double& $h154,
    double& $h103,
    double& $h153,
    double& $h104,
    double& $h152,
    double& $h105,
    double& $h151,
    double& $h106,
    double& $h150,
    double& $h107,
    double& $h149,
    double& $h108,
    double& $h148,
    double& $h109,
    double& $h147,
    double& $h110,
    double& $h146,
    double& $h111,
    double& $h145,
    double& $h112,
    double& $h144,
    double& $h113,
    double& $h143,
    double& $h114,
    double& $h142,
    double& $h115,
    double& $h141,
    double& $h116,
    double& $h140,
    double& $h117,
    double& $h139,
    double& $h118,
    double& $h138,
    double& $h119,
    double& $h137,
    double& $h120,
    double& $h136,
    double& $h121,
    double& $h135,
    double& $h122,
    double& $h134,
    double& $h123,
    double& $h133,
    double& $h124,
    double& $h132,
    double& $h125,
    double& $h131,
    double& $h126,
    double& $h130,
    double& $h127,
    double& $h129,
    double& $h128)
  {
    return -0.0000000000000000000024795428 * ($h0 + $h256)
      - 0.0000006803148294403403240085 * ($h1 + $h255)
      - 0.0000016878615713457110004741 * ($h2 + $h254)
      - 0.0000028681134349177630976982 * ($h3 + $h253)
      - 0.0000039421004769007114912761 * ($h4 + $h252)
      - 0.0000045389867265569728643987 * ($h5 + $h251)
      - 0.0000042644547466971042550508 * ($h6 + $h250)
      - 0.0000027976177647387653767326 * ($h7 + $h249)
      + 0.0000000000000000000472553190 * ($h8 + $h248)
      + 0.0000039872596009206984652437 * ($h9 + $h247)
      + 0.0000086852048459848934646322 * ($h10 + $h246)
      + 0.0000132827546779635278568392 * ($h11 + $h245)
      + 0.0000167224097929462299538025 * ($h12 + $h244)
      + 0.0000178674632702761483995547 * ($h13 + $h243)
      + 0.0000157338256917918116364451 * ($h14 + $h242)
      + 0.0000097507875923091769565423 * ($h15 + $h241)
      - 0.0000000000000000000498088559 * ($h16 + $h240)
      - 0.0000126251762581024824187020 * ($h17 + $h239)
      - 0.0000263938281141404454236982 * ($h18 + $h238)
      - 0.0000388824361638155527407662 * ($h19 + $h237)
      - 0.0000472997476595074615047382 * ($h20 + $h236)
      - 0.0000489646661868617930806272 * ($h21 + $h235)
      - 0.0000418723889793229557608305 * ($h22 + $h234)
      - 0.0000252519656178402472754187 * ($h23 + $h233)
      - 0.0000000000000000001438053045 * ($h24 + $h232)
      + 0.0000311231272746631258446955 * ($h25 + $h231)
      + 0.0000636231004463845648683185 * ($h26 + $h230)
      + 0.0000917682144134630920764492 * ($h27 + $h229)
      + 0.0001094282094774080588573534 * ($h28 + $h228)
      + 0.0001111586126348065953770364 * ($h29 + $h227)
      + 0.0000933673674062485749744825 * ($h30 + $h226)
      + 0.0000553542435157647824141812 * ($h31 + $h225)
      - 0.0000000000000000002324640304 * ($h32 + $h224)
      - 0.0000660902200866433941518763 * ($h33 + $h223)
      - 0.0001331147269754704765866438 * ($h34 + $h222)
      - 0.0001892936360503736574305289 * ($h35 + $h221)
      - 0.0002226696266284176580277365 * ($h36 + $h220)
      - 0.0002232547031576829999963141 * ($h37 + $h219)
      - 0.0001851826981371344370188442 * ($h38 + $h218)
      - 0.0001084705085018196140615038 * ($h39 + $h217)
      + 0.0000000000000000015012574849 * ($h40 + $h216)
      + 0.0001265847230504769471790688 * ($h41 + $h215)
      + 0.0002522177457438689479087002 * ($h42 + $h214)
      + 0.0003549389116972150189609214 * ($h43 + $h213)
      + 0.0004133332925039939482851625 * ($h44 + $h212)
      + 0.0004104001176654410308793086 * ($h45 + $h211)
      + 0.0003372197178938211967365313 * ($h46 + $h210)
      + 0.0001957317937978928824600128 * ($h47 + $h209)
      - 0.0000000000000000006711159034 * ($h48 + $h208)
      - 0.0002244787857641317000995801 * ($h49 + $h207)
      - 0.0004435737224490943122340303 * ($h50 + $h206)
      - 0.0006192262890162011186243052 * ($h51 + $h205)
      - 0.0007154952680716239465930073 * ($h52 + $h204)
      - 0.0007050588799140777417767678 * ($h53 + $h203)
      - 0.0005750949855954497159579719 * ($h54 + $h202)
      - 0.0003314289517209756679057275 * ($h55 + $h201)
      + 0.0000000000000000010156922373 * ($h56 + $h200)
      + 0.0003749540685660616165866821 * ($h57 + $h199)
      + 0.0007360957813070443224792716 * ($h58 + $h198)
      + 0.0010210953324857666418140623 * ($h59 + $h197)
      + 0.0011726070564972029559164257 * ($h60 + $h196)
      + 0.0011486254180071819430003499 * ($h61 + $h195)
      + 0.0009314865780958819611867749 * ($h62 + $h194)
      + 0.0005338098045430211780956742 * ($h63 + $h193)
      - 0.0000000000000000014462337417 * ($h64 + $h192)
      - 0.0005974646196974044186703279 * ($h65 + $h191)
      - 0.0011669308174394052782241182 * ($h66 + $h190)
      - 0.0016107356205013140335730037 * ($h67 + $h189)
      - 0.0018408885034394330965090703 * ($h68 + $h188)
      - 0.0017948976374194869267547636 * ($h69 + $h187)
      - 0.0014490822452257363928129763 * ($h70 + $h186)
      - 0.0008268502619856007073914639 * ($h71 + $h185)
      + 0.0000000000000000019519978868 * ($h72 + $h184)
      + 0.0009179229478490426872086538 * ($h73 + $h183)
      + 0.0017859505793010185207420060 * ($h74 + $h182)
      + 0.0024561134720910799897342081 * ($h75 + $h181)
      + 0.0027971883044523668943037720 * ($h76 + $h180)
      + 0.0027181601816018427855703443 * ($h77 + $h179)
      + 0.0021874679775906471189406144 * ($h78 + $h178)
      + 0.0012444064867506224314475105 * ($h79 + $h177)
      - 0.0000000000000000025109017154 * ($h80 + $h176)
      - 0.0013738582340210904204208520 * ($h81 + $h175)
      - 0.0026663826946624288351250787 * ($h82 + $h174)
      - 0.0036584740147181330632841778 * ($h83 + $h173)
      - 0.0041577229836155266823327636 * ($h84 + $h172)
      - 0.0040325334106176800863519105 * ($h85 + $h171)
      - 0.0032396929722074605494108734 * ($h86 + $h170)
      - 0.0018402530380006477950249888 * ($h87 + $h169)
      + 0.0000000000000000030904021244 * ($h88 + $h168)
      + 0.0020270410001706328645409982 * ($h89 + $h167)
      + 0.0039310202882702543689119601 * ($h90 + $h166)
      + 0.0053908712726001449186408188 * ($h91 + $h165)
      + 0.0061250733382556855899370163 * ($h92 + $h164)
      + 0.0059409842974412338176271042 * ($h93 + $h163)
      + 0.0047746895751997310911041161 * ($h94 + $h162)
      + 0.0027140953073984757336345464 * ($h95 + $h161)
      - 0.0000000000000000036501824408 * ($h96 + $h160)
      - 0.0029971025945027254464014810 * ($h97 + $h159)
      - 0.0058231027226569032073655308 * ($h98 + $h158)
      - 0.0080041219695127872185702600 * ($h99 + $h157)
      - 0.0091197713239062373757892743 * ($h100 + $h156)
      - 0.0088752483712328505277566748 * ($h101 + $h155)
      - 0.0071609418487707261063990316 * ($h102 + $h154)
      - 0.0040891358023439072777449610 * ($h103 + $h153)
      + 0.0000000000000000041463994238 * ($h104 + $h152)
      + 0.0045669535926136251707818658 * ($h105 + $h151)
      + 0.0089348810419893238965460824 * ($h106 + $h150)
      + 0.0123789089831678692649186146 * ($h107 + $h149)
      + 0.0142319802426614707563379270 * ($h108 + $h148)
      + 0.0139931707668577622744043865 * ($h109 + $h147)
      + 0.0114229127110041708131893401 * ($h110 + $h146)
      + 0.0066102333763929837021078306 * ($h111 + $h145)
      - 0.0000000000000000045369197049 * ($h112 + $h144)
      - 0.0076270396172587791999708529 * ($h113 + $h143)
      - 0.0152224937813932176267073260 * ($h114 + $h142)
      - 0.0215812481641791537034791304 * ($h115 + $h141)
      - 0.0254832086874689986433217825 * ($h116 + $h140)
      - 0.0258490393089624570510665080 * ($h117 + $h139)
      - 0.0218901744962703079244725757 * ($h118 + $h138)
      - 0.0132330629227923185498028147 * ($h119 + $h137)
      + 0.0000000000000000047867420732 * ($h120 + $h136)
      + 0.0171661936069081241806877358 * ($h121 + $h135)
      + 0.0371395779530556482961323184 * ($h122 + $h134)
      + 0.0584086617290817261549662476 * ($h123 + $h133)
      + 0.0792243581838370930503501199 * ($h124 + $h132)
      + 0.0977817739001537733489755055 * ($h125 + $h131)
      + 0.1124145083693663671464690879 * ($h126 + $h130)
      + 0.1217780739691688707271310932 * ($h127 + $h129)
      + 0.1250000000000000000000000000 * $h128;
  }
  //----------------------------------------------------------------------------
  double init$getfirdelay (double n)
  {
    return [&] {
      if (eel2_eq (n, 1.)) {
        return 0.;
      }
      else {
        return [&] {
          if (eel2_eq (n, 2.)) {
            return 32.;
          }
          else {
            return [&] {
              if (eel2_eq (n, 3.)) {
                return 32.;
              }
              else {
                return [&] {
                  if (eel2_eq (n, 4.)) {
                    return 32.;
                  }
                  else {
                    return [&] {
                      if (eel2_eq (n, 5.)) {
                        return 32.;
                      }
                      else {
                        return [&] {
                          if (eel2_eq (n, 6.)) {
                            return 32.;
                          }
                          else {
                            return [&] {
                              if (eel2_eq (n, 7.)) {
                                return 32.;
                              }
                              else {
                                return [&] {
                                  if (eel2_eq (n, 8.)) {
                                    return 32.;
                                  }
                                  else {
                                    return 0. / 0.;
                                  }
                                }();
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
//----------------------------------------------------------------------------
#if 0
  double init$initbuffernoreset (
    double  scopebuffer_in,
    double  scopebuffermax_in,
    double& $scopebuffer,
    double& $scopebuffermax,
    double& $scopeptr)
  {
    $scopebuffer    = scopebuffer_in;
    $scopebuffermax = scopebuffermax_in;
    return [&] {
      if ($scopeptr < $scopebuffer) {
        ($scopeptr = $scopebuffer);
        return $scopeptr;
      }
      else {
        return [&] {
          if (($scopeptr > $scopebuffermax)) {
            $scopeptr = $scopebuffer;
            return $scopeptr;
          }
          else {
            return 0. / 0.;
          }
        }();
      }
    }();
  }
#endif
  //----------------------------------------------------------------------------
  double init$setcompressoroptions (
    double  thr,
    double  rat,
    double  atk,
    double  release,
    double  knee,
    double  makeuptoggle,
    double& $thresh,
    double& $ratio,
    double& $iratio,
    double& $at,
    double& $rt,
    double& $kwidth,
    double& $quadf,
    double& $makeup)
  {
    double csrate = 0.;
    csrate        = oversampling * jsfx_specialvar_get_srate();
    $thresh       = thr;
    $ratio        = std::exp (rat * rat);
    $iratio       = 1. / $ratio;
    $at           = std::exp (-1. / (.5 * .001 * atk * csrate));
    $rt           = std::exp (-1. / (.5 * .001 * release * csrate));
    $kwidth       = knee;
    $quadf        = ((1. / $ratio) - 1.) / (2. * $kwidth);
    $makeup       = [&] {
      if (makeuptoggle) {
        return -init$calcgain (0., $thresh, $kwidth, $quadf, $iratio);
      }
      else {
        return 0.;
      }
    }();
    return $makeup;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist2 (
    double  x,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h65 = $h64;
    $h64 = $h63;
    $h63 = $h62;
    $h62 = $h61;
    $h61 = $h60;
    $h60 = $h59;
    $h59 = $h58;
    $h58 = $h57;
    $h57 = $h56;
    $h56 = $h55;
    $h55 = $h54;
    $h54 = $h53;
    $h53 = $h52;
    $h52 = $h51;
    $h51 = $h50;
    $h50 = $h49;
    $h49 = $h48;
    $h48 = $h47;
    $h47 = $h46;
    $h46 = $h45;
    $h45 = $h44;
    $h44 = $h43;
    $h43 = $h42;
    $h42 = $h41;
    $h41 = $h40;
    $h40 = $h39;
    $h39 = $h38;
    $h38 = $h37;
    $h37 = $h36;
    $h36 = $h35;
    $h35 = $h34;
    $h34 = $h33;
    $h33 = $h32;
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist3 (
    double  x,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h97 = $h96;
    $h96 = $h95;
    $h95 = $h94;
    $h94 = $h93;
    $h93 = $h92;
    $h92 = $h91;
    $h91 = $h90;
    $h90 = $h89;
    $h89 = $h88;
    $h88 = $h87;
    $h87 = $h86;
    $h86 = $h85;
    $h85 = $h84;
    $h84 = $h83;
    $h83 = $h82;
    $h82 = $h81;
    $h81 = $h80;
    $h80 = $h79;
    $h79 = $h78;
    $h78 = $h77;
    $h77 = $h76;
    $h76 = $h75;
    $h75 = $h74;
    $h74 = $h73;
    $h73 = $h72;
    $h72 = $h71;
    $h71 = $h70;
    $h70 = $h69;
    $h69 = $h68;
    $h68 = $h67;
    $h67 = $h66;
    $h66 = $h65;
    $h65 = $h64;
    $h64 = $h63;
    $h63 = $h62;
    $h62 = $h61;
    $h61 = $h60;
    $h60 = $h59;
    $h59 = $h58;
    $h58 = $h57;
    $h57 = $h56;
    $h56 = $h55;
    $h55 = $h54;
    $h54 = $h53;
    $h53 = $h52;
    $h52 = $h51;
    $h51 = $h50;
    $h50 = $h49;
    $h49 = $h48;
    $h48 = $h47;
    $h47 = $h46;
    $h46 = $h45;
    $h45 = $h44;
    $h44 = $h43;
    $h43 = $h42;
    $h42 = $h41;
    $h41 = $h40;
    $h40 = $h39;
    $h39 = $h38;
    $h38 = $h37;
    $h37 = $h36;
    $h36 = $h35;
    $h35 = $h34;
    $h34 = $h33;
    $h33 = $h32;
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist4 (
    double  x,
    double& $h129,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h129 = $h128;
    $h128 = $h127;
    $h127 = $h126;
    $h126 = $h125;
    $h125 = $h124;
    $h124 = $h123;
    $h123 = $h122;
    $h122 = $h121;
    $h121 = $h120;
    $h120 = $h119;
    $h119 = $h118;
    $h118 = $h117;
    $h117 = $h116;
    $h116 = $h115;
    $h115 = $h114;
    $h114 = $h113;
    $h113 = $h112;
    $h112 = $h111;
    $h111 = $h110;
    $h110 = $h109;
    $h109 = $h108;
    $h108 = $h107;
    $h107 = $h106;
    $h106 = $h105;
    $h105 = $h104;
    $h104 = $h103;
    $h103 = $h102;
    $h102 = $h101;
    $h101 = $h100;
    $h100 = $h99;
    $h99  = $h98;
    $h98  = $h97;
    $h97  = $h96;
    $h96  = $h95;
    $h95  = $h94;
    $h94  = $h93;
    $h93  = $h92;
    $h92  = $h91;
    $h91  = $h90;
    $h90  = $h89;
    $h89  = $h88;
    $h88  = $h87;
    $h87  = $h86;
    $h86  = $h85;
    $h85  = $h84;
    $h84  = $h83;
    $h83  = $h82;
    $h82  = $h81;
    $h81  = $h80;
    $h80  = $h79;
    $h79  = $h78;
    $h78  = $h77;
    $h77  = $h76;
    $h76  = $h75;
    $h75  = $h74;
    $h74  = $h73;
    $h73  = $h72;
    $h72  = $h71;
    $h71  = $h70;
    $h70  = $h69;
    $h69  = $h68;
    $h68  = $h67;
    $h67  = $h66;
    $h66  = $h65;
    $h65  = $h64;
    $h64  = $h63;
    $h63  = $h62;
    $h62  = $h61;
    $h61  = $h60;
    $h60  = $h59;
    $h59  = $h58;
    $h58  = $h57;
    $h57  = $h56;
    $h56  = $h55;
    $h55  = $h54;
    $h54  = $h53;
    $h53  = $h52;
    $h52  = $h51;
    $h51  = $h50;
    $h50  = $h49;
    $h49  = $h48;
    $h48  = $h47;
    $h47  = $h46;
    $h46  = $h45;
    $h45  = $h44;
    $h44  = $h43;
    $h43  = $h42;
    $h42  = $h41;
    $h41  = $h40;
    $h40  = $h39;
    $h39  = $h38;
    $h38  = $h37;
    $h37  = $h36;
    $h36  = $h35;
    $h35  = $h34;
    $h34  = $h33;
    $h33  = $h32;
    $h32  = $h31;
    $h31  = $h30;
    $h30  = $h29;
    $h29  = $h28;
    $h28  = $h27;
    $h27  = $h26;
    $h26  = $h25;
    $h25  = $h24;
    $h24  = $h23;
    $h23  = $h22;
    $h22  = $h21;
    $h21  = $h20;
    $h20  = $h19;
    $h19  = $h18;
    $h18  = $h17;
    $h17  = $h16;
    $h16  = $h15;
    $h15  = $h14;
    $h14  = $h13;
    $h13  = $h12;
    $h12  = $h11;
    $h11  = $h10;
    $h10  = $h9;
    $h9   = $h8;
    $h8   = $h7;
    $h7   = $h6;
    $h6   = $h5;
    $h5   = $h4;
    $h4   = $h3;
    $h3   = $h2;
    $h2   = $h1;
    $h1   = $h0;
    $h0   = x;
    $idx  = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist5 (
    double  x,
    double& $h161,
    double& $h160,
    double& $h159,
    double& $h158,
    double& $h157,
    double& $h156,
    double& $h155,
    double& $h154,
    double& $h153,
    double& $h152,
    double& $h151,
    double& $h150,
    double& $h149,
    double& $h148,
    double& $h147,
    double& $h146,
    double& $h145,
    double& $h144,
    double& $h143,
    double& $h142,
    double& $h141,
    double& $h140,
    double& $h139,
    double& $h138,
    double& $h137,
    double& $h136,
    double& $h135,
    double& $h134,
    double& $h133,
    double& $h132,
    double& $h131,
    double& $h130,
    double& $h129,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h161 = $h160;
    $h160 = $h159;
    $h159 = $h158;
    $h158 = $h157;
    $h157 = $h156;
    $h156 = $h155;
    $h155 = $h154;
    $h154 = $h153;
    $h153 = $h152;
    $h152 = $h151;
    $h151 = $h150;
    $h150 = $h149;
    $h149 = $h148;
    $h148 = $h147;
    $h147 = $h146;
    $h146 = $h145;
    $h145 = $h144;
    $h144 = $h143;
    $h143 = $h142;
    $h142 = $h141;
    $h141 = $h140;
    $h140 = $h139;
    $h139 = $h138;
    $h138 = $h137;
    $h137 = $h136;
    $h136 = $h135;
    $h135 = $h134;
    $h134 = $h133;
    $h133 = $h132;
    $h132 = $h131;
    $h131 = $h130;
    $h130 = $h129;
    $h129 = $h128;
    $h128 = $h127;
    $h127 = $h126;
    $h126 = $h125;
    $h125 = $h124;
    $h124 = $h123;
    $h123 = $h122;
    $h122 = $h121;
    $h121 = $h120;
    $h120 = $h119;
    $h119 = $h118;
    $h118 = $h117;
    $h117 = $h116;
    $h116 = $h115;
    $h115 = $h114;
    $h114 = $h113;
    $h113 = $h112;
    $h112 = $h111;
    $h111 = $h110;
    $h110 = $h109;
    $h109 = $h108;
    $h108 = $h107;
    $h107 = $h106;
    $h106 = $h105;
    $h105 = $h104;
    $h104 = $h103;
    $h103 = $h102;
    $h102 = $h101;
    $h101 = $h100;
    $h100 = $h99;
    $h99  = $h98;
    $h98  = $h97;
    $h97  = $h96;
    $h96  = $h95;
    $h95  = $h94;
    $h94  = $h93;
    $h93  = $h92;
    $h92  = $h91;
    $h91  = $h90;
    $h90  = $h89;
    $h89  = $h88;
    $h88  = $h87;
    $h87  = $h86;
    $h86  = $h85;
    $h85  = $h84;
    $h84  = $h83;
    $h83  = $h82;
    $h82  = $h81;
    $h81  = $h80;
    $h80  = $h79;
    $h79  = $h78;
    $h78  = $h77;
    $h77  = $h76;
    $h76  = $h75;
    $h75  = $h74;
    $h74  = $h73;
    $h73  = $h72;
    $h72  = $h71;
    $h71  = $h70;
    $h70  = $h69;
    $h69  = $h68;
    $h68  = $h67;
    $h67  = $h66;
    $h66  = $h65;
    $h65  = $h64;
    $h64  = $h63;
    $h63  = $h62;
    $h62  = $h61;
    $h61  = $h60;
    $h60  = $h59;
    $h59  = $h58;
    $h58  = $h57;
    $h57  = $h56;
    $h56  = $h55;
    $h55  = $h54;
    $h54  = $h53;
    $h53  = $h52;
    $h52  = $h51;
    $h51  = $h50;
    $h50  = $h49;
    $h49  = $h48;
    $h48  = $h47;
    $h47  = $h46;
    $h46  = $h45;
    $h45  = $h44;
    $h44  = $h43;
    $h43  = $h42;
    $h42  = $h41;
    $h41  = $h40;
    $h40  = $h39;
    $h39  = $h38;
    $h38  = $h37;
    $h37  = $h36;
    $h36  = $h35;
    $h35  = $h34;
    $h34  = $h33;
    $h33  = $h32;
    $h32  = $h31;
    $h31  = $h30;
    $h30  = $h29;
    $h29  = $h28;
    $h28  = $h27;
    $h27  = $h26;
    $h26  = $h25;
    $h25  = $h24;
    $h24  = $h23;
    $h23  = $h22;
    $h22  = $h21;
    $h21  = $h20;
    $h20  = $h19;
    $h19  = $h18;
    $h18  = $h17;
    $h17  = $h16;
    $h16  = $h15;
    $h15  = $h14;
    $h14  = $h13;
    $h13  = $h12;
    $h12  = $h11;
    $h11  = $h10;
    $h10  = $h9;
    $h9   = $h8;
    $h8   = $h7;
    $h7   = $h6;
    $h6   = $h5;
    $h5   = $h4;
    $h4   = $h3;
    $h3   = $h2;
    $h2   = $h1;
    $h1   = $h0;
    $h0   = x;
    $idx  = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist6 (
    double  x,
    double& $h193,
    double& $h192,
    double& $h191,
    double& $h190,
    double& $h189,
    double& $h188,
    double& $h187,
    double& $h186,
    double& $h185,
    double& $h184,
    double& $h183,
    double& $h182,
    double& $h181,
    double& $h180,
    double& $h179,
    double& $h178,
    double& $h177,
    double& $h176,
    double& $h175,
    double& $h174,
    double& $h173,
    double& $h172,
    double& $h171,
    double& $h170,
    double& $h169,
    double& $h168,
    double& $h167,
    double& $h166,
    double& $h165,
    double& $h164,
    double& $h163,
    double& $h162,
    double& $h161,
    double& $h160,
    double& $h159,
    double& $h158,
    double& $h157,
    double& $h156,
    double& $h155,
    double& $h154,
    double& $h153,
    double& $h152,
    double& $h151,
    double& $h150,
    double& $h149,
    double& $h148,
    double& $h147,
    double& $h146,
    double& $h145,
    double& $h144,
    double& $h143,
    double& $h142,
    double& $h141,
    double& $h140,
    double& $h139,
    double& $h138,
    double& $h137,
    double& $h136,
    double& $h135,
    double& $h134,
    double& $h133,
    double& $h132,
    double& $h131,
    double& $h130,
    double& $h129,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h193 = $h192;
    $h192 = $h191;
    $h191 = $h190;
    $h190 = $h189;
    $h189 = $h188;
    $h188 = $h187;
    $h187 = $h186;
    $h186 = $h185;
    $h185 = $h184;
    $h184 = $h183;
    $h183 = $h182;
    $h182 = $h181;
    $h181 = $h180;
    $h180 = $h179;
    $h179 = $h178;
    $h178 = $h177;
    $h177 = $h176;
    $h176 = $h175;
    $h175 = $h174;
    $h174 = $h173;
    $h173 = $h172;
    $h172 = $h171;
    $h171 = $h170;
    $h170 = $h169;
    $h169 = $h168;
    $h168 = $h167;
    $h167 = $h166;
    $h166 = $h165;
    $h165 = $h164;
    $h164 = $h163;
    $h163 = $h162;
    $h162 = $h161;
    $h161 = $h160;
    $h160 = $h159;
    $h159 = $h158;
    $h158 = $h157;
    $h157 = $h156;
    $h156 = $h155;
    $h155 = $h154;
    $h154 = $h153;
    $h153 = $h152;
    $h152 = $h151;
    $h151 = $h150;
    $h150 = $h149;
    $h149 = $h148;
    $h148 = $h147;
    $h147 = $h146;
    $h146 = $h145;
    $h145 = $h144;
    $h144 = $h143;
    $h143 = $h142;
    $h142 = $h141;
    $h141 = $h140;
    $h140 = $h139;
    $h139 = $h138;
    $h138 = $h137;
    $h137 = $h136;
    $h136 = $h135;
    $h135 = $h134;
    $h134 = $h133;
    $h133 = $h132;
    $h132 = $h131;
    $h131 = $h130;
    $h130 = $h129;
    $h129 = $h128;
    $h128 = $h127;
    $h127 = $h126;
    $h126 = $h125;
    $h125 = $h124;
    $h124 = $h123;
    $h123 = $h122;
    $h122 = $h121;
    $h121 = $h120;
    $h120 = $h119;
    $h119 = $h118;
    $h118 = $h117;
    $h117 = $h116;
    $h116 = $h115;
    $h115 = $h114;
    $h114 = $h113;
    $h113 = $h112;
    $h112 = $h111;
    $h111 = $h110;
    $h110 = $h109;
    $h109 = $h108;
    $h108 = $h107;
    $h107 = $h106;
    $h106 = $h105;
    $h105 = $h104;
    $h104 = $h103;
    $h103 = $h102;
    $h102 = $h101;
    $h101 = $h100;
    $h100 = $h99;
    $h99  = $h98;
    $h98  = $h97;
    $h97  = $h96;
    $h96  = $h95;
    $h95  = $h94;
    $h94  = $h93;
    $h93  = $h92;
    $h92  = $h91;
    $h91  = $h90;
    $h90  = $h89;
    $h89  = $h88;
    $h88  = $h87;
    $h87  = $h86;
    $h86  = $h85;
    $h85  = $h84;
    $h84  = $h83;
    $h83  = $h82;
    $h82  = $h81;
    $h81  = $h80;
    $h80  = $h79;
    $h79  = $h78;
    $h78  = $h77;
    $h77  = $h76;
    $h76  = $h75;
    $h75  = $h74;
    $h74  = $h73;
    $h73  = $h72;
    $h72  = $h71;
    $h71  = $h70;
    $h70  = $h69;
    $h69  = $h68;
    $h68  = $h67;
    $h67  = $h66;
    $h66  = $h65;
    $h65  = $h64;
    $h64  = $h63;
    $h63  = $h62;
    $h62  = $h61;
    $h61  = $h60;
    $h60  = $h59;
    $h59  = $h58;
    $h58  = $h57;
    $h57  = $h56;
    $h56  = $h55;
    $h55  = $h54;
    $h54  = $h53;
    $h53  = $h52;
    $h52  = $h51;
    $h51  = $h50;
    $h50  = $h49;
    $h49  = $h48;
    $h48  = $h47;
    $h47  = $h46;
    $h46  = $h45;
    $h45  = $h44;
    $h44  = $h43;
    $h43  = $h42;
    $h42  = $h41;
    $h41  = $h40;
    $h40  = $h39;
    $h39  = $h38;
    $h38  = $h37;
    $h37  = $h36;
    $h36  = $h35;
    $h35  = $h34;
    $h34  = $h33;
    $h33  = $h32;
    $h32  = $h31;
    $h31  = $h30;
    $h30  = $h29;
    $h29  = $h28;
    $h28  = $h27;
    $h27  = $h26;
    $h26  = $h25;
    $h25  = $h24;
    $h24  = $h23;
    $h23  = $h22;
    $h22  = $h21;
    $h21  = $h20;
    $h20  = $h19;
    $h19  = $h18;
    $h18  = $h17;
    $h17  = $h16;
    $h16  = $h15;
    $h15  = $h14;
    $h14  = $h13;
    $h13  = $h12;
    $h12  = $h11;
    $h11  = $h10;
    $h10  = $h9;
    $h9   = $h8;
    $h8   = $h7;
    $h7   = $h6;
    $h6   = $h5;
    $h5   = $h4;
    $h4   = $h3;
    $h3   = $h2;
    $h2   = $h1;
    $h1   = $h0;
    $h0   = x;
    $idx  = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist7 (
    double  x,
    double& $h225,
    double& $h224,
    double& $h223,
    double& $h222,
    double& $h221,
    double& $h220,
    double& $h219,
    double& $h218,
    double& $h217,
    double& $h216,
    double& $h215,
    double& $h214,
    double& $h213,
    double& $h212,
    double& $h211,
    double& $h210,
    double& $h209,
    double& $h208,
    double& $h207,
    double& $h206,
    double& $h205,
    double& $h204,
    double& $h203,
    double& $h202,
    double& $h201,
    double& $h200,
    double& $h199,
    double& $h198,
    double& $h197,
    double& $h196,
    double& $h195,
    double& $h194,
    double& $h193,
    double& $h192,
    double& $h191,
    double& $h190,
    double& $h189,
    double& $h188,
    double& $h187,
    double& $h186,
    double& $h185,
    double& $h184,
    double& $h183,
    double& $h182,
    double& $h181,
    double& $h180,
    double& $h179,
    double& $h178,
    double& $h177,
    double& $h176,
    double& $h175,
    double& $h174,
    double& $h173,
    double& $h172,
    double& $h171,
    double& $h170,
    double& $h169,
    double& $h168,
    double& $h167,
    double& $h166,
    double& $h165,
    double& $h164,
    double& $h163,
    double& $h162,
    double& $h161,
    double& $h160,
    double& $h159,
    double& $h158,
    double& $h157,
    double& $h156,
    double& $h155,
    double& $h154,
    double& $h153,
    double& $h152,
    double& $h151,
    double& $h150,
    double& $h149,
    double& $h148,
    double& $h147,
    double& $h146,
    double& $h145,
    double& $h144,
    double& $h143,
    double& $h142,
    double& $h141,
    double& $h140,
    double& $h139,
    double& $h138,
    double& $h137,
    double& $h136,
    double& $h135,
    double& $h134,
    double& $h133,
    double& $h132,
    double& $h131,
    double& $h130,
    double& $h129,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h225 = $h224;
    $h224 = $h223;
    $h223 = $h222;
    $h222 = $h221;
    $h221 = $h220;
    $h220 = $h219;
    $h219 = $h218;
    $h218 = $h217;
    $h217 = $h216;
    $h216 = $h215;
    $h215 = $h214;
    $h214 = $h213;
    $h213 = $h212;
    $h212 = $h211;
    $h211 = $h210;
    $h210 = $h209;
    $h209 = $h208;
    $h208 = $h207;
    $h207 = $h206;
    $h206 = $h205;
    $h205 = $h204;
    $h204 = $h203;
    $h203 = $h202;
    $h202 = $h201;
    $h201 = $h200;
    $h200 = $h199;
    $h199 = $h198;
    $h198 = $h197;
    $h197 = $h196;
    $h196 = $h195;
    $h195 = $h194;
    $h194 = $h193;
    $h193 = $h192;
    $h192 = $h191;
    $h191 = $h190;
    $h190 = $h189;
    $h189 = $h188;
    $h188 = $h187;
    $h187 = $h186;
    $h186 = $h185;
    $h185 = $h184;
    $h184 = $h183;
    $h183 = $h182;
    $h182 = $h181;
    $h181 = $h180;
    $h180 = $h179;
    $h179 = $h178;
    $h178 = $h177;
    $h177 = $h176;
    $h176 = $h175;
    $h175 = $h174;
    $h174 = $h173;
    $h173 = $h172;
    $h172 = $h171;
    $h171 = $h170;
    $h170 = $h169;
    $h169 = $h168;
    $h168 = $h167;
    $h167 = $h166;
    $h166 = $h165;
    $h165 = $h164;
    $h164 = $h163;
    $h163 = $h162;
    $h162 = $h161;
    $h161 = $h160;
    $h160 = $h159;
    $h159 = $h158;
    $h158 = $h157;
    $h157 = $h156;
    $h156 = $h155;
    $h155 = $h154;
    $h154 = $h153;
    $h153 = $h152;
    $h152 = $h151;
    $h151 = $h150;
    $h150 = $h149;
    $h149 = $h148;
    $h148 = $h147;
    $h147 = $h146;
    $h146 = $h145;
    $h145 = $h144;
    $h144 = $h143;
    $h143 = $h142;
    $h142 = $h141;
    $h141 = $h140;
    $h140 = $h139;
    $h139 = $h138;
    $h138 = $h137;
    $h137 = $h136;
    $h136 = $h135;
    $h135 = $h134;
    $h134 = $h133;
    $h133 = $h132;
    $h132 = $h131;
    $h131 = $h130;
    $h130 = $h129;
    $h129 = $h128;
    $h128 = $h127;
    $h127 = $h126;
    $h126 = $h125;
    $h125 = $h124;
    $h124 = $h123;
    $h123 = $h122;
    $h122 = $h121;
    $h121 = $h120;
    $h120 = $h119;
    $h119 = $h118;
    $h118 = $h117;
    $h117 = $h116;
    $h116 = $h115;
    $h115 = $h114;
    $h114 = $h113;
    $h113 = $h112;
    $h112 = $h111;
    $h111 = $h110;
    $h110 = $h109;
    $h109 = $h108;
    $h108 = $h107;
    $h107 = $h106;
    $h106 = $h105;
    $h105 = $h104;
    $h104 = $h103;
    $h103 = $h102;
    $h102 = $h101;
    $h101 = $h100;
    $h100 = $h99;
    $h99  = $h98;
    $h98  = $h97;
    $h97  = $h96;
    $h96  = $h95;
    $h95  = $h94;
    $h94  = $h93;
    $h93  = $h92;
    $h92  = $h91;
    $h91  = $h90;
    $h90  = $h89;
    $h89  = $h88;
    $h88  = $h87;
    $h87  = $h86;
    $h86  = $h85;
    $h85  = $h84;
    $h84  = $h83;
    $h83  = $h82;
    $h82  = $h81;
    $h81  = $h80;
    $h80  = $h79;
    $h79  = $h78;
    $h78  = $h77;
    $h77  = $h76;
    $h76  = $h75;
    $h75  = $h74;
    $h74  = $h73;
    $h73  = $h72;
    $h72  = $h71;
    $h71  = $h70;
    $h70  = $h69;
    $h69  = $h68;
    $h68  = $h67;
    $h67  = $h66;
    $h66  = $h65;
    $h65  = $h64;
    $h64  = $h63;
    $h63  = $h62;
    $h62  = $h61;
    $h61  = $h60;
    $h60  = $h59;
    $h59  = $h58;
    $h58  = $h57;
    $h57  = $h56;
    $h56  = $h55;
    $h55  = $h54;
    $h54  = $h53;
    $h53  = $h52;
    $h52  = $h51;
    $h51  = $h50;
    $h50  = $h49;
    $h49  = $h48;
    $h48  = $h47;
    $h47  = $h46;
    $h46  = $h45;
    $h45  = $h44;
    $h44  = $h43;
    $h43  = $h42;
    $h42  = $h41;
    $h41  = $h40;
    $h40  = $h39;
    $h39  = $h38;
    $h38  = $h37;
    $h37  = $h36;
    $h36  = $h35;
    $h35  = $h34;
    $h34  = $h33;
    $h33  = $h32;
    $h32  = $h31;
    $h31  = $h30;
    $h30  = $h29;
    $h29  = $h28;
    $h28  = $h27;
    $h27  = $h26;
    $h26  = $h25;
    $h25  = $h24;
    $h24  = $h23;
    $h23  = $h22;
    $h22  = $h21;
    $h21  = $h20;
    $h20  = $h19;
    $h19  = $h18;
    $h18  = $h17;
    $h17  = $h16;
    $h16  = $h15;
    $h15  = $h14;
    $h14  = $h13;
    $h13  = $h12;
    $h12  = $h11;
    $h11  = $h10;
    $h10  = $h9;
    $h9   = $h8;
    $h8   = $h7;
    $h7   = $h6;
    $h6   = $h5;
    $h5   = $h4;
    $h4   = $h3;
    $h3   = $h2;
    $h2   = $h1;
    $h1   = $h0;
    $h0   = x;
    $idx  = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_downhist8 (
    double  x,
    double& $h257,
    double& $h256,
    double& $h255,
    double& $h254,
    double& $h253,
    double& $h252,
    double& $h251,
    double& $h250,
    double& $h249,
    double& $h248,
    double& $h247,
    double& $h246,
    double& $h245,
    double& $h244,
    double& $h243,
    double& $h242,
    double& $h241,
    double& $h240,
    double& $h239,
    double& $h238,
    double& $h237,
    double& $h236,
    double& $h235,
    double& $h234,
    double& $h233,
    double& $h232,
    double& $h231,
    double& $h230,
    double& $h229,
    double& $h228,
    double& $h227,
    double& $h226,
    double& $h225,
    double& $h224,
    double& $h223,
    double& $h222,
    double& $h221,
    double& $h220,
    double& $h219,
    double& $h218,
    double& $h217,
    double& $h216,
    double& $h215,
    double& $h214,
    double& $h213,
    double& $h212,
    double& $h211,
    double& $h210,
    double& $h209,
    double& $h208,
    double& $h207,
    double& $h206,
    double& $h205,
    double& $h204,
    double& $h203,
    double& $h202,
    double& $h201,
    double& $h200,
    double& $h199,
    double& $h198,
    double& $h197,
    double& $h196,
    double& $h195,
    double& $h194,
    double& $h193,
    double& $h192,
    double& $h191,
    double& $h190,
    double& $h189,
    double& $h188,
    double& $h187,
    double& $h186,
    double& $h185,
    double& $h184,
    double& $h183,
    double& $h182,
    double& $h181,
    double& $h180,
    double& $h179,
    double& $h178,
    double& $h177,
    double& $h176,
    double& $h175,
    double& $h174,
    double& $h173,
    double& $h172,
    double& $h171,
    double& $h170,
    double& $h169,
    double& $h168,
    double& $h167,
    double& $h166,
    double& $h165,
    double& $h164,
    double& $h163,
    double& $h162,
    double& $h161,
    double& $h160,
    double& $h159,
    double& $h158,
    double& $h157,
    double& $h156,
    double& $h155,
    double& $h154,
    double& $h153,
    double& $h152,
    double& $h151,
    double& $h150,
    double& $h149,
    double& $h148,
    double& $h147,
    double& $h146,
    double& $h145,
    double& $h144,
    double& $h143,
    double& $h142,
    double& $h141,
    double& $h140,
    double& $h139,
    double& $h138,
    double& $h137,
    double& $h136,
    double& $h135,
    double& $h134,
    double& $h133,
    double& $h132,
    double& $h131,
    double& $h130,
    double& $h129,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h257 = $h256;
    $h256 = $h255;
    $h255 = $h254;
    $h254 = $h253;
    $h253 = $h252;
    $h252 = $h251;
    $h251 = $h250;
    $h250 = $h249;
    $h249 = $h248;
    $h248 = $h247;
    $h247 = $h246;
    $h246 = $h245;
    $h245 = $h244;
    $h244 = $h243;
    $h243 = $h242;
    $h242 = $h241;
    $h241 = $h240;
    $h240 = $h239;
    $h239 = $h238;
    $h238 = $h237;
    $h237 = $h236;
    $h236 = $h235;
    $h235 = $h234;
    $h234 = $h233;
    $h233 = $h232;
    $h232 = $h231;
    $h231 = $h230;
    $h230 = $h229;
    $h229 = $h228;
    $h228 = $h227;
    $h227 = $h226;
    $h226 = $h225;
    $h225 = $h224;
    $h224 = $h223;
    $h223 = $h222;
    $h222 = $h221;
    $h221 = $h220;
    $h220 = $h219;
    $h219 = $h218;
    $h218 = $h217;
    $h217 = $h216;
    $h216 = $h215;
    $h215 = $h214;
    $h214 = $h213;
    $h213 = $h212;
    $h212 = $h211;
    $h211 = $h210;
    $h210 = $h209;
    $h209 = $h208;
    $h208 = $h207;
    $h207 = $h206;
    $h206 = $h205;
    $h205 = $h204;
    $h204 = $h203;
    $h203 = $h202;
    $h202 = $h201;
    $h201 = $h200;
    $h200 = $h199;
    $h199 = $h198;
    $h198 = $h197;
    $h197 = $h196;
    $h196 = $h195;
    $h195 = $h194;
    $h194 = $h193;
    $h193 = $h192;
    $h192 = $h191;
    $h191 = $h190;
    $h190 = $h189;
    $h189 = $h188;
    $h188 = $h187;
    $h187 = $h186;
    $h186 = $h185;
    $h185 = $h184;
    $h184 = $h183;
    $h183 = $h182;
    $h182 = $h181;
    $h181 = $h180;
    $h180 = $h179;
    $h179 = $h178;
    $h178 = $h177;
    $h177 = $h176;
    $h176 = $h175;
    $h175 = $h174;
    $h174 = $h173;
    $h173 = $h172;
    $h172 = $h171;
    $h171 = $h170;
    $h170 = $h169;
    $h169 = $h168;
    $h168 = $h167;
    $h167 = $h166;
    $h166 = $h165;
    $h165 = $h164;
    $h164 = $h163;
    $h163 = $h162;
    $h162 = $h161;
    $h161 = $h160;
    $h160 = $h159;
    $h159 = $h158;
    $h158 = $h157;
    $h157 = $h156;
    $h156 = $h155;
    $h155 = $h154;
    $h154 = $h153;
    $h153 = $h152;
    $h152 = $h151;
    $h151 = $h150;
    $h150 = $h149;
    $h149 = $h148;
    $h148 = $h147;
    $h147 = $h146;
    $h146 = $h145;
    $h145 = $h144;
    $h144 = $h143;
    $h143 = $h142;
    $h142 = $h141;
    $h141 = $h140;
    $h140 = $h139;
    $h139 = $h138;
    $h138 = $h137;
    $h137 = $h136;
    $h136 = $h135;
    $h135 = $h134;
    $h134 = $h133;
    $h133 = $h132;
    $h132 = $h131;
    $h131 = $h130;
    $h130 = $h129;
    $h129 = $h128;
    $h128 = $h127;
    $h127 = $h126;
    $h126 = $h125;
    $h125 = $h124;
    $h124 = $h123;
    $h123 = $h122;
    $h122 = $h121;
    $h121 = $h120;
    $h120 = $h119;
    $h119 = $h118;
    $h118 = $h117;
    $h117 = $h116;
    $h116 = $h115;
    $h115 = $h114;
    $h114 = $h113;
    $h113 = $h112;
    $h112 = $h111;
    $h111 = $h110;
    $h110 = $h109;
    $h109 = $h108;
    $h108 = $h107;
    $h107 = $h106;
    $h106 = $h105;
    $h105 = $h104;
    $h104 = $h103;
    $h103 = $h102;
    $h102 = $h101;
    $h101 = $h100;
    $h100 = $h99;
    $h99  = $h98;
    $h98  = $h97;
    $h97  = $h96;
    $h96  = $h95;
    $h95  = $h94;
    $h94  = $h93;
    $h93  = $h92;
    $h92  = $h91;
    $h91  = $h90;
    $h90  = $h89;
    $h89  = $h88;
    $h88  = $h87;
    $h87  = $h86;
    $h86  = $h85;
    $h85  = $h84;
    $h84  = $h83;
    $h83  = $h82;
    $h82  = $h81;
    $h81  = $h80;
    $h80  = $h79;
    $h79  = $h78;
    $h78  = $h77;
    $h77  = $h76;
    $h76  = $h75;
    $h75  = $h74;
    $h74  = $h73;
    $h73  = $h72;
    $h72  = $h71;
    $h71  = $h70;
    $h70  = $h69;
    $h69  = $h68;
    $h68  = $h67;
    $h67  = $h66;
    $h66  = $h65;
    $h65  = $h64;
    $h64  = $h63;
    $h63  = $h62;
    $h62  = $h61;
    $h61  = $h60;
    $h60  = $h59;
    $h59  = $h58;
    $h58  = $h57;
    $h57  = $h56;
    $h56  = $h55;
    $h55  = $h54;
    $h54  = $h53;
    $h53  = $h52;
    $h52  = $h51;
    $h51  = $h50;
    $h50  = $h49;
    $h49  = $h48;
    $h48  = $h47;
    $h47  = $h46;
    $h46  = $h45;
    $h45  = $h44;
    $h44  = $h43;
    $h43  = $h42;
    $h42  = $h41;
    $h41  = $h40;
    $h40  = $h39;
    $h39  = $h38;
    $h38  = $h37;
    $h37  = $h36;
    $h36  = $h35;
    $h35  = $h34;
    $h34  = $h33;
    $h33  = $h32;
    $h32  = $h31;
    $h31  = $h30;
    $h30  = $h29;
    $h29  = $h28;
    $h28  = $h27;
    $h27  = $h26;
    $h26  = $h25;
    $h25  = $h24;
    $h24  = $h23;
    $h23  = $h22;
    $h22  = $h21;
    $h21  = $h20;
    $h20  = $h19;
    $h19  = $h18;
    $h18  = $h17;
    $h17  = $h16;
    $h16  = $h15;
    $h15  = $h14;
    $h14  = $h13;
    $h13  = $h12;
    $h12  = $h11;
    $h11  = $h10;
    $h10  = $h9;
    $h9   = $h8;
    $h8   = $h7;
    $h7   = $h6;
    $h6   = $h5;
    $h5   = $h4;
    $h4   = $h3;
    $h3   = $h2;
    $h2   = $h1;
    $h1   = $h0;
    $h0   = x;
    $idx  = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist2 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist3 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist4 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist5 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist6 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist7 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
  //----------------------------------------------------------------------------
  double init$update_uphist8 (
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    $h32 = $h31;
    $h31 = $h30;
    $h30 = $h29;
    $h29 = $h28;
    $h28 = $h27;
    $h27 = $h26;
    $h26 = $h25;
    $h25 = $h24;
    $h24 = $h23;
    $h23 = $h22;
    $h22 = $h21;
    $h21 = $h20;
    $h20 = $h19;
    $h19 = $h18;
    $h18 = $h17;
    $h17 = $h16;
    $h16 = $h15;
    $h15 = $h14;
    $h14 = $h13;
    $h13 = $h12;
    $h12 = $h11;
    $h11 = $h10;
    $h10 = $h9;
    $h9  = $h8;
    $h8  = $h7;
    $h7  = $h6;
    $h6  = $h5;
    $h5  = $h4;
    $h4  = $h3;
    $h3  = $h2;
    $h2  = $h1;
    $h1  = $h0;
    $h0  = x;
    $idx = -1.;
    return $idx;
  }
#if 0
  //----------------------------------------------------------------------------
  double init$updatebuffer (
    double  m,
    double& $scopeptr,
    double& $scopebuffermax,
    double& $scopebuffer)
  {
    heap ($scopeptr) = m;
    $scopeptr += 1.;
    if ($scopeptr > $scopebuffermax) {
      $scopeptr = $scopebuffer;
    }
    return m;
  }
#endif
  //----------------------------------------------------------------------------
  double init$updatedownhist (
    double  n,
    double  x,
    double& $h65,
    double& $h64,
    double& $h63,
    double& $h62,
    double& $h61,
    double& $h60,
    double& $h59,
    double& $h58,
    double& $h57,
    double& $h56,
    double& $h55,
    double& $h54,
    double& $h53,
    double& $h52,
    double& $h51,
    double& $h50,
    double& $h49,
    double& $h48,
    double& $h47,
    double& $h46,
    double& $h45,
    double& $h44,
    double& $h43,
    double& $h42,
    double& $h41,
    double& $h40,
    double& $h39,
    double& $h38,
    double& $h37,
    double& $h36,
    double& $h35,
    double& $h34,
    double& $h33,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx,
    double& $h97,
    double& $h96,
    double& $h95,
    double& $h94,
    double& $h93,
    double& $h92,
    double& $h91,
    double& $h90,
    double& $h89,
    double& $h88,
    double& $h87,
    double& $h86,
    double& $h85,
    double& $h84,
    double& $h83,
    double& $h82,
    double& $h81,
    double& $h80,
    double& $h79,
    double& $h78,
    double& $h77,
    double& $h76,
    double& $h75,
    double& $h74,
    double& $h73,
    double& $h72,
    double& $h71,
    double& $h70,
    double& $h69,
    double& $h68,
    double& $h67,
    double& $h66,
    double& $h129,
    double& $h128,
    double& $h127,
    double& $h126,
    double& $h125,
    double& $h124,
    double& $h123,
    double& $h122,
    double& $h121,
    double& $h120,
    double& $h119,
    double& $h118,
    double& $h117,
    double& $h116,
    double& $h115,
    double& $h114,
    double& $h113,
    double& $h112,
    double& $h111,
    double& $h110,
    double& $h109,
    double& $h108,
    double& $h107,
    double& $h106,
    double& $h105,
    double& $h104,
    double& $h103,
    double& $h102,
    double& $h101,
    double& $h100,
    double& $h99,
    double& $h98,
    double& $h161,
    double& $h160,
    double& $h159,
    double& $h158,
    double& $h157,
    double& $h156,
    double& $h155,
    double& $h154,
    double& $h153,
    double& $h152,
    double& $h151,
    double& $h150,
    double& $h149,
    double& $h148,
    double& $h147,
    double& $h146,
    double& $h145,
    double& $h144,
    double& $h143,
    double& $h142,
    double& $h141,
    double& $h140,
    double& $h139,
    double& $h138,
    double& $h137,
    double& $h136,
    double& $h135,
    double& $h134,
    double& $h133,
    double& $h132,
    double& $h131,
    double& $h130,
    double& $h193,
    double& $h192,
    double& $h191,
    double& $h190,
    double& $h189,
    double& $h188,
    double& $h187,
    double& $h186,
    double& $h185,
    double& $h184,
    double& $h183,
    double& $h182,
    double& $h181,
    double& $h180,
    double& $h179,
    double& $h178,
    double& $h177,
    double& $h176,
    double& $h175,
    double& $h174,
    double& $h173,
    double& $h172,
    double& $h171,
    double& $h170,
    double& $h169,
    double& $h168,
    double& $h167,
    double& $h166,
    double& $h165,
    double& $h164,
    double& $h163,
    double& $h162,
    double& $h225,
    double& $h224,
    double& $h223,
    double& $h222,
    double& $h221,
    double& $h220,
    double& $h219,
    double& $h218,
    double& $h217,
    double& $h216,
    double& $h215,
    double& $h214,
    double& $h213,
    double& $h212,
    double& $h211,
    double& $h210,
    double& $h209,
    double& $h208,
    double& $h207,
    double& $h206,
    double& $h205,
    double& $h204,
    double& $h203,
    double& $h202,
    double& $h201,
    double& $h200,
    double& $h199,
    double& $h198,
    double& $h197,
    double& $h196,
    double& $h195,
    double& $h194,
    double& $h257,
    double& $h256,
    double& $h255,
    double& $h254,
    double& $h253,
    double& $h252,
    double& $h251,
    double& $h250,
    double& $h249,
    double& $h248,
    double& $h247,
    double& $h246,
    double& $h245,
    double& $h244,
    double& $h243,
    double& $h242,
    double& $h241,
    double& $h240,
    double& $h239,
    double& $h238,
    double& $h237,
    double& $h236,
    double& $h235,
    double& $h234,
    double& $h233,
    double& $h232,
    double& $h231,
    double& $h230,
    double& $h229,
    double& $h228,
    double& $h227,
    double& $h226)
  {
    return [&] {
      if (eel2_eq (n, 2.)) {
        return init$update_downhist2 (
          x,
          $h65,
          $h64,
          $h63,
          $h62,
          $h61,
          $h60,
          $h59,
          $h58,
          $h57,
          $h56,
          $h55,
          $h54,
          $h53,
          $h52,
          $h51,
          $h50,
          $h49,
          $h48,
          $h47,
          $h46,
          $h45,
          $h44,
          $h43,
          $h42,
          $h41,
          $h40,
          $h39,
          $h38,
          $h37,
          $h36,
          $h35,
          $h34,
          $h33,
          $h32,
          $h31,
          $h30,
          $h29,
          $h28,
          $h27,
          $h26,
          $h25,
          $h24,
          $h23,
          $h22,
          $h21,
          $h20,
          $h19,
          $h18,
          $h17,
          $h16,
          $h15,
          $h14,
          $h13,
          $h12,
          $h11,
          $h10,
          $h9,
          $h8,
          $h7,
          $h6,
          $h5,
          $h4,
          $h3,
          $h2,
          $h1,
          $h0,
          $idx);
      }
      else {
        return [&] {
          if (eel2_eq (n, 3.)) {
            return init$update_downhist3 (
              x,
              $h97,
              $h96,
              $h95,
              $h94,
              $h93,
              $h92,
              $h91,
              $h90,
              $h89,
              $h88,
              $h87,
              $h86,
              $h85,
              $h84,
              $h83,
              $h82,
              $h81,
              $h80,
              $h79,
              $h78,
              $h77,
              $h76,
              $h75,
              $h74,
              $h73,
              $h72,
              $h71,
              $h70,
              $h69,
              $h68,
              $h67,
              $h66,
              $h65,
              $h64,
              $h63,
              $h62,
              $h61,
              $h60,
              $h59,
              $h58,
              $h57,
              $h56,
              $h55,
              $h54,
              $h53,
              $h52,
              $h51,
              $h50,
              $h49,
              $h48,
              $h47,
              $h46,
              $h45,
              $h44,
              $h43,
              $h42,
              $h41,
              $h40,
              $h39,
              $h38,
              $h37,
              $h36,
              $h35,
              $h34,
              $h33,
              $h32,
              $h31,
              $h30,
              $h29,
              $h28,
              $h27,
              $h26,
              $h25,
              $h24,
              $h23,
              $h22,
              $h21,
              $h20,
              $h19,
              $h18,
              $h17,
              $h16,
              $h15,
              $h14,
              $h13,
              $h12,
              $h11,
              $h10,
              $h9,
              $h8,
              $h7,
              $h6,
              $h5,
              $h4,
              $h3,
              $h2,
              $h1,
              $h0,
              $idx);
          }
          else {
            return [&] {
              if (eel2_eq (n, 4.)) {
                return init$update_downhist4 (
                  x,
                  $h129,
                  $h128,
                  $h127,
                  $h126,
                  $h125,
                  $h124,
                  $h123,
                  $h122,
                  $h121,
                  $h120,
                  $h119,
                  $h118,
                  $h117,
                  $h116,
                  $h115,
                  $h114,
                  $h113,
                  $h112,
                  $h111,
                  $h110,
                  $h109,
                  $h108,
                  $h107,
                  $h106,
                  $h105,
                  $h104,
                  $h103,
                  $h102,
                  $h101,
                  $h100,
                  $h99,
                  $h98,
                  $h97,
                  $h96,
                  $h95,
                  $h94,
                  $h93,
                  $h92,
                  $h91,
                  $h90,
                  $h89,
                  $h88,
                  $h87,
                  $h86,
                  $h85,
                  $h84,
                  $h83,
                  $h82,
                  $h81,
                  $h80,
                  $h79,
                  $h78,
                  $h77,
                  $h76,
                  $h75,
                  $h74,
                  $h73,
                  $h72,
                  $h71,
                  $h70,
                  $h69,
                  $h68,
                  $h67,
                  $h66,
                  $h65,
                  $h64,
                  $h63,
                  $h62,
                  $h61,
                  $h60,
                  $h59,
                  $h58,
                  $h57,
                  $h56,
                  $h55,
                  $h54,
                  $h53,
                  $h52,
                  $h51,
                  $h50,
                  $h49,
                  $h48,
                  $h47,
                  $h46,
                  $h45,
                  $h44,
                  $h43,
                  $h42,
                  $h41,
                  $h40,
                  $h39,
                  $h38,
                  $h37,
                  $h36,
                  $h35,
                  $h34,
                  $h33,
                  $h32,
                  $h31,
                  $h30,
                  $h29,
                  $h28,
                  $h27,
                  $h26,
                  $h25,
                  $h24,
                  $h23,
                  $h22,
                  $h21,
                  $h20,
                  $h19,
                  $h18,
                  $h17,
                  $h16,
                  $h15,
                  $h14,
                  $h13,
                  $h12,
                  $h11,
                  $h10,
                  $h9,
                  $h8,
                  $h7,
                  $h6,
                  $h5,
                  $h4,
                  $h3,
                  $h2,
                  $h1,
                  $h0,
                  $idx);
              }
              else {
                return [&] {
                  if (eel2_eq (n, 5.)) {
                    return init$update_downhist5 (
                      x,
                      $h161,
                      $h160,
                      $h159,
                      $h158,
                      $h157,
                      $h156,
                      $h155,
                      $h154,
                      $h153,
                      $h152,
                      $h151,
                      $h150,
                      $h149,
                      $h148,
                      $h147,
                      $h146,
                      $h145,
                      $h144,
                      $h143,
                      $h142,
                      $h141,
                      $h140,
                      $h139,
                      $h138,
                      $h137,
                      $h136,
                      $h135,
                      $h134,
                      $h133,
                      $h132,
                      $h131,
                      $h130,
                      $h129,
                      $h128,
                      $h127,
                      $h126,
                      $h125,
                      $h124,
                      $h123,
                      $h122,
                      $h121,
                      $h120,
                      $h119,
                      $h118,
                      $h117,
                      $h116,
                      $h115,
                      $h114,
                      $h113,
                      $h112,
                      $h111,
                      $h110,
                      $h109,
                      $h108,
                      $h107,
                      $h106,
                      $h105,
                      $h104,
                      $h103,
                      $h102,
                      $h101,
                      $h100,
                      $h99,
                      $h98,
                      $h97,
                      $h96,
                      $h95,
                      $h94,
                      $h93,
                      $h92,
                      $h91,
                      $h90,
                      $h89,
                      $h88,
                      $h87,
                      $h86,
                      $h85,
                      $h84,
                      $h83,
                      $h82,
                      $h81,
                      $h80,
                      $h79,
                      $h78,
                      $h77,
                      $h76,
                      $h75,
                      $h74,
                      $h73,
                      $h72,
                      $h71,
                      $h70,
                      $h69,
                      $h68,
                      $h67,
                      $h66,
                      $h65,
                      $h64,
                      $h63,
                      $h62,
                      $h61,
                      $h60,
                      $h59,
                      $h58,
                      $h57,
                      $h56,
                      $h55,
                      $h54,
                      $h53,
                      $h52,
                      $h51,
                      $h50,
                      $h49,
                      $h48,
                      $h47,
                      $h46,
                      $h45,
                      $h44,
                      $h43,
                      $h42,
                      $h41,
                      $h40,
                      $h39,
                      $h38,
                      $h37,
                      $h36,
                      $h35,
                      $h34,
                      $h33,
                      $h32,
                      $h31,
                      $h30,
                      $h29,
                      $h28,
                      $h27,
                      $h26,
                      $h25,
                      $h24,
                      $h23,
                      $h22,
                      $h21,
                      $h20,
                      $h19,
                      $h18,
                      $h17,
                      $h16,
                      $h15,
                      $h14,
                      $h13,
                      $h12,
                      $h11,
                      $h10,
                      $h9,
                      $h8,
                      $h7,
                      $h6,
                      $h5,
                      $h4,
                      $h3,
                      $h2,
                      $h1,
                      $h0,
                      $idx);
                  }
                  else {
                    return [&] {
                      if (eel2_eq (n, 6.)) {
                        return init$update_downhist6 (
                          x,
                          $h193,
                          $h192,
                          $h191,
                          $h190,
                          $h189,
                          $h188,
                          $h187,
                          $h186,
                          $h185,
                          $h184,
                          $h183,
                          $h182,
                          $h181,
                          $h180,
                          $h179,
                          $h178,
                          $h177,
                          $h176,
                          $h175,
                          $h174,
                          $h173,
                          $h172,
                          $h171,
                          $h170,
                          $h169,
                          $h168,
                          $h167,
                          $h166,
                          $h165,
                          $h164,
                          $h163,
                          $h162,
                          $h161,
                          $h160,
                          $h159,
                          $h158,
                          $h157,
                          $h156,
                          $h155,
                          $h154,
                          $h153,
                          $h152,
                          $h151,
                          $h150,
                          $h149,
                          $h148,
                          $h147,
                          $h146,
                          $h145,
                          $h144,
                          $h143,
                          $h142,
                          $h141,
                          $h140,
                          $h139,
                          $h138,
                          $h137,
                          $h136,
                          $h135,
                          $h134,
                          $h133,
                          $h132,
                          $h131,
                          $h130,
                          $h129,
                          $h128,
                          $h127,
                          $h126,
                          $h125,
                          $h124,
                          $h123,
                          $h122,
                          $h121,
                          $h120,
                          $h119,
                          $h118,
                          $h117,
                          $h116,
                          $h115,
                          $h114,
                          $h113,
                          $h112,
                          $h111,
                          $h110,
                          $h109,
                          $h108,
                          $h107,
                          $h106,
                          $h105,
                          $h104,
                          $h103,
                          $h102,
                          $h101,
                          $h100,
                          $h99,
                          $h98,
                          $h97,
                          $h96,
                          $h95,
                          $h94,
                          $h93,
                          $h92,
                          $h91,
                          $h90,
                          $h89,
                          $h88,
                          $h87,
                          $h86,
                          $h85,
                          $h84,
                          $h83,
                          $h82,
                          $h81,
                          $h80,
                          $h79,
                          $h78,
                          $h77,
                          $h76,
                          $h75,
                          $h74,
                          $h73,
                          $h72,
                          $h71,
                          $h70,
                          $h69,
                          $h68,
                          $h67,
                          $h66,
                          $h65,
                          $h64,
                          $h63,
                          $h62,
                          $h61,
                          $h60,
                          $h59,
                          $h58,
                          $h57,
                          $h56,
                          $h55,
                          $h54,
                          $h53,
                          $h52,
                          $h51,
                          $h50,
                          $h49,
                          $h48,
                          $h47,
                          $h46,
                          $h45,
                          $h44,
                          $h43,
                          $h42,
                          $h41,
                          $h40,
                          $h39,
                          $h38,
                          $h37,
                          $h36,
                          $h35,
                          $h34,
                          $h33,
                          $h32,
                          $h31,
                          $h30,
                          $h29,
                          $h28,
                          $h27,
                          $h26,
                          $h25,
                          $h24,
                          $h23,
                          $h22,
                          $h21,
                          $h20,
                          $h19,
                          $h18,
                          $h17,
                          $h16,
                          $h15,
                          $h14,
                          $h13,
                          $h12,
                          $h11,
                          $h10,
                          $h9,
                          $h8,
                          $h7,
                          $h6,
                          $h5,
                          $h4,
                          $h3,
                          $h2,
                          $h1,
                          $h0,
                          $idx);
                      }
                      else {
                        return [&] {
                          if (eel2_eq (n, 7.)) {
                            return init$update_downhist7 (
                              x,
                              $h225,
                              $h224,
                              $h223,
                              $h222,
                              $h221,
                              $h220,
                              $h219,
                              $h218,
                              $h217,
                              $h216,
                              $h215,
                              $h214,
                              $h213,
                              $h212,
                              $h211,
                              $h210,
                              $h209,
                              $h208,
                              $h207,
                              $h206,
                              $h205,
                              $h204,
                              $h203,
                              $h202,
                              $h201,
                              $h200,
                              $h199,
                              $h198,
                              $h197,
                              $h196,
                              $h195,
                              $h194,
                              $h193,
                              $h192,
                              $h191,
                              $h190,
                              $h189,
                              $h188,
                              $h187,
                              $h186,
                              $h185,
                              $h184,
                              $h183,
                              $h182,
                              $h181,
                              $h180,
                              $h179,
                              $h178,
                              $h177,
                              $h176,
                              $h175,
                              $h174,
                              $h173,
                              $h172,
                              $h171,
                              $h170,
                              $h169,
                              $h168,
                              $h167,
                              $h166,
                              $h165,
                              $h164,
                              $h163,
                              $h162,
                              $h161,
                              $h160,
                              $h159,
                              $h158,
                              $h157,
                              $h156,
                              $h155,
                              $h154,
                              $h153,
                              $h152,
                              $h151,
                              $h150,
                              $h149,
                              $h148,
                              $h147,
                              $h146,
                              $h145,
                              $h144,
                              $h143,
                              $h142,
                              $h141,
                              $h140,
                              $h139,
                              $h138,
                              $h137,
                              $h136,
                              $h135,
                              $h134,
                              $h133,
                              $h132,
                              $h131,
                              $h130,
                              $h129,
                              $h128,
                              $h127,
                              $h126,
                              $h125,
                              $h124,
                              $h123,
                              $h122,
                              $h121,
                              $h120,
                              $h119,
                              $h118,
                              $h117,
                              $h116,
                              $h115,
                              $h114,
                              $h113,
                              $h112,
                              $h111,
                              $h110,
                              $h109,
                              $h108,
                              $h107,
                              $h106,
                              $h105,
                              $h104,
                              $h103,
                              $h102,
                              $h101,
                              $h100,
                              $h99,
                              $h98,
                              $h97,
                              $h96,
                              $h95,
                              $h94,
                              $h93,
                              $h92,
                              $h91,
                              $h90,
                              $h89,
                              $h88,
                              $h87,
                              $h86,
                              $h85,
                              $h84,
                              $h83,
                              $h82,
                              $h81,
                              $h80,
                              $h79,
                              $h78,
                              $h77,
                              $h76,
                              $h75,
                              $h74,
                              $h73,
                              $h72,
                              $h71,
                              $h70,
                              $h69,
                              $h68,
                              $h67,
                              $h66,
                              $h65,
                              $h64,
                              $h63,
                              $h62,
                              $h61,
                              $h60,
                              $h59,
                              $h58,
                              $h57,
                              $h56,
                              $h55,
                              $h54,
                              $h53,
                              $h52,
                              $h51,
                              $h50,
                              $h49,
                              $h48,
                              $h47,
                              $h46,
                              $h45,
                              $h44,
                              $h43,
                              $h42,
                              $h41,
                              $h40,
                              $h39,
                              $h38,
                              $h37,
                              $h36,
                              $h35,
                              $h34,
                              $h33,
                              $h32,
                              $h31,
                              $h30,
                              $h29,
                              $h28,
                              $h27,
                              $h26,
                              $h25,
                              $h24,
                              $h23,
                              $h22,
                              $h21,
                              $h20,
                              $h19,
                              $h18,
                              $h17,
                              $h16,
                              $h15,
                              $h14,
                              $h13,
                              $h12,
                              $h11,
                              $h10,
                              $h9,
                              $h8,
                              $h7,
                              $h6,
                              $h5,
                              $h4,
                              $h3,
                              $h2,
                              $h1,
                              $h0,
                              $idx);
                          }
                          else {
                            return [&] {
                              if (eel2_eq (n, 8.)) {
                                return init$update_downhist8 (
                                  x,
                                  $h257,
                                  $h256,
                                  $h255,
                                  $h254,
                                  $h253,
                                  $h252,
                                  $h251,
                                  $h250,
                                  $h249,
                                  $h248,
                                  $h247,
                                  $h246,
                                  $h245,
                                  $h244,
                                  $h243,
                                  $h242,
                                  $h241,
                                  $h240,
                                  $h239,
                                  $h238,
                                  $h237,
                                  $h236,
                                  $h235,
                                  $h234,
                                  $h233,
                                  $h232,
                                  $h231,
                                  $h230,
                                  $h229,
                                  $h228,
                                  $h227,
                                  $h226,
                                  $h225,
                                  $h224,
                                  $h223,
                                  $h222,
                                  $h221,
                                  $h220,
                                  $h219,
                                  $h218,
                                  $h217,
                                  $h216,
                                  $h215,
                                  $h214,
                                  $h213,
                                  $h212,
                                  $h211,
                                  $h210,
                                  $h209,
                                  $h208,
                                  $h207,
                                  $h206,
                                  $h205,
                                  $h204,
                                  $h203,
                                  $h202,
                                  $h201,
                                  $h200,
                                  $h199,
                                  $h198,
                                  $h197,
                                  $h196,
                                  $h195,
                                  $h194,
                                  $h193,
                                  $h192,
                                  $h191,
                                  $h190,
                                  $h189,
                                  $h188,
                                  $h187,
                                  $h186,
                                  $h185,
                                  $h184,
                                  $h183,
                                  $h182,
                                  $h181,
                                  $h180,
                                  $h179,
                                  $h178,
                                  $h177,
                                  $h176,
                                  $h175,
                                  $h174,
                                  $h173,
                                  $h172,
                                  $h171,
                                  $h170,
                                  $h169,
                                  $h168,
                                  $h167,
                                  $h166,
                                  $h165,
                                  $h164,
                                  $h163,
                                  $h162,
                                  $h161,
                                  $h160,
                                  $h159,
                                  $h158,
                                  $h157,
                                  $h156,
                                  $h155,
                                  $h154,
                                  $h153,
                                  $h152,
                                  $h151,
                                  $h150,
                                  $h149,
                                  $h148,
                                  $h147,
                                  $h146,
                                  $h145,
                                  $h144,
                                  $h143,
                                  $h142,
                                  $h141,
                                  $h140,
                                  $h139,
                                  $h138,
                                  $h137,
                                  $h136,
                                  $h135,
                                  $h134,
                                  $h133,
                                  $h132,
                                  $h131,
                                  $h130,
                                  $h129,
                                  $h128,
                                  $h127,
                                  $h126,
                                  $h125,
                                  $h124,
                                  $h123,
                                  $h122,
                                  $h121,
                                  $h120,
                                  $h119,
                                  $h118,
                                  $h117,
                                  $h116,
                                  $h115,
                                  $h114,
                                  $h113,
                                  $h112,
                                  $h111,
                                  $h110,
                                  $h109,
                                  $h108,
                                  $h107,
                                  $h106,
                                  $h105,
                                  $h104,
                                  $h103,
                                  $h102,
                                  $h101,
                                  $h100,
                                  $h99,
                                  $h98,
                                  $h97,
                                  $h96,
                                  $h95,
                                  $h94,
                                  $h93,
                                  $h92,
                                  $h91,
                                  $h90,
                                  $h89,
                                  $h88,
                                  $h87,
                                  $h86,
                                  $h85,
                                  $h84,
                                  $h83,
                                  $h82,
                                  $h81,
                                  $h80,
                                  $h79,
                                  $h78,
                                  $h77,
                                  $h76,
                                  $h75,
                                  $h74,
                                  $h73,
                                  $h72,
                                  $h71,
                                  $h70,
                                  $h69,
                                  $h68,
                                  $h67,
                                  $h66,
                                  $h65,
                                  $h64,
                                  $h63,
                                  $h62,
                                  $h61,
                                  $h60,
                                  $h59,
                                  $h58,
                                  $h57,
                                  $h56,
                                  $h55,
                                  $h54,
                                  $h53,
                                  $h52,
                                  $h51,
                                  $h50,
                                  $h49,
                                  $h48,
                                  $h47,
                                  $h46,
                                  $h45,
                                  $h44,
                                  $h43,
                                  $h42,
                                  $h41,
                                  $h40,
                                  $h39,
                                  $h38,
                                  $h37,
                                  $h36,
                                  $h35,
                                  $h34,
                                  $h33,
                                  $h32,
                                  $h31,
                                  $h30,
                                  $h29,
                                  $h28,
                                  $h27,
                                  $h26,
                                  $h25,
                                  $h24,
                                  $h23,
                                  $h22,
                                  $h21,
                                  $h20,
                                  $h19,
                                  $h18,
                                  $h17,
                                  $h16,
                                  $h15,
                                  $h14,
                                  $h13,
                                  $h12,
                                  $h11,
                                  $h10,
                                  $h9,
                                  $h8,
                                  $h7,
                                  $h6,
                                  $h5,
                                  $h4,
                                  $h3,
                                  $h2,
                                  $h1,
                                  $h0,
                                  $idx);
                              }
                              else {
                                return 0. / 0.;
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$updateuphist (
    double  n,
    double  x,
    double& $h32,
    double& $h31,
    double& $h30,
    double& $h29,
    double& $h28,
    double& $h27,
    double& $h26,
    double& $h25,
    double& $h24,
    double& $h23,
    double& $h22,
    double& $h21,
    double& $h20,
    double& $h19,
    double& $h18,
    double& $h17,
    double& $h16,
    double& $h15,
    double& $h14,
    double& $h13,
    double& $h12,
    double& $h11,
    double& $h10,
    double& $h9,
    double& $h8,
    double& $h7,
    double& $h6,
    double& $h5,
    double& $h4,
    double& $h3,
    double& $h2,
    double& $h1,
    double& $h0,
    double& $idx)
  {
    return [&] {
      if (eel2_eq (n, 2.)) {
        return init$update_uphist2 (
          x,
          $h32,
          $h31,
          $h30,
          $h29,
          $h28,
          $h27,
          $h26,
          $h25,
          $h24,
          $h23,
          $h22,
          $h21,
          $h20,
          $h19,
          $h18,
          $h17,
          $h16,
          $h15,
          $h14,
          $h13,
          $h12,
          $h11,
          $h10,
          $h9,
          $h8,
          $h7,
          $h6,
          $h5,
          $h4,
          $h3,
          $h2,
          $h1,
          $h0,
          $idx);
      }
      else {
        return [&] {
          if (eel2_eq (n, 3.)) {
            return init$update_uphist3 (
              x,
              $h32,
              $h31,
              $h30,
              $h29,
              $h28,
              $h27,
              $h26,
              $h25,
              $h24,
              $h23,
              $h22,
              $h21,
              $h20,
              $h19,
              $h18,
              $h17,
              $h16,
              $h15,
              $h14,
              $h13,
              $h12,
              $h11,
              $h10,
              $h9,
              $h8,
              $h7,
              $h6,
              $h5,
              $h4,
              $h3,
              $h2,
              $h1,
              $h0,
              $idx);
          }
          else {
            return [&] {
              if (eel2_eq (n, 4.)) {
                return init$update_uphist4 (
                  x,
                  $h32,
                  $h31,
                  $h30,
                  $h29,
                  $h28,
                  $h27,
                  $h26,
                  $h25,
                  $h24,
                  $h23,
                  $h22,
                  $h21,
                  $h20,
                  $h19,
                  $h18,
                  $h17,
                  $h16,
                  $h15,
                  $h14,
                  $h13,
                  $h12,
                  $h11,
                  $h10,
                  $h9,
                  $h8,
                  $h7,
                  $h6,
                  $h5,
                  $h4,
                  $h3,
                  $h2,
                  $h1,
                  $h0,
                  $idx);
              }
              else {
                return [&] {
                  if (eel2_eq (n, 5.)) {
                    return init$update_uphist5 (
                      x,
                      $h32,
                      $h31,
                      $h30,
                      $h29,
                      $h28,
                      $h27,
                      $h26,
                      $h25,
                      $h24,
                      $h23,
                      $h22,
                      $h21,
                      $h20,
                      $h19,
                      $h18,
                      $h17,
                      $h16,
                      $h15,
                      $h14,
                      $h13,
                      $h12,
                      $h11,
                      $h10,
                      $h9,
                      $h8,
                      $h7,
                      $h6,
                      $h5,
                      $h4,
                      $h3,
                      $h2,
                      $h1,
                      $h0,
                      $idx);
                  }
                  else {
                    return [&] {
                      if (eel2_eq (n, 6.)) {
                        return init$update_uphist6 (
                          x,
                          $h32,
                          $h31,
                          $h30,
                          $h29,
                          $h28,
                          $h27,
                          $h26,
                          $h25,
                          $h24,
                          $h23,
                          $h22,
                          $h21,
                          $h20,
                          $h19,
                          $h18,
                          $h17,
                          $h16,
                          $h15,
                          $h14,
                          $h13,
                          $h12,
                          $h11,
                          $h10,
                          $h9,
                          $h8,
                          $h7,
                          $h6,
                          $h5,
                          $h4,
                          $h3,
                          $h2,
                          $h1,
                          $h0,
                          $idx);
                      }
                      else {
                        return [&] {
                          if (eel2_eq (n, 7.)) {
                            return init$update_uphist7 (
                              x,
                              $h32,
                              $h31,
                              $h30,
                              $h29,
                              $h28,
                              $h27,
                              $h26,
                              $h25,
                              $h24,
                              $h23,
                              $h22,
                              $h21,
                              $h20,
                              $h19,
                              $h18,
                              $h17,
                              $h16,
                              $h15,
                              $h14,
                              $h13,
                              $h12,
                              $h11,
                              $h10,
                              $h9,
                              $h8,
                              $h7,
                              $h6,
                              $h5,
                              $h4,
                              $h3,
                              $h2,
                              $h1,
                              $h0,
                              $idx);
                          }
                          else {
                            return [&] {
                              if (eel2_eq (n, 8.)) {
                                return init$update_uphist8 (
                                  x,
                                  $h32,
                                  $h31,
                                  $h30,
                                  $h29,
                                  $h28,
                                  $h27,
                                  $h26,
                                  $h25,
                                  $h24,
                                  $h23,
                                  $h22,
                                  $h21,
                                  $h20,
                                  $h19,
                                  $h18,
                                  $h17,
                                  $h16,
                                  $h15,
                                  $h14,
                                  $h13,
                                  $h12,
                                  $h11,
                                  $h10,
                                  $h9,
                                  $h8,
                                  $h7,
                                  $h6,
                                  $h5,
                                  $h4,
                                  $h3,
                                  $h2,
                                  $h1,
                                  $h0,
                                  $idx);
                              }
                              else {
                                return 0. / 0.;
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample (
    double  n,
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    return [&] {
      if (eel2_eq (n, 2.)) {
        return init$upsample2 (
          $idx,
          $h0,
          $h32,
          $h1,
          $h31,
          $h2,
          $h30,
          $h3,
          $h29,
          $h4,
          $h28,
          $h5,
          $h27,
          $h6,
          $h26,
          $h7,
          $h25,
          $h8,
          $h24,
          $h9,
          $h23,
          $h10,
          $h22,
          $h11,
          $h21,
          $h12,
          $h20,
          $h13,
          $h19,
          $h14,
          $h18,
          $h15,
          $h17,
          $h16);
      }
      else {
        return [&] {
          if (eel2_eq (n, 3.)) {
            return init$upsample3 (
              $idx,
              $h0,
              $h32,
              $h1,
              $h31,
              $h2,
              $h30,
              $h3,
              $h29,
              $h4,
              $h28,
              $h5,
              $h27,
              $h6,
              $h26,
              $h7,
              $h25,
              $h8,
              $h24,
              $h9,
              $h23,
              $h10,
              $h22,
              $h11,
              $h21,
              $h12,
              $h20,
              $h13,
              $h19,
              $h14,
              $h18,
              $h15,
              $h17,
              $h16);
          }
          else {
            return [&] {
              if (eel2_eq (n, 4.)) {
                return init$upsample4 (
                  $idx,
                  $h0,
                  $h32,
                  $h1,
                  $h31,
                  $h2,
                  $h30,
                  $h3,
                  $h29,
                  $h4,
                  $h28,
                  $h5,
                  $h27,
                  $h6,
                  $h26,
                  $h7,
                  $h25,
                  $h8,
                  $h24,
                  $h9,
                  $h23,
                  $h10,
                  $h22,
                  $h11,
                  $h21,
                  $h12,
                  $h20,
                  $h13,
                  $h19,
                  $h14,
                  $h18,
                  $h15,
                  $h17,
                  $h16);
              }
              else {
                return [&] {
                  if (eel2_eq (n, 5.)) {
                    return init$upsample5 (
                      $idx,
                      $h0,
                      $h32,
                      $h1,
                      $h31,
                      $h2,
                      $h30,
                      $h3,
                      $h29,
                      $h4,
                      $h28,
                      $h5,
                      $h27,
                      $h6,
                      $h26,
                      $h7,
                      $h25,
                      $h8,
                      $h24,
                      $h9,
                      $h23,
                      $h10,
                      $h22,
                      $h11,
                      $h21,
                      $h12,
                      $h20,
                      $h13,
                      $h19,
                      $h14,
                      $h18,
                      $h15,
                      $h17,
                      $h16);
                  }
                  else {
                    return [&] {
                      if (eel2_eq (n, 6.)) {
                        return init$upsample6 (
                          $idx,
                          $h0,
                          $h32,
                          $h1,
                          $h31,
                          $h2,
                          $h30,
                          $h3,
                          $h29,
                          $h4,
                          $h28,
                          $h5,
                          $h27,
                          $h6,
                          $h26,
                          $h7,
                          $h25,
                          $h8,
                          $h24,
                          $h9,
                          $h23,
                          $h10,
                          $h22,
                          $h11,
                          $h21,
                          $h12,
                          $h20,
                          $h13,
                          $h19,
                          $h14,
                          $h18,
                          $h15,
                          $h17,
                          $h16);
                      }
                      else {
                        return [&] {
                          if (eel2_eq (n, 7.)) {
                            return init$upsample7 (
                              $idx,
                              $h0,
                              $h32,
                              $h1,
                              $h31,
                              $h2,
                              $h30,
                              $h3,
                              $h29,
                              $h4,
                              $h28,
                              $h5,
                              $h27,
                              $h6,
                              $h26,
                              $h7,
                              $h25,
                              $h8,
                              $h24,
                              $h9,
                              $h23,
                              $h10,
                              $h22,
                              $h11,
                              $h21,
                              $h12,
                              $h20,
                              $h13,
                              $h19,
                              $h14,
                              $h18,
                              $h15,
                              $h17,
                              $h16);
                          }
                          else {
                            return [&] {
                              if (eel2_eq (n, 8.)) {
                                return init$upsample8 (
                                  $idx,
                                  $h0,
                                  $h32,
                                  $h1,
                                  $h31,
                                  $h2,
                                  $h30,
                                  $h3,
                                  $h29,
                                  $h4,
                                  $h28,
                                  $h5,
                                  $h27,
                                  $h6,
                                  $h26,
                                  $h7,
                                  $h25,
                                  $h8,
                                  $h24,
                                  $h9,
                                  $h23,
                                  $h10,
                                  $h22,
                                  $h11,
                                  $h21,
                                  $h12,
                                  $h20,
                                  $h13,
                                  $h19,
                                  $h14,
                                  $h18,
                                  $h15,
                                  $h17,
                                  $h16);
                              }
                              else {
                                return 0. / 0.;
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample2 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000099181713 * ($h0 + $h32)
          + 0.0000000000000000001890212759 * ($h1 + $h31)
          - 0.0000000000000000001992354234 * ($h2 + $h30)
          - 0.0000000000000000005752212179 * ($h3 + $h29)
          - 0.0000000000000000009298561215 * ($h4 + $h28)
          + 0.0000000000000000060050299396 * ($h5 + $h27)
          - 0.0000000000000000026844636138 * ($h6 + $h26)
          + 0.0000000000000000040627689494 * ($h7 + $h25)
          - 0.0000000000000000057849349670 * ($h8 + $h24)
          + 0.0000000000000000078079915472 * ($h9 + $h23)
          - 0.0000000000000000100436068618 * ($h10 + $h22)
          + 0.0000000000000000123616084976 * ($h11 + $h21)
          - 0.0000000000000000146007297630 * ($h12 + $h20)
          + 0.0000000000000000165855976951 * ($h13 + $h19)
          - 0.0000000000000000181476788196 * ($h14 + $h18)
          + 0.0000000000000000191469682927 * ($h15 + $h17)
          + 0.5000000000000000000000000000 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000157684019076028459651045 * ($h0 + $h31)
              + 0.0000668896391717849198152099 * ($h1 + $h30)
              - 0.0001891989906380298460189526 * ($h2 + $h29)
              + 0.0004377128379096322354294135 * ($h3 + $h28)
              - 0.0008906785065136706321109461 * ($h4 + $h27)
              + 0.0016533331700159757931406501 * ($h5 + $h26)
              - 0.0028619810722864957863720292 * ($h6 + $h25)
              + 0.0046904282259888118236657029 * ($h7 + $h24)
              - 0.0073635540137577323860362810 * ($h8 + $h23)
              + 0.0111887532178094675772150879 * ($h9 + $h22)
              - 0.0166308919344621067293310546 * ($h10 + $h21)
              + 0.0245002933530227423597480652 * ($h11 + $h20)
              - 0.0364790852956249495031570973 * ($h12 + $h19)
              + 0.0569279209706458830253517078 * ($h13 + $h18)
              - 0.1019328347498759945732871302 * ($h14 + $h17)
              + 0.3168974327353483722014004798 * ($h15 + $h16));
          }
          else {
            return 0. / 0.;
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample3 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000066121142 * ($h0 + $h32)
          + 0.0000000000000000001260141839 * ($h1 + $h31)
          - 0.0000000000000000001328236156 * ($h2 + $h30)
          + 0.0000000000000000010062436728 * ($h3 + $h29)
          - 0.0000000000000000006199040810 * ($h4 + $h28)
          + 0.0000000000000000040033532930 * ($h5 + $h27)
          - 0.0000000000000000069814144954 * ($h6 + $h26)
          + 0.0000000000000000114389844054 * ($h7 + $h25)
          - 0.0000000000000000038566233113 * ($h8 + $h24)
          + 0.0000000000000000052053276982 * ($h9 + $h23)
          - 0.0000000000000000066957379078 * ($h10 + $h22)
          + 0.0000000000000000321485127637 * ($h11 + $h21)
          - 0.0000000000000000097338198420 * ($h12 + $h20)
          + 0.0000000000000000110570651301 * ($h13 + $h19)
          - 0.0000000000000000120984525464 * ($h14 + $h18)
          + 0.0000000000000000127646455285 * ($h15 + $h17)
          + 0.3333333333333333148296162562 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000065876445494106254432954 * $h0
              - 0.0000121671875267996685741293 * $h31
              + 0.0000315282859974594324562781 * $h1
              + 0.0000468259781374402386409581 * $h30
              - 0.0000934166103276844840075724 * $h2
              - 0.0001270453090432086408045204 * $h29
              + 0.0002220046797640929801993803 * $h3
              + 0.0002866664164929718207688869 * $h28
              - 0.0004600789817233408534984107 * $h4
              - 0.0005733145806488167952816304 * $h27
              + 0.0008656515972657312808086205 * $h5
              + 0.0010505580751447142831556114 * $h26
              - 0.0015142299368397637172184433 * $h6
              - 0.0018003775571569121099341215 * $h25
              + 0.0025021704768435778197532837 * $h7
              + 0.0029273153917977420314378012 * $h24
              - 0.0039535267431878920452170689 * $h8
              - 0.0045674611580107504077430391 * $h23
              + 0.0060357948241555898355459320 * $h9
              + 0.0069093933017410737520980213 * $h22
              - 0.0089972683720108970195639131 * $h10
              - 0.0102443810443442022417581683 * $h21
              + 0.0132596240390790414548360943 * $h11
              + 0.0150939952445445519507716270 * $h20
              - 0.0196710725273944314617224904 * $h12
              - 0.0225769162988834239114144253 * $h19
              + 0.0303390231990166119036000936 * $h13
              + 0.0357287597153385858006480191 * $h18
              - 0.0524687268568565026716221666 * $h14
              - 0.0667677831802520743709195017 * $h17
              + 0.1367466000743488840907247095 * $h15
              + 0.2751201919563462938711495553 * $h16);
          }
          else {
            return [&] {
              if (eel2_eq ($idx, 2.)) {
                return (
                  -0.0000065876445494106254432954 * $h31
                  - 0.0000121671875267996685741293 * $h0
                  + 0.0000315282859974594324562781 * $h30
                  + 0.0000468259781374402386409581 * $h1
                  - 0.0000934166103276844840075724 * $h29
                  - 0.0001270453090432086408045204 * $h2
                  + 0.0002220046797640929801993803 * $h28
                  + 0.0002866664164929718207688869 * $h3
                  - 0.0004600789817233408534984107 * $h27
                  - 0.0005733145806488167952816304 * $h4
                  + 0.0008656515972657312808086205 * $h26
                  + 0.0010505580751447142831556114 * $h5
                  - 0.0015142299368397637172184433 * $h25
                  - 0.0018003775571569121099341215 * $h6
                  + 0.0025021704768435778197532837 * $h24
                  + 0.0029273153917977420314378012 * $h7
                  - 0.0039535267431878920452170689 * $h23
                  - 0.0045674611580107504077430391 * $h8
                  + 0.0060357948241555898355459320 * $h22
                  + 0.0069093933017410737520980213 * $h9
                  - 0.0089972683720108970195639131 * $h21
                  - 0.0102443810443442022417581683 * $h10
                  + 0.0132596240390790414548360943 * $h20
                  + 0.0150939952445445519507716270 * $h11
                  - 0.0196710725273944314617224904 * $h19
                  - 0.0225769162988834239114144253 * $h12
                  + 0.0303390231990166119036000936 * $h18
                  + 0.0357287597153385858006480191 * $h13
                  - 0.0524687268568565026716221666 * $h17
                  - 0.0667677831802520743709195017 * $h14
                  + 0.1367466000743488840907247095 * $h16
                  + 0.2751201919563462938711495553 * $h15);
              }
              else {
                return 0. / 0.;
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample4 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000049590856 * ($h0 + $h32)
          + 0.0000000000000000000945106379 * ($h1 + $h31)
          - 0.0000000000000000000996177117 * ($h2 + $h30)
          - 0.0000000000000000002876106089 * ($h3 + $h29)
          - 0.0000000000000000004649280607 * ($h4 + $h28)
          + 0.0000000000000000030025149698 * ($h5 + $h27)
          - 0.0000000000000000013422318069 * ($h6 + $h26)
          + 0.0000000000000000020313844747 * ($h7 + $h25)
          - 0.0000000000000000028924674835 * ($h8 + $h24)
          + 0.0000000000000000039039957736 * ($h9 + $h23)
          - 0.0000000000000000050218034309 * ($h10 + $h22)
          + 0.0000000000000000061808042488 * ($h11 + $h21)
          - 0.0000000000000000073003648815 * ($h12 + $h20)
          + 0.0000000000000000082927988476 * ($h13 + $h19)
          - 0.0000000000000000090738394098 * ($h14 + $h18)
          + 0.0000000000000000095734841463 * ($h15 + $h17)
          + 0.2500000000000000000000000000 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000033757231426914220009483 * $h0
              - 0.0000085289094933942085101017 * $h31
              + 0.0000173704096919697869292644 * $h1
              + 0.0000314676513835836232728903 * $h30
              - 0.0000527876562282808908473965 * $h2
              - 0.0000837447779586459115216610 * $h29
              + 0.0001272462008927691297366369 * $h3
              + 0.0001867347348124971499489649 * $h28
              - 0.0002662294539509409531732875 * $h4
              - 0.0003703653962742688740376884 * $h27
              + 0.0005044354914877378958174003 * $h5
              + 0.0006744394357876423934730625 * $h26
              - 0.0008871474448981886244680606 * $h6
              - 0.0011501899711908994319159438 * $h25
              + 0.0014721915626140886449585432 * $h7
              + 0.0018629731561917639223735499 * $h24
              - 0.0023338616348788105564482365 * $h8
              - 0.0028981644904514727856259526 * $h23
              + 0.0035719011586020370414840119 * $h9
              + 0.0043749359551812942378812288 * $h22
              - 0.0053327653893248576702501573 * $h10
              - 0.0064793859444149210988217469 * $h21
              + 0.0078620405765405087378239202 * $h11
              + 0.0095493791503994621822082323 * $h20
              - 0.0116462054453138064147310615 * $h12
              - 0.0143218836975414522127980632 * $h19
              + 0.0178697620839786477930921649 * $h13
              + 0.0228458254220083416263786802 * $h18
              - 0.0304449875627864352534146519 * $h14
              - 0.0437803489925406158489451514 * $h17
              + 0.0742791559061112965922646367 * $h15
              + 0.2248290167387327342929381757 * $h16);
          }
          else {
            return [&] {
              if (eel2_eq ($idx, 2.)) {
                return (
                  -0.0000078842009538014229825522 * ($h0 + $h31)
                  + 0.0000334448195858924599076049 * ($h1 + $h30)
                  - 0.0000945994953190149230094763 * ($h2 + $h29)
                  + 0.0002188564189548161177147068 * ($h3 + $h28)
                  - 0.0004453392532568353160554731 * ($h4 + $h27)
                  + 0.0008266665850079878965703251 * ($h5 + $h26)
                  - 0.0014309905361432478931860146 * ($h6 + $h25)
                  + 0.0023452141129944059118328514 * ($h7 + $h24)
                  - 0.0036817770068788661930181405 * ($h8 + $h23)
                  + 0.0055943766089047337886075439 * ($h9 + $h22)
                  - 0.0083154459672310533646655273 * ($h10 + $h21)
                  + 0.0122501466765113711798740326 * ($h11 + $h20)
                  - 0.0182395426478124747515785486 * ($h12 + $h19)
                  + 0.0284639604853229415126758539 * ($h13 + $h18)
                  - 0.0509664173749379972866435651 * ($h14 + $h17)
                  + 0.1584487163676741861007002399 * ($h15 + $h16));
              }
              else {
                return [&] {
                  if (eel2_eq ($idx, 3.)) {
                    return (
                      -0.0000033757231426914220009483 * $h31
                      - 0.0000085289094933942085101017 * $h0
                      + 0.0000173704096919697869292644 * $h30
                      + 0.0000314676513835836232728903 * $h1
                      - 0.0000527876562282808908473965 * $h29
                      - 0.0000837447779586459115216610 * $h2
                      + 0.0001272462008927691297366369 * $h28
                      + 0.0001867347348124971499489649 * $h3
                      - 0.0002662294539509409531732875 * $h27
                      - 0.0003703653962742688740376884 * $h4
                      + 0.0005044354914877378958174003 * $h26
                      + 0.0006744394357876423934730625 * $h5
                      - 0.0008871474448981886244680606 * $h25
                      - 0.0011501899711908994319159438 * $h6
                      + 0.0014721915626140886449585432 * $h24
                      + 0.0018629731561917639223735499 * $h7
                      - 0.0023338616348788105564482365 * $h23
                      - 0.0028981644904514727856259526 * $h8
                      + 0.0035719011586020370414840119 * $h22
                      + 0.0043749359551812942378812288 * $h9
                      - 0.0053327653893248576702501573 * $h21
                      - 0.0064793859444149210988217469 * $h10
                      + 0.0078620405765405087378239202 * $h20
                      + 0.0095493791503994621822082323 * $h11
                      - 0.0116462054453138064147310615 * $h19
                      - 0.0143218836975414522127980632 * $h12
                      + 0.0178697620839786477930921649 * $h18
                      + 0.0228458254220083416263786802 * $h13
                      - 0.0304449875627864352534146519 * $h17
                      - 0.0437803489925406158489451514 * $h14
                      + 0.0742791559061112965922646367 * $h16
                      + 0.2248290167387327342929381757 * $h15);
                  }
                  else {
                    return 0. / 0.;
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample5 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000039672685 * ($h0 + $h32)
          - 0.0000000000000000000240690941 * ($h1 + $h31)
          - 0.0000000000000000000796941694 * ($h2 + $h30)
          - 0.0000000000000000002300884871 * ($h3 + $h29)
          - 0.0000000000000000003719424486 * ($h4 + $h28)
          - 0.0000000000000000010812391722 * ($h5 + $h27)
          + 0.0000000000000000020412778062 * ($h6 + $h26)
          - 0.0000000000000000036131754838 * ($h7 + $h25)
          - 0.0000000000000000023139739868 * ($h8 + $h24)
          + 0.0000000000000000031231966189 * ($h9 + $h23)
          - 0.0000000000000000040174427447 * ($h10 + $h22)
          - 0.0000000000000000093998208602 * ($h11 + $h21)
          - 0.0000000000000000058402919052 * ($h12 + $h20)
          + 0.0000000000000000066342390781 * ($h13 + $h19)
          - 0.0000000000000000072590715279 * ($h14 + $h18)
          + 0.0000000000000000076587873171 * ($h15 + $h17)
          + 0.2000000000000000111022302463 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000020040784318467392476027 * $h0
              - 0.0000061340766418378592938652 * $h31
              + 0.0000108253096983519385469947 * $h1
              + 0.0000221036723710291892414440 * $h30
              - 0.0000334267394639819646288276 * $h2
              - 0.0000581731106148586154538059 * $h29
              + 0.0000812885364278627533607749 * $h3
              + 0.0001288193523382497637352201 * $h28
              - 0.0001710737879368568945242374 * $h4
              - 0.0002542520270353692277490176 * $h27
              + 0.0003255298241389545290530583 * $h5
              + 0.0004612925302986218829663645 * $h26
              - 0.0005743929430109174670213146 * $h6
              - 0.0007844277619955119119216080 * $h25
              + 0.0009556552871967618394480337 * $h7
              + 0.0012676655265794014616764773 * $h24
              - 0.0015180737634252010857804915 * $h8
              - 0.0019686223775265869820327858 * $h23
              + 0.0023268949177368100818263930 * $h9
              + 0.0029680888615995410818870770 * $h22
              - 0.0034773889908164888444541685 * $h10
              - 0.0043930768998547099421503326 * $h21
              + 0.0051281163111687629030388536 * $h11
              + 0.0064761156532928496748491298 * $h20
              - 0.0075903257385385733760352345 * $h12
              - 0.0097296501550104830258192123 * $h19
              + 0.0116129539613201195058511672 * $h13
              + 0.0156000068103777905087481415 * $h18
              - 0.0196212203355458983389247862 * $h14
              - 0.0303934815691062065745597920 * $h17
              + 0.0462447722576860287269084893 * $h15
              + 0.1869647991286631505403192932 * $h16);
          }
          else {
            return [&] {
              if (eel2_eq ($idx, 2.)) {
                return (
                  -0.0000049636593540504435166649 * $h0
                  - 0.0000071633353882701092035855 * $h31
                  + 0.0000225597852236812819980150 * $h1
                  + 0.0000285976732926204015646388 * $h30
                  - 0.0000655718766920392493336572 * $h2
                  - 0.0000788520702166965487423661 * $h29
                  + 0.0001541288504632941207001667 * $h3
                  + 0.0001796721815035577586756876 * $h28
                  - 0.0003170482895769423446578894 * $h4
                  - 0.0003617886471048386664954577 * $h27
                  + 0.0005932740411023884998312217 * $h5
                  + 0.0006663417376881307233396634 * $h26
                  - 0.0010333917139092665959942963 * $h6
                  - 0.0011464753753984140583616069 * $h25
                  + 0.0017019283676469108661233332 * $h7
                  + 0.0018699505341761618517487653 * $h24
                  - 0.0026821130890590594644806721 * $h8
                  - 0.0029247490220080107903299904 * $h23
                  + 0.0040868586598085858765938561 * $h9
                  + 0.0044321045911488079344087154 * $h22
                  - 0.0060848633748633263948479843 * $h10
                  - 0.0065776689850511370696861668 * $h21
                  + 0.0089655987817445180476649824 * $h11
                  + 0.0096902925932619687204860881 * $h20
                  - 0.0133186453281675595827771019 * $h12
                  - 0.0144660372448623900792918917 * $h19
                  + 0.0206334159092098588794694791 * $h13
                  + 0.0227587083433087242201331435 * $h18
                  - 0.0361531912940253399857404304 * $h14
                  - 0.0417630571018613311329303883 * $h17
                  + 0.1002660003900417012845380782 * $h15
                  + 0.1509351738893692784770905746 * $h16);
              }
              else {
                return [&] {
                  if (eel2_eq ($idx, 3.)) {
                    return (
                      -0.0000049636593540504435166649 * $h31
                      - 0.0000071633353882701092035855 * $h0
                      + 0.0000225597852236812819980150 * $h30
                      + 0.0000285976732926204015646388 * $h1
                      - 0.0000655718766920392493336572 * $h29
                      - 0.0000788520702166965487423661 * $h2
                      + 0.0001541288504632941207001667 * $h28
                      + 0.0001796721815035577586756876 * $h3
                      - 0.0003170482895769423446578894 * $h27
                      - 0.0003617886471048386664954577 * $h4
                      + 0.0005932740411023884998312217 * $h26
                      + 0.0006663417376881307233396634 * $h5
                      - 0.0010333917139092665959942963 * $h25
                      - 0.0011464753753984140583616069 * $h6
                      + 0.0017019283676469108661233332 * $h24
                      + 0.0018699505341761618517487653 * $h7
                      - 0.0026821130890590594644806721 * $h23
                      - 0.0029247490220080107903299904 * $h8
                      + 0.0040868586598085858765938561 * $h22
                      + 0.0044321045911488079344087154 * $h9
                      - 0.0060848633748633263948479843 * $h21
                      - 0.0065776689850511370696861668 * $h10
                      + 0.0089655987817445180476649824 * $h20
                      + 0.0096902925932619687204860881 * $h11
                      - 0.0133186453281675595827771019 * $h19
                      - 0.0144660372448623900792918917 * $h12
                      + 0.0206334159092098588794694791 * $h18
                      + 0.0227587083433087242201331435 * $h13
                      - 0.0361531912940253399857404304 * $h17
                      - 0.0417630571018613311329303883 * $h14
                      + 0.1002660003900417012845380782 * $h16
                      + 0.1509351738893692784770905746 * $h15);
                  }
                  else {
                    return [&] {
                      if (eel2_eq ($idx, 4.)) {
                        return (
                          -0.0000020040784318467392476027 * $h31
                          - 0.0000061340766418378592938652 * $h0
                          + 0.0000108253096983519385469947 * $h30
                          + 0.0000221036723710291892414440 * $h1
                          - 0.0000334267394639819646288276 * $h29
                          - 0.0000581731106148586154538059 * $h2
                          + 0.0000812885364278627533607749 * $h28
                          + 0.0001288193523382497637352201 * $h3
                          - 0.0001710737879368568945242374 * $h27
                          - 0.0002542520270353692277490176 * $h4
                          + 0.0003255298241389545290530583 * $h26
                          + 0.0004612925302986218829663645 * $h5
                          - 0.0005743929430109174670213146 * $h25
                          - 0.0007844277619955119119216080 * $h6
                          + 0.0009556552871967618394480337 * $h24
                          + 0.0012676655265794014616764773 * $h7
                          - 0.0015180737634252010857804915 * $h23
                          - 0.0019686223775265869820327858 * $h8
                          + 0.0023268949177368100818263930 * $h22
                          + 0.0029680888615995410818870770 * $h9
                          - 0.0034773889908164888444541685 * $h21
                          - 0.0043930768998547099421503326 * $h10
                          + 0.0051281163111687629030388536 * $h20
                          + 0.0064761156532928496748491298 * $h11
                          - 0.0075903257385385733760352345 * $h19
                          - 0.0097296501550104830258192123 * $h12
                          + 0.0116129539613201195058511672 * $h18
                          + 0.0156000068103777905087481415 * $h13
                          - 0.0196212203355458983389247862 * $h17
                          - 0.0303934815691062065745597920 * $h14
                          + 0.0462447722576860287269084893 * $h16
                          + 0.1869647991286631505403192932 * $h15);
                      }
                      else {
                        return 0. / 0.;
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample6 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000033060571 * ($h0 + $h32)
          + 0.0000000000000000000630070920 * ($h1 + $h31)
          - 0.0000000000000000000664118078 * ($h2 + $h30)
          + 0.0000000000000000005031218364 * ($h3 + $h29)
          - 0.0000000000000000003099520405 * ($h4 + $h28)
          + 0.0000000000000000020016766465 * ($h5 + $h27)
          - 0.0000000000000000034907072477 * ($h6 + $h26)
          + 0.0000000000000000057194922027 * ($h7 + $h25)
          - 0.0000000000000000019283116557 * ($h8 + $h24)
          + 0.0000000000000000026026638491 * ($h9 + $h23)
          - 0.0000000000000000033478689539 * ($h10 + $h22)
          + 0.0000000000000000160742563819 * ($h11 + $h21)
          - 0.0000000000000000048669099210 * ($h12 + $h20)
          + 0.0000000000000000055285325650 * ($h13 + $h19)
          - 0.0000000000000000060492262732 * ($h14 + $h18)
          + 0.0000000000000000063823227642 * ($h15 + $h17)
          + 0.1666666666666666574148081281 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000013130145912945136275359 * $h0
              - 0.0000045766934787663860988833 * $h31
              + 0.0000073439443760792366905701 * $h1
              + 0.0000162445946569879465801525 * $h30
              - 0.0000229272977242405951142212 * $h2
              - 0.0000424442055122803863376896 * $h29
              + 0.0000560903708277947542562569 * $h3
              + 0.0000935630488359698937912701 * $h28
              - 0.0001185121436409100045611051 * $h4
              - 0.0001840734075925766445244736 * $h27
              + 0.0002261639754569758911043748 * $h5
              + 0.0003331558875107856927677563 * $h26
              - 0.0003999481657687324132402495 * $h6
              - 0.0005654560596576519619985146 * $h25
              + 0.0006665801863784329281056862 * $h7
              + 0.0009124316699355662294013136 * $h24
              - 0.0010603213855115130401923773 * $h8
              - 0.0014153323471542266377004582 * $h23
              + 0.0016269241021066927540411617 * $h9
              + 0.0021321773335247766641142864 * $h22
              - 0.0024329502999875947909236285 * $h10
              - 0.0031545944797414429000559366 * $h21
              + 0.0035886322644059901777746635 * $h11
              + 0.0046512772851241019483881090 * $h20
              - 0.0053090559209842420190783585 * $h12
              - 0.0069965758337235794267483513 * $h19
              + 0.0081077644703959755867472836 * $h13
              + 0.0112579594474530118169974813 * $h18
              - 0.0136265521459370854417958441 * $h14
              - 0.0221919713131508364312161063 * $h17
              + 0.0314400272193331165038188146 * $h15
              + 0.1590763343355732495343346500 * $h16);
          }
          else {
            return [&] {
              if (eel2_eq ($idx, 2.)) {
                return (
                  -0.0000032938222747053127216477 * $h0
                  - 0.0000060835937633998342870647 * $h31
                  + 0.0000157641429987297162281391 * $h1
                  + 0.0000234129890687201193204790 * $h30
                  - 0.0000467083051638422420037862 * $h2
                  - 0.0000635226545216043204022602 * $h29
                  + 0.0001110023398820464900996902 * $h3
                  + 0.0001433332082464859103844435 * $h28
                  - 0.0002300394908616704267492054 * $h4
                  - 0.0002866572903244083976408152 * $h27
                  + 0.0004328257986328656404043103 * $h5
                  + 0.0005252790375723571415778057 * $h26
                  - 0.0007571149684198818586092217 * $h6
                  - 0.0009001887785784560549670608 * $h25
                  + 0.0012510852384217889098766419 * $h7
                  + 0.0014636576958988710157189006 * $h24
                  - 0.0019767633715939460226085345 * $h8
                  - 0.0022837305790053752038715196 * $h23
                  + 0.0030178974120777949177729660 * $h9
                  + 0.0034546966508705368760490106 * $h22
                  - 0.0044986341860054485097819565 * $h10
                  - 0.0051221905221721011208790841 * $h21
                  + 0.0066298120195395207274180471 * $h11
                  + 0.0075469976222722759753858135 * $h20
                  - 0.0098355362636972157308612452 * $h12
                  - 0.0112884581494417119557072127 * $h19
                  + 0.0151695115995083059518000468 * $h13
                  + 0.0178643798576692929003240096 * $h18
                  - 0.0262343634284282513358110833 * $h14
                  - 0.0333838915901260371854597508 * $h17
                  + 0.0683733000371744420453623547 * $h15
                  + 0.1375600959781731469355747777 * $h16);
              }
              else {
                return [&] {
                  if (eel2_eq ($idx, 3.)) {
                    return (
                      -0.0000052561339692009486550348 * ($h0 + $h31)
                      + 0.0000222965463905949744011139 * ($h1 + $h30)
                      - 0.0000630663302126766153396509 * ($h2 + $h29)
                      + 0.0001459042793032107722481922 * ($h3 + $h28)
                      - 0.0002968928355045568593002792 * ($h4 + $h27)
                      + 0.0005511110566719920394671006 * ($h5 + $h26)
                      - 0.0009539936907621653344041546 * ($h6 + $h25)
                      + 0.0015634760753296041580623355 * ($h7 + $h24)
                      - 0.0024545180045859103616645580 * ($h8 + $h23)
                      + 0.0037295844059364899152064776 * ($h9 + $h22)
                      - 0.0055436306448207028213515102 * ($h10 + $h21)
                      + 0.0081667644510075802083415297 * ($h11 + $h20)
                      - 0.0121596950985416504126268578 * ($h12 + $h19)
                      + 0.0189759736568819621649328866 * ($h13 + $h18)
                      - 0.0339776115832919958781310754 * ($h14 + $h17)
                      + 0.1056324775784494574004668266 * ($h15 + $h16));
                  }
                  else {
                    return [&] {
                      if (eel2_eq ($idx, 4.)) {
                        return (
                          -0.0000032938222747053127216477 * $h31
                          - 0.0000060835937633998342870647 * $h0
                          + 0.0000157641429987297162281391 * $h30
                          + 0.0000234129890687201193204790 * $h1
                          - 0.0000467083051638422420037862 * $h29
                          - 0.0000635226545216043204022602 * $h2
                          + 0.0001110023398820464900996902 * $h28
                          + 0.0001433332082464859103844435 * $h3
                          - 0.0002300394908616704267492054 * $h27
                          - 0.0002866572903244083976408152 * $h4
                          + 0.0004328257986328656404043103 * $h26
                          + 0.0005252790375723571415778057 * $h5
                          - 0.0007571149684198818586092217 * $h25
                          - 0.0009001887785784560549670608 * $h6
                          + 0.0012510852384217889098766419 * $h24
                          + 0.0014636576958988710157189006 * $h7
                          - 0.0019767633715939460226085345 * $h23
                          - 0.0022837305790053752038715196 * $h8
                          + 0.0030178974120777949177729660 * $h22
                          + 0.0034546966508705368760490106 * $h9
                          - 0.0044986341860054485097819565 * $h21
                          - 0.0051221905221721011208790841 * $h10
                          + 0.0066298120195395207274180471 * $h20
                          + 0.0075469976222722759753858135 * $h11
                          - 0.0098355362636972157308612452 * $h19
                          - 0.0112884581494417119557072127 * $h12
                          + 0.0151695115995083059518000468 * $h18
                          + 0.0178643798576692929003240096 * $h13
                          - 0.0262343634284282513358110833 * $h17
                          - 0.0333838915901260371854597508 * $h14
                          + 0.0683733000371744420453623547 * $h16
                          + 0.1375600959781731469355747777 * $h15);
                      }
                      else {
                        return [&] {
                          if (eel2_eq ($idx, 5.)) {
                            return (
                              -0.0000013130145912945136275359 * $h31
                              - 0.0000045766934787663860988833 * $h0
                              + 0.0000073439443760792366905701 * $h30
                              + 0.0000162445946569879465801525 * $h1
                              - 0.0000229272977242405951142212 * $h29
                              - 0.0000424442055122803863376896 * $h2
                              + 0.0000560903708277947542562569 * $h28
                              + 0.0000935630488359698937912701 * $h3
                              - 0.0001185121436409100045611051 * $h27
                              - 0.0001840734075925766445244736 * $h4
                              + 0.0002261639754569758911043748 * $h26
                              + 0.0003331558875107856927677563 * $h5
                              - 0.0003999481657687324132402495 * $h25
                              - 0.0005654560596576519619985146 * $h6
                              + 0.0006665801863784329281056862 * $h24
                              + 0.0009124316699355662294013136 * $h7
                              - 0.0010603213855115130401923773 * $h23
                              - 0.0014153323471542266377004582 * $h8
                              + 0.0016269241021066927540411617 * $h22
                              + 0.0021321773335247766641142864 * $h9
                              - 0.0024329502999875947909236285 * $h21
                              - 0.0031545944797414429000559366 * $h10
                              + 0.0035886322644059901777746635 * $h20
                              + 0.0046512772851241019483881090 * $h11
                              - 0.0053090559209842420190783585 * $h19
                              - 0.0069965758337235794267483513 * $h12
                              + 0.0081077644703959755867472836 * $h18
                              + 0.0112579594474530118169974813 * $h13
                              - 0.0136265521459370854417958441 * $h17
                              - 0.0221919713131508364312161063 * $h14
                              + 0.0314400272193331165038188146 * $h16
                              + 0.1590763343355732495343346500 * $h15);
                          }
                          else {
                            return 0. / 0.;
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample7 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000028337632 * ($h0 + $h32)
          + 0.0000000000000000000540060788 * ($h1 + $h31)
          - 0.0000000000000000002928362962 * ($h2 + $h30)
          + 0.0000000000000000004312472883 * ($h3 + $h29)
          - 0.0000000000000000002656731776 * ($h4 + $h28)
          + 0.0000000000000000017157228399 * ($h5 + $h27)
          - 0.0000000000000000029920347837 * ($h6 + $h26)
          + 0.0000000000000000011607911284 * ($h7 + $h25)
          - 0.0000000000000000016528385620 * ($h8 + $h24)
          + 0.0000000000000000114761887554 * ($h9 + $h23)
          - 0.0000000000000000028696019605 * ($h10 + $h22)
          + 0.0000000000000000137779340416 * ($h11 + $h21)
          - 0.0000000000000000041716370752 * ($h12 + $h20)
          + 0.0000000000000000047387421986 * ($h13 + $h19)
          - 0.0000000000000000051850510913 * ($h14 + $h18)
          + 0.0000000000000000054705623693 * ($h15 + $h17)
          + 0.1428571428571428492126926812 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000009216163905494045722593 * $h0
              - 0.0000035291979415113102401481 * $h31
              + 0.0000052919032927216100019199 * $h1
              + 0.0000123958706921492685588179 * $h30
              - 0.0000166540129366328577462629 * $h2
              - 0.0000322235527615813324275179 * $h29
              + 0.0000409201899831446077584682 * $h3
              + 0.0000708053129213741803179433 * $h28
              - 0.0000867068814117001569015050 * $h4
              - 0.0001389836178512661554913799 * $h27
              + 0.0001658122848563750508388975 * $h5
              + 0.0002511144059100562536158974 * $h26
              - 0.0002936898920988913674542942 * $h6
              - 0.0004256352483052204603401758 * $h25
              + 0.0004900966398705362001356201 * $h7
              + 0.0006860848810972315246423103 * $h24
              - 0.0007803579819763274780936024 * $h8
              - 0.0010633640942445924011672265 * $h23
              + 0.0011982436734402183986514245 * $h9
              + 0.0016010335807077485676536144 * $h22
              - 0.0017927564657956164377583530 * $h10
              - 0.0023681119238136930787996803 * $h21
              + 0.0026447638629933270353056241 * $h11
              + 0.0034921809684760308188644640 * $h20
              - 0.0039113827965556041688088840 * $h12
              - 0.0052577752274794416556535914 * $h19
              + 0.0059656942323318851856273071 * $h13
              + 0.0084823175454419585950205374 * $h18
              - 0.0099897750993028482796587397 * $h14
              - 0.0168668147466190382344208842 * $h17
              + 0.0227192372722485741443065876 * $h15
              + 0.1380593641728841691751483722 * $h16);
          }
          else {
            return [&] {
              if (eel2_eq ($idx, 2.)) {
                return (
                  -0.0000023056658627698541076635 * $h0
                  - 0.0000050891494452033029534778 * $h31
                  + 0.0000114877644211315289136206 * $h1
                  + 0.0000191104631386301232010092 * $h30
                  - 0.0000345272925086780559035711 * $h2
                  - 0.0000512749277693074691111645 * $h29
                  + 0.0000827178714405936102048097 * $h3
                  + 0.0001149102035842205631359023 * $h28
                  - 0.0001723539708339743366412311 * $h4
                  - 0.0002287177507233066251456088 * $h27
                  + 0.0003255815601830407135519607 * $h5
                  + 0.0004176077282406142027020024 * $h26
                  - 0.0005712689305005380505445012 * $h6
                  - 0.0007136696604607006702916672 * $h25
                  + 0.0009462690062738290204188973 * $h7
                  + 0.0011578315711606287832097228 * $h24
                  - 0.0014979701011105211582580266 * $h8
                  - 0.0018034764393366578029420655 * $h23
                  + 0.0022901459526252104272059373 * $h9
                  + 0.0027248832800737489076570164 * $h22
                  - 0.0034168166415133641687640331 * $h10
                  - 0.0040374977682065471204508889 * $h21
                  + 0.0050364975077381779131058259 * $h11
                  + 0.0059496745483291358508326496 * $h20
                  - 0.0074652516214652716100563801 * $h12
                  - 0.0089125999900665549974254631 * $h19
                  + 0.0114792754733474382244917678 * $h13
                  + 0.0141675364477254431966324333 * $h18
                  - 0.0196798459780563698984234833 * $h14
                  - 0.0268493210130021989212600886 * $h17
                  + 0.0493231366585765024224130570 * $h15
                  + 0.1242518090095610094891753761 * $h16);
              }
              else {
                return [&] {
                  if (eel2_eq ($idx, 3.)) {
                    return (
                      -0.0000038417389529282175070538 * $h0
                      - 0.0000049913017360818245649881 * $h31
                      + 0.0000171034027145189642846960 * $h1
                      + 0.0000202598378664954129600197 * $h30
                      - 0.0000493180721931350330485694 * $h2
                      - 0.0000562616150274062706208682 * $h29
                      + 0.0001153907318793145767368835 * $h3
                      + 0.0001287472023828216752261433 * $h28
                      - 0.0002366195985770357893690496 * $h4
                      - 0.0002600153729756948675980177 * $h27
                      + 0.0004417469989478828773163399 * $h5
                      + 0.0004799571766397800996750700 * $h26
                      - 0.0007680759573169227902300626 * $h6
                      - 0.0008272135371227355401038683 * $h25
                      + 0.0012631838352285132756613883 * $h7
                      + 0.0013510528475350871892984861 * $h24
                      - 0.0019884895270683468349037781 * $h8
                      - 0.0021153789039776993430308494 * $h23
                      + 0.0030274929251044471571752137 * $h9
                      + 0.0032080415540193178529360107 * $h22
                      - 0.0045053751276789384336285416 * $h10
                      - 0.0047630834256236339804835289 * $h21
                      + 0.0066378972017938041305651353 * $h11
                      + 0.0070168447237937215180125783 * $h20
                      - 0.0098668871393735712443939789 * $h12
                      - 0.0104667799331977975224594601 * $h19
                      + 0.0153166468500505557198687612 * $h13
                      + 0.0164274034804239160711958334 * $h18
                      - 0.0269968600415785263402224103 * $h14
                      - 0.0299247119219566287684486383 * $h17
                      + 0.0771329265309410178064197794 * $h15
                      + 0.1031056515787995148114575272 * $h16);
                  }
                  else {
                    return [&] {
                      if (eel2_eq ($idx, 4.)) {
                        return (
                          -0.0000038417389529282175070538 * $h31
                          - 0.0000049913017360818245649881 * $h0
                          + 0.0000171034027145189642846960 * $h30
                          + 0.0000202598378664954129600197 * $h1
                          - 0.0000493180721931350330485694 * $h29
                          - 0.0000562616150274062706208682 * $h2
                          + 0.0001153907318793145767368835 * $h28
                          + 0.0001287472023828216752261433 * $h3
                          - 0.0002366195985770357893690496 * $h27
                          - 0.0002600153729756948675980177 * $h4
                          + 0.0004417469989478828773163399 * $h26
                          + 0.0004799571766397800996750700 * $h5
                          - 0.0007680759573169227902300626 * $h25
                          - 0.0008272135371227355401038683 * $h6
                          + 0.0012631838352285132756613883 * $h24
                          + 0.0013510528475350871892984861 * $h7
                          - 0.0019884895270683468349037781 * $h23
                          - 0.0021153789039776993430308494 * $h8
                          + 0.0030274929251044471571752137 * $h22
                          + 0.0032080415540193178529360107 * $h9
                          - 0.0045053751276789384336285416 * $h21
                          - 0.0047630834256236339804835289 * $h10
                          + 0.0066378972017938041305651353 * $h20
                          + 0.0070168447237937215180125783 * $h11
                          - 0.0098668871393735712443939789 * $h19
                          - 0.0104667799331977975224594601 * $h12
                          + 0.0153166468500505557198687612 * $h18
                          + 0.0164274034804239160711958334 * $h13
                          - 0.0269968600415785263402224103 * $h17
                          - 0.0299247119219566287684486383 * $h14
                          + 0.0771329265309410178064197794 * $h16
                          + 0.1031056515787995148114575272 * $h15);
                      }
                      else {
                        return [&] {
                          if (eel2_eq ($idx, 5.)) {
                            return (
                              -0.0000023056658627698541076635 * $h31
                              - 0.0000050891494452033029534778 * $h0
                              + 0.0000114877644211315289136206 * $h30
                              + 0.0000191104631386301232010092 * $h1
                              - 0.0000345272925086780559035711 * $h29
                              - 0.0000512749277693074691111645 * $h2
                              + 0.0000827178714405936102048097 * $h28
                              + 0.0001149102035842205631359023 * $h3
                              - 0.0001723539708339743366412311 * $h27
                              - 0.0002287177507233066251456088 * $h4
                              + 0.0003255815601830407135519607 * $h26
                              + 0.0004176077282406142027020024 * $h5
                              - 0.0005712689305005380505445012 * $h25
                              - 0.0007136696604607006702916672 * $h6
                              + 0.0009462690062738290204188973 * $h24
                              + 0.0011578315711606287832097228 * $h7
                              - 0.0014979701011105211582580266 * $h23
                              - 0.0018034764393366578029420655 * $h8
                              + 0.0022901459526252104272059373 * $h22
                              + 0.0027248832800737489076570164 * $h9
                              - 0.0034168166415133641687640331 * $h21
                              - 0.0040374977682065471204508889 * $h10
                              + 0.0050364975077381779131058259 * $h20
                              + 0.0059496745483291358508326496 * $h11
                              - 0.0074652516214652716100563801 * $h19
                              - 0.0089125999900665549974254631 * $h12
                              + 0.0114792754733474382244917678 * $h18
                              + 0.0141675364477254431966324333 * $h13
                              - 0.0196798459780563698984234833 * $h17
                              - 0.0268493210130021989212600886 * $h14
                              + 0.0493231366585765024224130570 * $h16
                              + 0.1242518090095610094891753761 * $h15);
                          }
                          else {
                            return [&] {
                              if (eel2_eq ($idx, 6.)) {
                                return (
                                  -0.0000009216163905494045722593 * $h31
                                  - 0.0000035291979415113102401481 * $h0
                                  + 0.0000052919032927216100019199 * $h30
                                  + 0.0000123958706921492685588179 * $h1
                                  - 0.0000166540129366328577462629 * $h29
                                  - 0.0000322235527615813324275179 * $h2
                                  + 0.0000409201899831446077584682 * $h28
                                  + 0.0000708053129213741803179433 * $h3
                                  - 0.0000867068814117001569015050 * $h27
                                  - 0.0001389836178512661554913799 * $h4
                                  + 0.0001658122848563750508388975 * $h26
                                  + 0.0002511144059100562536158974 * $h5
                                  - 0.0002936898920988913674542942 * $h25
                                  - 0.0004256352483052204603401758 * $h6
                                  + 0.0004900966398705362001356201 * $h24
                                  + 0.0006860848810972315246423103 * $h7
                                  - 0.0007803579819763274780936024 * $h23
                                  - 0.0010633640942445924011672265 * $h8
                                  + 0.0011982436734402183986514245 * $h22
                                  + 0.0016010335807077485676536144 * $h9
                                  - 0.0017927564657956164377583530 * $h21
                                  - 0.0023681119238136930787996803 * $h10
                                  + 0.0026447638629933270353056241 * $h20
                                  + 0.0034921809684760308188644640 * $h11
                                  - 0.0039113827965556041688088840 * $h19
                                  - 0.0052577752274794416556535914 * $h12
                                  + 0.0059656942323318851856273071 * $h18
                                  + 0.0084823175454419585950205374 * $h13
                                  - 0.0099897750993028482796587397 * $h17
                                  - 0.0168668147466190382344208842 * $h14
                                  + 0.0227192372722485741443065876 * $h16
                                  + 0.1380593641728841691751483722 * $h15);
                              }
                              else {
                                return 0. / 0.;
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  //----------------------------------------------------------------------------
  double init$upsample8 (
    double& $idx,
    double& $h0,
    double& $h32,
    double& $h1,
    double& $h31,
    double& $h2,
    double& $h30,
    double& $h3,
    double& $h29,
    double& $h4,
    double& $h28,
    double& $h5,
    double& $h27,
    double& $h6,
    double& $h26,
    double& $h7,
    double& $h25,
    double& $h8,
    double& $h24,
    double& $h9,
    double& $h23,
    double& $h10,
    double& $h22,
    double& $h11,
    double& $h21,
    double& $h12,
    double& $h20,
    double& $h13,
    double& $h19,
    double& $h14,
    double& $h18,
    double& $h15,
    double& $h17,
    double& $h16)
  {
    $idx += 1.;
    return [&] {
      if (eel2_eq ($idx, 0.)) {
        return (
          -0.0000000000000000000024795428 * ($h0 + $h32)
          + 0.0000000000000000000472553190 * ($h1 + $h31)
          - 0.0000000000000000000498088559 * ($h2 + $h30)
          - 0.0000000000000000001438053045 * ($h3 + $h29)
          - 0.0000000000000000002324640304 * ($h4 + $h28)
          + 0.0000000000000000015012574849 * ($h5 + $h27)
          - 0.0000000000000000006711159034 * ($h6 + $h26)
          + 0.0000000000000000010156922373 * ($h7 + $h25)
          - 0.0000000000000000014462337417 * ($h8 + $h24)
          + 0.0000000000000000019519978868 * ($h9 + $h23)
          - 0.0000000000000000025109017154 * ($h10 + $h22)
          + 0.0000000000000000030904021244 * ($h11 + $h21)
          - 0.0000000000000000036501824408 * ($h12 + $h20)
          + 0.0000000000000000041463994238 * ($h13 + $h19)
          - 0.0000000000000000045369197049 * ($h14 + $h18)
          + 0.0000000000000000047867420732 * ($h15 + $h17)
          + 0.1250000000000000000000000000 * $h16);
      }
      else {
        return [&] {
          if (eel2_eq ($idx, 1.)) {
            return (
              -0.0000006803148294403403240085 * $h0
              - 0.0000027976177647387653767326 * $h31
              + 0.0000039872596009206984652437 * $h1
              + 0.0000097507875923091769565423 * $h30
              - 0.0000126251762581024824187020 * $h2
              - 0.0000252519656178402472754187 * $h29
              + 0.0000311231272746631258446955 * $h3
              + 0.0000553542435157647824141812 * $h28
              - 0.0000660902200866433941518763 * $h4
              - 0.0001084705085018196140615038 * $h27
              + 0.0001265847230504769471790688 * $h5
              + 0.0001957317937978928824600128 * $h26
              - 0.0002244787857641317000995801 * $h6
              - 0.0003314289517209756679057275 * $h25
              + 0.0003749540685660616165866821 * $h7
              + 0.0005338098045430211780956742 * $h24
              - 0.0005974646196974044186703279 * $h8
              - 0.0008268502619856007073914639 * $h23
              + 0.0009179229478490426872086538 * $h9
              + 0.0012444064867506224314475105 * $h22
              - 0.0013738582340210904204208520 * $h10
              - 0.0018402530380006477950249888 * $h21
              + 0.0020270410001706328645409982 * $h11
              + 0.0027140953073984757336345464 * $h20
              - 0.0029971025945027254464014810 * $h12
              - 0.0040891358023439072777449610 * $h19
              + 0.0045669535926136251707818658 * $h13
              + 0.0066102333763929837021078306 * $h18
              - 0.0076270396172587791999708529 * $h14
              - 0.0132330629227923185498028147 * $h17
              + 0.0171661936069081241806877358 * $h15
              + 0.1217780739691688707271310932 * $h16);
          }
          else {
            return [&] {
              if (eel2_eq ($idx, 2.)) {
                return (
                  -0.0000016878615713457110004741 * $h0
                  - 0.0000042644547466971042550508 * $h31
                  + 0.0000086852048459848934646322 * $h1
                  + 0.0000157338256917918116364451 * $h30
                  - 0.0000263938281141404454236982 * $h2
                  - 0.0000418723889793229557608305 * $h29
                  + 0.0000636231004463845648683185 * $h3
                  + 0.0000933673674062485749744825 * $h28
                  - 0.0001331147269754704765866438 * $h4
                  - 0.0001851826981371344370188442 * $h27
                  + 0.0002522177457438689479087002 * $h5
                  + 0.0003372197178938211967365313 * $h26
                  - 0.0004435737224490943122340303 * $h6
                  - 0.0005750949855954497159579719 * $h25
                  + 0.0007360957813070443224792716 * $h7
                  + 0.0009314865780958819611867749 * $h24
                  - 0.0011669308174394052782241182 * $h8
                  - 0.0014490822452257363928129763 * $h23
                  + 0.0017859505793010185207420060 * $h9
                  + 0.0021874679775906471189406144 * $h22
                  - 0.0026663826946624288351250787 * $h10
                  - 0.0032396929722074605494108734 * $h21
                  + 0.0039310202882702543689119601 * $h11
                  + 0.0047746895751997310911041161 * $h20
                  - 0.0058231027226569032073655308 * $h12
                  - 0.0071609418487707261063990316 * $h19
                  + 0.0089348810419893238965460824 * $h13
                  + 0.0114229127110041708131893401 * $h18
                  - 0.0152224937813932176267073260 * $h14
                  - 0.0218901744962703079244725757 * $h17
                  + 0.0371395779530556482961323184 * $h15
                  + 0.1124145083693663671464690879 * $h16);
              }
              else {
                return [&] {
                  if (eel2_eq ($idx, 3.)) {
                    return (
                      -0.0000028681134349177630976982 * $h0
                      - 0.0000045389867265569728643987 * $h31
                      + 0.0000132827546779635278568392 * $h1
                      + 0.0000178674632702761483995547 * $h30
                      - 0.0000388824361638155527407662 * $h2
                      - 0.0000489646661868617930806272 * $h29
                      + 0.0000917682144134630920764492 * $h3
                      + 0.0001111586126348065953770364 * $h28
                      - 0.0001892936360503736574305289 * $h4
                      - 0.0002232547031576829999963141 * $h27
                      + 0.0003549389116972150189609214 * $h5
                      + 0.0004104001176654410308793086 * $h26
                      - 0.0006192262890162011186243052 * $h6
                      - 0.0007050588799140777417767678 * $h25
                      + 0.0010210953324857666418140623 * $h7
                      + 0.0011486254180071819430003499 * $h24
                      - 0.0016107356205013140335730037 * $h8
                      - 0.0017948976374194869267547636 * $h23
                      + 0.0024561134720910799897342081 * $h9
                      + 0.0027181601816018427855703443 * $h22
                      - 0.0036584740147181330632841778 * $h10
                      - 0.0040325334106176800863519105 * $h21
                      + 0.0053908712726001449186408188 * $h11
                      + 0.0059409842974412338176271042 * $h20
                      - 0.0080041219695127872185702600 * $h12
                      - 0.0088752483712328505277566748 * $h19
                      + 0.0123789089831678692649186146 * $h13
                      + 0.0139931707668577622744043865 * $h18
                      - 0.0215812481641791537034791304 * $h14
                      - 0.0258490393089624570510665080 * $h17
                      + 0.0584086617290817261549662476 * $h15
                      + 0.0977817739001537733489755055 * $h16);
                  }
                  else {
                    return [&] {
                      if (eel2_eq ($idx, 4.)) {
                        return (
                          -0.0000039421004769007114912761 * ($h0 + $h31)
                          + 0.0000167224097929462299538025 * ($h1 + $h30)
                          - 0.0000472997476595074615047382 * ($h2 + $h29)
                          + 0.0001094282094774080588573534 * ($h3 + $h28)
                          - 0.0002226696266284176580277365 * ($h4 + $h27)
                          + 0.0004133332925039939482851625 * ($h5 + $h26)
                          - 0.0007154952680716239465930073 * ($h6 + $h25)
                          + 0.0011726070564972029559164257 * ($h7 + $h24)
                          - 0.0018408885034394330965090703 * ($h8 + $h23)
                          + 0.0027971883044523668943037720 * ($h9 + $h22)
                          - 0.0041577229836155266823327636 * ($h10 + $h21)
                          + 0.0061250733382556855899370163 * ($h11 + $h20)
                          - 0.0091197713239062373757892743 * ($h12 + $h19)
                          + 0.0142319802426614707563379270 * ($h13 + $h18)
                          - 0.0254832086874689986433217825 * ($h14 + $h17)
                          + 0.0792243581838370930503501199 * ($h15 + $h16));
                      }
                      else {
                        return [&] {
                          if (eel2_eq ($idx, 5.)) {
                            return (
                              -0.0000028681134349177630976982 * $h31
                              - 0.0000045389867265569728643987 * $h0
                              + 0.0000132827546779635278568392 * $h30
                              + 0.0000178674632702761483995547 * $h1
                              - 0.0000388824361638155527407662 * $h29
                              - 0.0000489646661868617930806272 * $h2
                              + 0.0000917682144134630920764492 * $h28
                              + 0.0001111586126348065953770364 * $h3
                              - 0.0001892936360503736574305289 * $h27
                              - 0.0002232547031576829999963141 * $h4
                              + 0.0003549389116972150189609214 * $h26
                              + 0.0004104001176654410308793086 * $h5
                              - 0.0006192262890162011186243052 * $h25
                              - 0.0007050588799140777417767678 * $h6
                              + 0.0010210953324857666418140623 * $h24
                              + 0.0011486254180071819430003499 * $h7
                              - 0.0016107356205013140335730037 * $h23
                              - 0.0017948976374194869267547636 * $h8
                              + 0.0024561134720910799897342081 * $h22
                              + 0.0027181601816018427855703443 * $h9
                              - 0.0036584740147181330632841778 * $h21
                              - 0.0040325334106176800863519105 * $h10
                              + 0.0053908712726001449186408188 * $h20
                              + 0.0059409842974412338176271042 * $h11
                              - 0.0080041219695127872185702600 * $h19
                              - 0.0088752483712328505277566748 * $h12
                              + 0.0123789089831678692649186146 * $h18
                              + 0.0139931707668577622744043865 * $h13
                              - 0.0215812481641791537034791304 * $h17
                              - 0.0258490393089624570510665080 * $h14
                              + 0.0584086617290817261549662476 * $h16
                              + 0.0977817739001537733489755055 * $h15);
                          }
                          else {
                            return [&] {
                              if (eel2_eq ($idx, 6.)) {
                                return (
                                  -0.0000016878615713457110004741 * $h31
                                  - 0.0000042644547466971042550508 * $h0
                                  + 0.0000086852048459848934646322 * $h30
                                  + 0.0000157338256917918116364451 * $h1
                                  - 0.0000263938281141404454236982 * $h29
                                  - 0.0000418723889793229557608305 * $h2
                                  + 0.0000636231004463845648683185 * $h28
                                  + 0.0000933673674062485749744825 * $h3
                                  - 0.0001331147269754704765866438 * $h27
                                  - 0.0001851826981371344370188442 * $h4
                                  + 0.0002522177457438689479087002 * $h26
                                  + 0.0003372197178938211967365313 * $h5
                                  - 0.0004435737224490943122340303 * $h25
                                  - 0.0005750949855954497159579719 * $h6
                                  + 0.0007360957813070443224792716 * $h24
                                  + 0.0009314865780958819611867749 * $h7
                                  - 0.0011669308174394052782241182 * $h23
                                  - 0.0014490822452257363928129763 * $h8
                                  + 0.0017859505793010185207420060 * $h22
                                  + 0.0021874679775906471189406144 * $h9
                                  - 0.0026663826946624288351250787 * $h21
                                  - 0.0032396929722074605494108734 * $h10
                                  + 0.0039310202882702543689119601 * $h20
                                  + 0.0047746895751997310911041161 * $h11
                                  - 0.0058231027226569032073655308 * $h19
                                  - 0.0071609418487707261063990316 * $h12
                                  + 0.0089348810419893238965460824 * $h18
                                  + 0.0114229127110041708131893401 * $h13
                                  - 0.0152224937813932176267073260 * $h17
                                  - 0.0218901744962703079244725757 * $h14
                                  + 0.0371395779530556482961323184 * $h16
                                  + 0.1124145083693663671464690879 * $h15);
                              }
                              else {
                                return [&] {
                                  if (eel2_eq ($idx, 7.)) {
                                    return (
                                      -0.0000006803148294403403240085 * $h31
                                      - 0.0000027976177647387653767326 * $h0
                                      + 0.0000039872596009206984652437 * $h30
                                      + 0.0000097507875923091769565423 * $h1
                                      - 0.0000126251762581024824187020 * $h29
                                      - 0.0000252519656178402472754187 * $h2
                                      + 0.0000311231272746631258446955 * $h28
                                      + 0.0000553542435157647824141812 * $h3
                                      - 0.0000660902200866433941518763 * $h27
                                      - 0.0001084705085018196140615038 * $h4
                                      + 0.0001265847230504769471790688 * $h26
                                      + 0.0001957317937978928824600128 * $h5
                                      - 0.0002244787857641317000995801 * $h25
                                      - 0.0003314289517209756679057275 * $h6
                                      + 0.0003749540685660616165866821 * $h24
                                      + 0.0005338098045430211780956742 * $h7
                                      - 0.0005974646196974044186703279 * $h23
                                      - 0.0008268502619856007073914639 * $h8
                                      + 0.0009179229478490426872086538 * $h22
                                      + 0.0012444064867506224314475105 * $h9
                                      - 0.0013738582340210904204208520 * $h21
                                      - 0.0018402530380006477950249888 * $h10
                                      + 0.0020270410001706328645409982 * $h20
                                      + 0.0027140953073984757336345464 * $h11
                                      - 0.0029971025945027254464014810 * $h19
                                      - 0.0040891358023439072777449610 * $h12
                                      + 0.0045669535926136251707818658 * $h18
                                      + 0.0066102333763929837021078306 * $h13
                                      - 0.0076270396172587791999708529 * $h17
                                      - 0.0132330629227923185498028147 * $h14
                                      + 0.0171661936069081241806877358 * $h16
                                      + 0.1217780739691688707271310932 * $h15);
                                  }
                                  else {
                                    return 0. / 0.;
                                  }
                                }();
                              }
                            }();
                          }
                        }();
                      }
                    }();
                  }
                }();
              }
            }();
          }
        }();
      }
    }();
  }
  // functions for section "block"
private:
  //----------------------------------------------------------------------------
  double block$processsample()
  {
    double g = 0.;
    if (linkstereo) {
      if (eel2_eq (topology, 0.)) {
        (g = init$compressor (
           std::max (std::abs (inl), std::abs (inr)),
           cl$xg,
           cl$yl,
           cl$at,
           cl$ya,
           cl$rt,
           cl$c,
           cl$outgain,
           cl$makeup,
           cl$thresh,
           cl$kwidth,
           cl$quadf,
           cl$iratio));
      }
      else {
        if (eel2_eq (topology, 1.)) {
          (g = init$compressor2 (
             std::max (std::abs (inl), std::abs (inr)),
             cl$xg,
             cl$yl,
             cl$at,
             cl$rt,
             cl$c,
             cl$outgain,
             cl$makeup,
             cl$thresh,
             cl$kwidth,
             cl$quadf,
             cl$iratio));
        }
        else {
          if (eel2_eq (topology, 2.)) {
            (g = init$compressor_dc (
               std::max (std::abs (inl), std::abs (inr)),
               cl$xg,
               cl$yl,
               cl$at,
               cl$rt,
               cl$c,
               cl$outgain,
               cl$makeup,
               cl$thresh,
               cl$kwidth,
               cl$quadf,
               cl$iratio));
          }
          else {
            if (eel2_eq (topology, 3.)) {
              (g = init$compressor2_dc (
                 std::max (std::abs (inl), std::abs (inr)),
                 cl$xg,
                 cl$yl,
                 cl$at,
                 cl$rt,
                 cl$c,
                 cl$outgain,
                 cl$makeup,
                 cl$thresh,
                 cl$kwidth,
                 cl$quadf,
                 cl$iratio));
            }
          }
        }
      }
      outl = g * inl;
      outr = g * inr;
    }
    else {
      if (eel2_eq (topology, 0.)) {
        outl = init$compressor (
                 inl,
                 cl$xg,
                 cl$yl,
                 cl$at,
                 cl$ya,
                 cl$rt,
                 cl$c,
                 cl$outgain,
                 cl$makeup,
                 cl$thresh,
                 cl$kwidth,
                 cl$quadf,
                 cl$iratio)
          * inl;
        outr = init$compressor (
                 inr,
                 cr$xg,
                 cr$yl,
                 cr$at,
                 cr$ya,
                 cr$rt,
                 cr$c,
                 cr$outgain,
                 cr$makeup,
                 cr$thresh,
                 cr$kwidth,
                 cr$quadf,
                 cr$iratio)
          * inr;
      }
      else {
        if (eel2_eq (topology, 1.)) {
          outl = init$compressor2 (
                   inl,
                   cl$xg,
                   cl$yl,
                   cl$at,
                   cl$rt,
                   cl$c,
                   cl$outgain,
                   cl$makeup,
                   cl$thresh,
                   cl$kwidth,
                   cl$quadf,
                   cl$iratio)
            * inl;
          outr = init$compressor2 (
                   inr,
                   cr$xg,
                   cr$yl,
                   cr$at,
                   cr$rt,
                   cr$c,
                   cr$outgain,
                   cr$makeup,
                   cr$thresh,
                   cr$kwidth,
                   cr$quadf,
                   cr$iratio)
            * inr;
        }
        else {
          if (eel2_eq (topology, 2.)) {
            outl = init$compressor_dc (
                     inl,
                     cl$xg,
                     cl$yl,
                     cl$at,
                     cl$rt,
                     cl$c,
                     cl$outgain,
                     cl$makeup,
                     cl$thresh,
                     cl$kwidth,
                     cl$quadf,
                     cl$iratio)
              * inl;
            outr = init$compressor_dc (
                     inr,
                     cr$xg,
                     cr$yl,
                     cr$at,
                     cr$rt,
                     cr$c,
                     cr$outgain,
                     cr$makeup,
                     cr$thresh,
                     cr$kwidth,
                     cr$quadf,
                     cr$iratio)
              * inr;
          }
          else {
            if (eel2_eq (topology, 3.)) {
              outl = init$compressor2_dc (
                       inl,
                       cl$xg,
                       cl$yl,
                       cl$at,
                       cl$rt,
                       cl$c,
                       cl$outgain,
                       cl$makeup,
                       cl$thresh,
                       cl$kwidth,
                       cl$quadf,
                       cl$iratio)
                * inl;
              outr = init$compressor2_dc (
                       inr,
                       cr$xg,
                       cr$yl,
                       cr$at,
                       cr$rt,
                       cr$c,
                       cr$outgain,
                       cr$makeup,
                       cr$thresh,
                       cr$kwidth,
                       cr$quadf,
                       cr$iratio)
                * inr;
            }
          }
        }
      }
    }
    outl = inl * (1. - drywet) + outl * drywet;
    outr = inr * (1. - drywet) + outr * drywet;
    return outr;
  }
}; /* jsfx_process */

}} // namespace artv::saike
